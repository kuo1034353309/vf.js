{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./node_modules/eventemitter3/index.js","webpack:///./packages/assets/Assets.ts","webpack:///./packages/player/src/Player.ts","webpack:///./packages/player/src/core/BaseInfo.ts","webpack:///./packages/player/src/core/Config.ts","webpack:///./packages/player/src/core/I18N.ts","webpack:///./packages/player/src/core/RES.ts","webpack:///./packages/player/src/core/VariableManager.ts","webpack:///./packages/player/src/core/actionTask/ActionList.ts","webpack:///./packages/player/src/core/actionTask/AddListenerCallTask.ts","webpack:///./packages/player/src/core/actionTask/AddListenerTask.ts","webpack:///./packages/player/src/core/actionTask/ArrayConcatTask.ts","webpack:///./packages/player/src/core/actionTask/ArrayInitTask.ts","webpack:///./packages/player/src/core/actionTask/ArrayPopTask.ts","webpack:///./packages/player/src/core/actionTask/ArrayPushTask.ts","webpack:///./packages/player/src/core/actionTask/ArrayRandomTask.ts","webpack:///./packages/player/src/core/actionTask/ArrayShiftTask.ts","webpack:///./packages/player/src/core/actionTask/ArraySpliceTask.ts","webpack:///./packages/player/src/core/actionTask/ArrayUnshiftTask.ts","webpack:///./packages/player/src/core/actionTask/BreakTask.ts","webpack:///./packages/player/src/core/actionTask/CallFunctionTask.ts","webpack:///./packages/player/src/core/actionTask/CallProtoFunctionTask.ts","webpack:///./packages/player/src/core/actionTask/DefineFunctionTask.ts","webpack:///./packages/player/src/core/actionTask/DefineVariableTask.ts","webpack:///./packages/player/src/core/actionTask/EmitEventTask.ts","webpack:///./packages/player/src/core/actionTask/EnterFrameTask.ts","webpack:///./packages/player/src/core/actionTask/ExpressTask.ts","webpack:///./packages/player/src/core/actionTask/ForTask.ts","webpack:///./packages/player/src/core/actionTask/FunctionTask.ts","webpack:///./packages/player/src/core/actionTask/IfTask.ts","webpack:///./packages/player/src/core/actionTask/JumpToNextSceneTask.ts","webpack:///./packages/player/src/core/actionTask/JumpToPrevSceneTask.ts","webpack:///./packages/player/src/core/actionTask/JumpToSceneTask.ts","webpack:///./packages/player/src/core/actionTask/PlayAnimationTask.ts","webpack:///./packages/player/src/core/actionTask/PrintTask.ts","webpack:///./packages/player/src/core/actionTask/RemoveListenerTask.ts","webpack:///./packages/player/src/core/actionTask/SetIntervalTask.ts","webpack:///./packages/player/src/core/actionTask/SetPropertyTask.ts","webpack:///./packages/player/src/core/actionTask/SetTimeoutTask.ts","webpack:///./packages/player/src/core/actionTask/SoundTask.ts","webpack:///./packages/player/src/core/actionTask/WaitTask.ts","webpack:///./packages/player/src/core/actionTask/core/ActionListUtils.ts","webpack:///./packages/player/src/core/actionTask/core/BaseTask.ts","webpack:///./packages/player/src/core/actionTask/core/ContainerTask.ts","webpack:///./packages/player/src/core/actionTask/core/QueueTask.ts","webpack:///./packages/player/src/core/animation/Animation.ts","webpack:///./packages/player/src/core/animation/AnimationClip.ts","webpack:///./packages/player/src/core/animation/BooleanFrame.ts","webpack:///./packages/player/src/core/animation/ColorFrame.ts","webpack:///./packages/player/src/core/animation/EventFrame.ts","webpack:///./packages/player/src/core/animation/EventTimeline.ts","webpack:///./packages/player/src/core/animation/Frame.ts","webpack:///./packages/player/src/core/animation/NumberFrame.ts","webpack:///./packages/player/src/core/animation/StringFrame.ts","webpack:///./packages/player/src/core/animation/Timeline.ts","webpack:///./packages/player/src/core/model/IVFData.ts","webpack:///./packages/player/src/core/transition/Tranistion.ts","webpack:///./packages/player/src/core/transition/filters/AbstractFilter.ts","webpack:///./packages/player/src/core/transition/filters/CircleFadeFilter.ts","webpack:///./packages/player/src/core/transition/filters/CrossFadeFilter.ts","webpack:///./packages/player/src/core/transition/filters/CrossZoomFilter.ts","webpack:///./packages/player/src/core/transition/filters/DoomScreenFilter.ts","webpack:///./packages/player/src/core/transition/filters/HeartWipeFilter.ts","webpack:///./packages/player/src/core/transition/filters/LinearBlurFilter.ts","webpack:///./packages/player/src/core/transition/filters/PageCurlFilter.ts","webpack:///./packages/player/src/core/transition/filters/PageFlipLeftFilter.ts","webpack:///./packages/player/src/core/transition/filters/PageFlipRightFilter.ts","webpack:///./packages/player/src/core/transition/filters/ToTearFilter.ts","webpack:///./packages/player/src/core/transition/filters/WindFilter.ts","webpack:///./packages/player/src/core/transition/trans/FadeoutTran.ts","webpack:///./packages/player/src/display/VFComponent.ts","webpack:///./packages/player/src/display/VFScene.ts","webpack:///./packages/player/src/display/VFStage.ts","webpack:///./packages/player/src/display/plugs/BoardDrawPlug.ts","webpack:///./packages/player/src/display/plugs/Plug.ts","webpack:///./packages/player/src/display/plugs/PlugIndex.ts","webpack:///./packages/player/src/display/plugs/SliderEditorPlug.ts","webpack:///./packages/player/src/error/ErrorDisplay.ts","webpack:///./packages/player/src/event/StateEvent.ts","webpack:///./packages/player/src/index.ts","webpack:///./packages/player/src/sound/SoundManager.ts","webpack:///./packages/player/src/utils/CalculatePlayerSize.ts","webpack:///./packages/player/src/utils/ImportScript.ts","webpack:///./packages/player/src/utils/Trace.ts","webpack:///./packages/player/src/utils/VFUtil.ts","webpack:///./packages/player/src/utils/getFileExtension.ts","webpack:///./packages/player/src/utils/getUrl.ts","webpack:///./packages/player/src/utils/readFileSync.ts"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;QCVA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;AClFa;;AAEb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,gBAAgB;AAC3B,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,gBAAgB;AAC3B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,yDAAyD,OAAO;AAChE;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,yCAAyC,SAAS;AAClD;AACA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA,eAAe,YAAY;AAC3B;;AAEA;AACA,2DAA2D;AAC3D,+DAA+D;AAC/D,mEAAmE;AACnE,uEAAuE;AACvE;AACA,0DAA0D,SAAS;AACnE;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,aAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,WAAW,QAAQ;AACnB,aAAa,aAAa;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,2DAA2D,YAAY;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,gBAAgB;AAC3B,aAAa,aAAa;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI,IAA6B;AACjC;AACA;;;;;;;;;;;;;AC9UA;AAAA;AAAA,kCAAkC;AAClC,2DAA2D;AAEpD,SAAS,YAAY,CAAC,aAAoB;IAC7C,QAAO,aAAa,EAAC;QACjB,KAAK,KAAK,CAAC;QACX,KAAK,KAAK,CAAC;QACX,KAAK,KAAK,CAAC;QACX,KAAK,KAAK,CAAC;QACX,KAAK,MAAM,CAAC;QACZ,KAAK,KAAK,CAAC;QACX,KAAK,MAAM,CAAC;QACZ,KAAK,MAAM,CAAC;QACZ,KAAK,KAAK,CAAC;QACX,KAAK,KAAK,CAAC;QACX,KAAK,SAAS;YACV,qBAAwB;QAC5B,KAAK,KAAK,CAAC;QACX,KAAK,KAAK,CAAC;QACX,KAAK,KAAK;YACN,qBAAwB;QAC5B,KAAK,KAAK,CAAC;QACX,KAAK,MAAM,CAAC;QACZ,KAAK,KAAK;YACN,qBAAwB;QAC5B,KAAK,MAAM;YACP,oBAAuB;QAC3B;YACI,uBAA0B;KAEjC;AACL,CAAC;AACD,oBAAoB;AAEpB,yCAAyC;AACzC,4DAA4D;AAC5D,sFAAsF;AACtF,oBAAoB;AACpB,yCAAyC;AACzC,yCAAyC;AACzC,yCAAyC;AACzC,yCAAyC;AACzC,yCAAyC;AACzC,yCAAyC;AACzC,yCAAyC;AACzC,yCAAyC;AACzC,yCAAyC;AACzC,yCAAyC;AACzC,8DAA8D;AAE9D,mBAAmB;AACnB,yCAAyC;AACzC,yCAAyC;AACzC,yCAAyC;AAEzC,oBAAoB;AACpB,yCAAyC;AACzC,yCAAyC;AACzC,yCAAyC;AACzC,QAAQ;AAER,iPAAiP;AACjP,yCAAyC;AACzC,sCAAsC;AACtC,wFAAwF;AACxF,0BAA0B;AAC1B,+BAA+B;AAC/B,gBAAgB;AAChB,YAAY;AACZ,kBAAkB;AAClB,QAAQ;AAGR,IAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1EJ,qEAAqE;AACrE,sDAAsD;AACtD,mCAAmC;AACS;AACwB;AACpB;AAIb;AAGa;AACA;AAIhD;IA4CI,gBAAY,OAAmB;QAuG/B;;WAEG;QACH,+CAA+C;QACxC,YAAO,GAAG,UAAC,GAAQ;YACtB,EAAE;QACN,CAAC,CAAC;QAEF;;WAEG;QACI,WAAM,GAAG;YACZ,EAAE;QACN,CAAC,CAAC;QAEF;;WAEG;QACI,YAAO,GAAG;YACb,EAAE;QACN,CAAC,CAAC;QAEF;;WAEG;QACI,kBAAa,GAAG;YACnB,EAAE;QACN,CAAC,CAAC;QAEF;;WAEG;QACI,cAAS,GAAG,UAAC,GAAW;YAC3B,EAAE;QACN,CAAC,CAAC;QAEF;;WAEG;QACI,cAAS,GAAG;YACf,EAAE;QACN,CAAC,CAAC;QA/IE,YAAY;QACZ,IAAI,CAAC,MAAM,GAAG,IAAI,oDAAM,CAAC,OAAO,CAAC,CAAC;QAClC,IAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;QAE3B,sCAAsC;QACtC,OAAO,CAAC,QAAQ,EAAE,CAAC;QAEnB,WAAW;QACX,oCAAoC;QACpC,IAAI,CAAC,GAAG,GAAG,IAAI,EAAE,CAAC,WAAW,CAAC;YAC1B,eAAe,EAAE,QAAQ,CAAC,MAAM,CAAC,OAAO,IAAI,GAAG,EAAE,EAAE,CAAC;YACpD,WAAW,EAAE,MAAM,CAAC,KAAK,KAAK,aAAa;YAC3C,SAAS,EAAE,IAAI;YACf,UAAU,EAAE,OAAO,CAAC,UAAU;SACjC,CAAC,CAAC;QAEH,IAAI,CAAC,SAAS,GAAG,IAAI,2DAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAE/C,IAAI,CAAC,eAAe,EAAE,CAAC;QAEvB,IAAI,CAAC,WAAW,oBAAmB,CAAC;QAEpC,sBAAsB;QACtB,IAAI,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE;YAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;SAAE;IACxD,CAAC;IA7CD,sBAAW,8BAAU;aAArB;YACI,OAAO,IAAI,CAAC,WAAW,CAAC;QAC5B,CAAC;aACD,UAAsB,KAAK;YACvB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;YACzB,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,wBAAmB,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,uBAAmB,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC,CAAC;QAC3G,CAAC;;;OAJA;IA6CY,qBAAI,GAAjB,UAAkB,GAAS;;;gBACvB,IAAI,IAAI,CAAC,WAAW,sBAAqB;uBAClC,IAAI,CAAC,WAAW,0BAAuB,EAAE;oBAC5C,IAAI,CAAC,MAAM,EAAE,CAAC;iBACjB;gBACD,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;;;;KACtB;IAEM,sBAAK,GAAZ;QACI,IAAI,IAAI,CAAC,KAAK,EAAE;YACZ,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;SACtB;IACL,CAAC;IAEM,uBAAM,GAAb;QACI,IAAI,IAAI,CAAC,KAAK,EAAE;YACZ,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;SACvB;IACL,CAAC;IAEM,sBAAK,GAAZ;QACI,IAAI,IAAI,CAAC,KAAK,EAAE;YACZ,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;SACtB;IACL,CAAC;IAEM,wBAAO,GAAd,UAAe,GAAW;QACtB,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,8BAAsB,GAAG,CAAC,CAAC;IAC3D,CAAC;IAEM,2BAAU,GAAjB,UAAkB,GAAW;QACzB,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;SACvB;IACL,CAAC;IAEM,kCAAiB,GAAxB,UAAyB,UAA4B;QACjD,IAAI,IAAI,CAAC,KAAK,EAAE;YACZ,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,UAAU,CAAC,CAAC;SAC5C;IACL,CAAC;IAEM,kCAAiB,GAAxB,UAAyB,UAA4B;QACjD,IAAI,IAAI,CAAC,KAAK,EAAE;YACZ,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,UAAU,CAAC,CAAC;SAC5C;IACL,CAAC;IAEM,gCAAe,GAAtB,UAAuB,OAAe,EAAE,UAA4B;QAChE,IAAI,IAAI,CAAC,KAAK,EAAE;YACZ,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;SACnD;IACL,CAAC;IAEM,wBAAO,GAAd,UAAe,UAAkB;QAAlB,+CAAkB;QAC7B,IAAI,IAAI,CAAC,UAAU,8BAAyB,EAAE;YAC1C,OAAO;SACV;QACD,kBAAkB;QAClB,wBAAwB;QACxB,IAAI;QAEJ,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,kBAAkB,EAAE,CAAC;QAE7C,IAAI,IAAI,CAAC,KAAK,EAAE;YACZ,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;SACxB;QAED,IAAI,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE;YAC5B,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC,CAAC;SACtF;QAED,IAAI,CAAC,SAAS,EAAE,CAAC;QACjB,IAAI,CAAC,UAAU,4BAAuB,CAAC;IAC3C,CAAC;IA6CO,gCAAe,GAAvB;QACI,IAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC;QAEtC,KAAK,CAAC,EAAE,0BAAoB,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;QACpD,KAAK,CAAC,EAAE,wBAAmB,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IACpD,CAAC;IAEO,uBAAM,GAAd;QACI,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,kBAAkB,EAAE,CAAC;QAE7C,IAAI,IAAI,CAAC,KAAK,EAAE;YACZ,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;SACxB;QAED,IAAI,IAAI,CAAC,GAAG,EAAE;YACV,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC,CAAC;SAChF;QAED,IAAI,CAAC,eAAe,EAAE,CAAC;IAC3B,CAAC;IAED;;;;;;OAMG;IACW,sBAAK,GAAnB;;;;gBACI,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;oBAAE,sBAAO;iBAAE;gBACtB,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;gBACrB,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC;gBAExB,SAAS;gBACT,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,MAAM,EAAE;oBAC3B,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,OAAO;oBAClC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,OAAO;iBACvC;gBACD,IAAI,MAAM,CAAC,SAAS,KAAK,SAAS,EAAE;oBAChC,MAAM,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,4BAAsB,CAAC;iBACjE;gBACD,MAAM,CAAC,MAAM,CAAC,cAAc,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC;gBAErC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC;gBAE3B,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC;gBAC1B,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;gBAC5B,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,CAAC;gBACxB,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBAEjD,mBAAmB;gBACnB,IAAI,CAAC,KAAK,GAAG,IAAI,wDAAO,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;gBACxD,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;gBAC1B,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;gBAE9C,UAAU;gBACV,0EAAyB,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,SAAgB,CAAC,CAAC;gBAEnF,4CAA4C;gBAC5C,IAAI,CAAC,UAAU,sBAAoB,CAAC;gBAEpC,WAAW;gBACX,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;;;;KACtB;IAEa,yBAAQ,GAAtB,UAAuB,GAAQ;;;;;;;wBAC3B,IAAI,CAAC,UAAU,oBAAmB,CAAC;wBAE7B,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;wBAE1C,qBAAM,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC;;wBAA/D,SAA+D,CAAC;6BAE5D,QAAO,GAAG,KAAK,QAAQ,GAAvB,wBAAuB;wBACvB,SAAI;wBAAS,qBAAM,mEAAY,CAAC,GAAG,EAAE,EAAE,YAAY,EAAE,MAAM,EAAE,CAAC,CAAC,KAAK,CAAC,UAAC,KAAK,IAAO,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;;wBAArG,GAAK,KAAK,GAAG,SAAwF,CAAC;;;wBAErG,IAAI,OAAO,GAAG,KAAK,QAAQ,EAAE;4BAC9B,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC;yBACpB;;;wBAEK,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC;6BAEpB,IAAI,EAAJ,yBAAI;6BACA,IAAI,CAAC,UAAU,EAAf,wBAAe;6BACX,QAAO,GAAG,KAAK,QAAQ,GAAvB,wBAAuB;wBACjB,OAAO,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,CAAC;wBAErC,cAAc,GAAM,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,SAAI,IAAI,CAAC,UAAU,SAAI,OAAS,CAAC;wBAE9F,qBAAM,mEAAY,CAAC,cAAc,CAAC,CAAC,KAAK,CAAC,UAAC,CAAS;gCAC/C,KAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;4BACrB,CAAC,CAAC;;wBAFF,SAEE,CAAC;wBACkB,qBAAM,IAAK,MAAc,CAAC,YAAY,EAAE;;wBAAvD,YAAY,GAAG,SAAwC;wBAE7D,qBAAM,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,EAAE,IAAI,CAAC,KAAK,CAAC;;wBAAnE,SAAmE,CAAC;;;wBAGpE,IAAI,CAAC,QAAQ,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,qBAAkB,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,EAAE,CAAC,CAAC;;;wBAGzF,IAAI,CAAC,UAAU,wBAAqB,CAAC;wBACrC,qBAAM,IAAI,CAAC,KAAK,EAAE;;wBAAlB,SAAkB,CAAC;;;;;;KAE1B;IAED,gEAAgE;IAChE;;;OAGG;IACK,4BAAW,GAAnB,UAAoB,GAAW;QAC3B,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;IACxB,CAAC;IAED;;;OAGG;IACK,yBAAQ,GAAhB,UAAiB,GAAW;QACxB,IAAI,GAAG,CAAC,KAAK,wBAAqB,IAAI,GAAG,CAAC,KAAK,4BAAuB,EAAE;YACpE,IAAI,GAAG,CAAC,KAAK,wBAAqB,EAAE;gBAChC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC;aACjD;YACD,GAAG,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC;YACzD,IAAI,IAAI,CAAC,OAAO,EAAE;gBACd,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;aACrB;YAED,OAAO;SACV;QACD,QAAQ,GAAG,CAAC,IAAI,EAAE;YACd;gBACI,IAAI,IAAI,CAAC,MAAM,EAAE;oBACb,IAAI,CAAC,MAAM,EAAE,CAAC;iBACjB;gBACD,MAAM;YACV;gBACI,IAAI,IAAI,CAAC,OAAO,EAAE;oBACd,IAAI,CAAC,OAAO,EAAE,CAAC;iBAClB;gBACD,MAAM;YACV;gBACI,IAAI,IAAI,CAAC,aAAa,EAAE;oBACpB,IAAI,CAAC,aAAa,EAAE,CAAC;iBACxB;gBACD,MAAM;YACV;gBACI,IAAI,IAAI,CAAC,SAAS,EAAE;oBAChB,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;iBACvB;SACR;IACL,CAAC;IACL,aAAC;AAAD,CAAC;;AACD,IAAM,CAAC,GAAI,MAAc,CAAC;AAE1B,IAAI,CAAC,CAAC,EAAE,KAAK,SAAS,EAAE;IACpB,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC;CACb;AAED,CAAC,CAAC,EAAE,CAAC,MAAM,GAAG,EAAE,MAAM,UAAE,CAAC;;;;;;;;;;;;;AC7WzB;AAAA;AAAA;;;;GAIG;AAC0C;AAI7C;IAKI;QAHA,cAAc;QACE,gBAAW,GAAG,IAAI,yDAAU,EAAE,CAAC;QAwHvC,oBAAe,GAAW,mBAAmB,CAAC;QAC9C,uBAAkB,GAAW,oBAAoB,CAAC;IArH1D,CAAC;IAED;;OAEG;IACI,qBAAE,GAAT,UAAU,KAAa,EAAE,EAAO,EAAE,OAAa;QAC9C,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,KAAK,EAAE,EAAE,EAAE,OAAO,CAAC,CAAC;QACxC,OAAO,IAAI,CAAC;IACb,CAAC;IACM,8BAAW,GAAlB,UAAmB,KAAa,EAAE,EAAY,EAAE,OAAa;QAC5D,OAAO,IAAI,CAAC,EAAE,CAAC,KAAK,EAAE,EAAE,EAAE,OAAO,CAAC,CAAC;IACpC,CAAC;IAED;;OAEG;IACI,iCAAc,GAArB,UAAsB,KAAa,EAAE,EAAa,EAAE,OAAa,EAAE,IAAc;QAChF,OAAO,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;IAC3C,CAAC;IACM,sBAAG,GAAV,UAAW,KAAa,EAAE,EAAQ,EAAE,OAAa,EAAE,IAAc;QAChE,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,KAAK,EAAE,EAAE,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;QAC/C,OAAO,IAAI,CAAC;IACb,CAAC;IAED;;;;OAIG;IACI,iCAAc,GAArB;QACC,0EAA0E;QAC1E,IAAI,YAAY,GAAiB,IAAI,KAAK,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;QAC/D,OAAO,IAAI,CAAC,sBAAsB,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,sBAAsB,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC,sBAAsB,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,GAAG,GAAG,YAAY,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,sBAAsB,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,sBAAsB,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;IAC7Q,CAAC;IAED;;;;OAIG;IACI,+BAAY,GAAnB;QAEC,IAAI,UAAkB,CAAC;QACvB,IAAI,IAAI,GAAQ,IAAI,IAAI,EAAE,CAAC;QAC3B,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,GAAG,MAAM,CAAC,IAAI,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC,GAAG,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC;QAC9H,OAAO,UAAU,CAAC;IACnB,CAAC;IAED;;;;OAIG;IACO,iCAAc,GAAxB,UAAyB,YAAoB;QAE5C,IAAI,CAAC,WAAW,CAAC,IAAI,sBAAkB;YACtC,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,eAAe;YACpD,KAAK,uBAAmB;YACxB,IAAI,EAAE,EAAC,IAAI,EAAC,YAAY,EAAE,KAAK,EAAQ,IAAK,CAAC,YAAY,CAAC,EAAC;SAE3D,CAAC,CAAC;IACJ,CAAC;IAED;;;;;;OAMG;IACO,gCAAa,GAAvB,UAAwB,YAAoB,EAAE,QAAc;QAE3D,IAAI,CAAC,WAAW,CAAC,IAAI,sBAAkB;YACtC,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,kBAAkB;YACvD,KAAK,qBAAkB;YACvB,IAAI,EAAE,EAAC,IAAI,EAAC,YAAY,EAAE,KAAK,EAAC,QAAQ,EAAC;YACzC,0CAA0C;SAC1C,CAAC,CAAC;IACJ,CAAC;IAED,sBAAW,0BAAI;aAAf;YACC,OAAO,EAAE,CAAC;QACX,CAAC;;;OAAA;IAEM,yBAAM,GAAb,UAAc,GAAW,EAAE,GAAQ;QAC/B,OAAO,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC;QAC5B,KAAI,IAAM,GAAG,IAAI,GAAG,EAAE;YAClB,OAAO,CAAC,GAAG,CAAC,IAAI,GAAG,GAAG,GAAG,GAAG,EAAE,gBAAgB,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;SAC7D;QACD,OAAO,CAAC,QAAQ,EAAE,CAAC;IACvB,CAAC;IAGD,cAAc;IACd,EAAE;IAEM,yCAAsB,GAA9B,UAA+B,MAAc,EAAE,KAAkB;QAAlB,kCAAkB;QAChE,IAAI,UAAU,GAAkB,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;QACvV,IAAI,EAAE,GAAkB,EAAE,CAAC;QAC3B,KAAK,GAAG,CAAC,KAAK,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC;QAClC,OAAO,MAAM,EAAE,EAAE;YAChB,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;SAC7D;QACD,OAAO,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IACpB,CAAC;IAEO,2CAAwB,GAAhC,UAAiC,GAAW,EAAE,GAAW;QACxD,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC;IAC1D,CAAC;IAEO,+BAAY,GAApB,UAAqB,KAAU;QAC9B,IAAI,KAAK,GAAG,oBAAoB,CAAC;QACjC,IAAI,OAAO,GAAG,KAAK,CAAC,IAAI,CAAQ,KAAM,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC,CAAC;QAC/D,OAAO,CAAC,OAAO,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC1D,CAAC;IAIL,eAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtID;;;;;;;;;;GAUG;AAC+B;AAIR;AAE1B;IAAoC,0BAAQ;IAsDxC,gBAAY,OAAmB;QAA/B,YACI,iBAAO,SAoCV;QAnEO,aAAO,GAAQ,EAAE,CAAC;QAElB,YAAM,GAAU,EAAE,CAAC;QA8BvB,KAAI,CAAC,UAAU,GAAG,OAAO,CAAC,SAAS,CAAC;QACpC,KAAI,CAAC,IAAI,GAAG,EAAE,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC;QAC3B,KAAI,CAAC,GAAG,GAAG,OAAO,CAAC,EAAE,IAAI,KAAI,CAAC,cAAc,EAAE,CAAC;QAC/C,KAAI,CAAC,IAAI,GAAG,OAAO,CAAC,GAAG,IAAI,SAAS,CAAC;QACrC,KAAI,CAAC,KAAK,GAAG,OAAO,CAAC,IAAI,KAAK,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACvE,KAAI,CAAC,KAAK,GAAG,OAAO,CAAC,IAAI,KAAK,SAAS,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACxE,KAAI,CAAC,KAAK,GAAG,OAAO,CAAC,IAAI,KAAK,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QACvE,KAAI,CAAC,UAAU,GAAG,OAAO,CAAC,SAAS,IAAI,SAAS,CAAC;QACjD,KAAI,CAAC,MAAM,GAAG,OAAO,CAAC,KAAK,IAAI,IAAI,CAAC;QACpC,KAAI,CAAC,MAAM,GAAG,OAAO,CAAC,KAAK,IAAI,aAAa,CAAC;QAC7C,KAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,OAAO,CAAC;QAChC,KAAI,CAAC,OAAO,GAAG,OAAO,CAAC,MAAM,IAAI,EAAE,CAAC;QACpC,KAAI,CAAC,UAAU,GAAG,OAAO,CAAC,SAAS,IAAI,EAAE,CAAC;QAC1C,KAAI,CAAC,MAAM,GAAG,OAAO,CAAC,KAAK,IAAI,GAAG,CAAC;QACnC,KAAI,CAAC,OAAO,GAAG,OAAO,CAAC,MAAM,IAAI,GAAG,CAAC;QACrC,KAAI,CAAC,YAAY,GAAG,OAAO,CAAC,WAAW,IAAI,MAAM,CAAC;QAClD,KAAI,CAAC,WAAW,GAAG,OAAO,CAAC,UAAU,IAAI,CAAC,CAAC;QAC3C,KAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,OAAO,KAAK,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QAChF,KAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,OAAO,KAAK,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QAChF,KAAI,CAAC,eAAe,GAAG,OAAO,CAAC,cAAc,CAAC;QAC9C,KAAI,CAAC,MAAM,GAAG,OAAO,CAAC,KAAK,IAAI,KAAK,CAAC;QACrC,KAAI,CAAC,MAAM,GAAG,OAAO,CAAC,KAAK,IAAI,KAAI,CAAC,MAAM,CAAC;QAC3C,KAAI,CAAC,iBAAiB,GAAG,OAAO,CAAC,gBAAgB,IAAI,KAAK,CAAC;QAC3D,KAAI,CAAC,IAAI,GAAG,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAC,OAAO,EAAC,OAAO,CAAC,MAAM,CAAC,IAAI,EAAC,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC;QACrG,IAAG,KAAI,CAAC,IAAI,CAAC,KAAK,KAAK,SAAS,EAAC;YAC7B,KAAI,CAAC,IAAI,CAAC,KAAK,GAAG,KAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;SAChD;QACD,IAAG,KAAI,CAAC,IAAI,CAAC,KAAK,KAAK,SAAS,EAAC;YAC7B,KAAI,CAAC,IAAI,CAAC,KAAK,GAAG,KAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;SAChD;QACD,IAAG,KAAI,CAAC,IAAI,CAAC,EAAE,KAAK,SAAS,EAAC;YAC1B,KAAI,CAAC,IAAI,CAAC,EAAE,GAAG,KAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;SAC7C;QACD,KAAI,CAAC,SAAS,GAAG,OAAO,CAAC,QAAQ,IAAI,EAAE,CAAC,KAAK,CAAC,aAAa,EAAE,CAAC,QAAQ,CAAC;QACvE,KAAI,CAAC,KAAK,GAAG,IAAI,6CAAI,CAAC,KAAI,CAAC,SAAS,CAAC,CAAC;;IAC1C,CAAC;IAED,sBAAW,6BAAS;aAApB;YACI,OAAO,IAAI,CAAC,UAAU,CAAC;QAC3B,CAAC;aAED,UAAqB,KAAkB;YACnC,IAAI,IAAI,CAAC,UAAU,KAAK,KAAK,EAAE;gBAAE,OAAO;aAAE;YAC1C,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YACxB,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;QACrC,CAAC;;;OANA;IAQD,sBAAW,sBAAE;aAAb;YACI,OAAO,IAAI,CAAC,GAAG,CAAC;QACpB,CAAC;aAED,UAAc,KAAa;YACvB,IAAI,IAAI,CAAC,GAAG,KAAK,KAAK,EAAE;gBAAE,OAAO;aAAE;YACnC,IAAI,CAAC,GAAG,GAAG,KAAK,CAAC;YACjB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;QAC9B,CAAC;;;OANA;IAQD,sBAAW,uBAAG;aAAd;YACI,OAAO,IAAI,CAAC,IAAI,CAAC;QACrB,CAAC;aAED,UAAe,KAAK;YAChB,IAAI,IAAI,CAAC,IAAI,KAAK,KAAK,EAAE;gBAAE,OAAO;aAAE;YACpC,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;YAClB,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;QAC/B,CAAC;;;OANA;IAQD,sBAAW,wBAAI;aAAf;YACI,OAAO,IAAI,CAAC,KAAK,CAAC;QACtB,CAAC;aAED,UAAgB,KAAc;YAC1B,IAAI,IAAI,CAAC,KAAK,KAAK,KAAK,EAAE;gBAAE,OAAO;aAAE;YACrC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;YACnB,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;QAChC,CAAC;;;OANA;IAQD,sBAAW,wBAAI;aAAf;YACI,OAAO,IAAI,CAAC,KAAK,CAAC;QACtB,CAAC;aAED,UAAgB,KAAc;YAC1B,IAAI,IAAI,CAAC,KAAK,KAAK,KAAK,EAAE;gBAAE,OAAO;aAAE;YACrC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;YACnB,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;QAChC,CAAC;;;OANA;IAQD,sBAAW,wBAAI;aAAf;YACI,OAAO,IAAI,CAAC,KAAK,CAAC;QACtB,CAAC;aAED,UAAgB,KAAc;YAC1B,IAAI,IAAI,CAAC,KAAK,KAAK,KAAK,EAAE;gBAAE,OAAO;aAAE;YACrC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;YACnB,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;QAChC,CAAC;;;OANA;IAQD,sBAAW,6BAAS;aAApB;YACI,OAAO,IAAI,CAAC,UAAU,CAAC;QAC3B,CAAC;aAED,UAAqB,KAAK;YACtB,IAAI,IAAI,CAAC,UAAU,KAAK,KAAK,EAAE;gBAAE,OAAO;aAAE;YAC1C,IAAI,CAAC,UAAU,GAAG,KAAK;YACvB,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;QACrC,CAAC;;;OANA;IAQD,sBAAW,yBAAK;aAAhB;YACI,OAAO,IAAI,CAAC,MAAM,CAAC;QACvB,CAAC;aAED,UAAiB,KAAa;YAC1B,IAAI,IAAI,CAAC,MAAM,KAAK,KAAK,EAAE;gBAAE,OAAO;aAAE;YACtC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;QACjC,CAAC;;;OANA;IAQD,sBAAW,yBAAK;aAAhB;YACI,OAAO,IAAI,CAAC,MAAM,CAAC;QACvB,CAAC;aAED,UAAiB,KAAa;YAC1B,IAAI,IAAI,CAAC,MAAM,KAAK,KAAK,EAAE;gBAAE,OAAO;aAAE;YACtC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;QACjC,CAAC;;;OANA;IAQD,sBAAW,2BAAO;aAAlB;YACI,OAAO,IAAI,CAAC,QAAQ,CAAC;QACzB,CAAC;aAED,UAAmB,KAAK;YACpB,IAAI,IAAI,CAAC,QAAQ,KAAK,KAAK,EAAE;gBAAE,OAAO;aAAE;YACxC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;QACnC,CAAC;;;OANA;IAYD,sBAAW,0BAAM;QAJjB;;;WAGG;aACH;YACI,OAAO,IAAI,CAAC,OAAO,CAAC;QACxB,CAAC;aAED,UAAkB,KAAK;YACnB,oCAAoC;YACpC,kDAAkD;YAClD,IAAG,IAAI,CAAC,OAAO,KAAK,KAAK,EAAE;gBAAE,OAAO;aAAE;YACtC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;QAClC,CAAC;;;OARA;IAUD,sBAAW,yBAAK;aAAhB;YACI,OAAO,IAAI,CAAC,MAAM,CAAC;QACvB,CAAC;aACD,UAAiB,KAAK;YAClB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACxB,CAAC;;;OAHA;IAKD,sBAAW,6BAAS;aAApB;YACI,OAAO,IAAI,CAAC,UAAU,CAAC;QAC3B,CAAC;aAED,UAAqB,KAAa;YAC9B,IAAI,IAAI,CAAC,UAAU,KAAK,KAAK,EAAE;gBAAE,OAAO;aAAE;YAC1C,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YACxB,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;QACrC,CAAC;;;OANA;IAQD,sBAAW,yBAAK;aAAhB;YACI,OAAO,IAAI,CAAC,MAAM,CAAC;QACvB,CAAC;aAED,UAAiB,KAAa;YAC1B,IAAI,IAAI,CAAC,MAAM,KAAK,KAAK,EAAE;gBAAE,OAAO;aAAE;YACtC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;QACjC,CAAC;;;OANA;IAQD,sBAAW,0BAAM;aAAjB;YACI,OAAO,IAAI,CAAC,OAAO,CAAC;QACxB,CAAC;aAED,UAAkB,KAAa;YAC3B,IAAI,IAAI,CAAC,OAAO,KAAK,KAAK,EAAE;gBAAE,OAAO;aAAE;YACvC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;QAClC,CAAC;;;OANA;IAQD,sBAAW,+BAAW;aAAtB;YACI,OAAO,IAAI,CAAC,YAAY,CAAC;QAC7B,CAAC;aAED,UAAuB,KAAa;YAChC,IAAI,IAAI,CAAC,YAAY,KAAK,KAAK,EAAE;gBAAE,OAAO;aAAE;YAC5C,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;YAC1B,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;QACvC,CAAC;;;OANA;IAQD,sBAAW,8BAAU;aAArB;YACI,OAAO,IAAI,CAAC,WAAW,CAAC;QAC5B,CAAC;aAED,UAAsB,KAAa;YAC/B,IAAI,IAAI,CAAC,WAAW,KAAK,KAAK,EAAE;gBAAE,OAAO;aAAE;YAC3C,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;YACzB,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC;QACtC,CAAC;;;OANA;IAQD,sBAAW,2BAAO;aAAlB;YACI,OAAO,IAAI,CAAC,QAAQ,CAAC;QACzB,CAAC;aAED,UAAmB,KAAc;YAC7B,IAAI,IAAI,CAAC,QAAQ,KAAK,KAAK,EAAE;gBAAE,OAAO;aAAE;YACxC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;QACnC,CAAC;;;OANA;IAQD,sBAAW,2BAAO;aAAlB;YACI,OAAO,IAAI,CAAC,QAAQ,CAAC;QACzB,CAAC;aAED,UAAmB,KAAc;YAC7B,IAAI,IAAI,CAAC,QAAQ,KAAK,KAAK,EAAE;gBAAE,OAAO;aAAE;YACxC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC;QACnC,CAAC;;;OANA;IAQD,sBAAW,kCAAc;aAMzB;YACI,OAAO,IAAI,CAAC,eAAe,CAAC;QAChC,CAAC;aARD,UAA0B,KAAa;YACnC,IAAI,IAAI,CAAC,eAAe,KAAK,KAAK,EAAE;gBAAE,OAAO;aAAE;YAC/C,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;YAC7B,IAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;QAC1C,CAAC;;;OAAA;IAMD,sBAAW,yBAAK;aAMhB;YACI,OAAO,IAAI,CAAC,MAAM,CAAC;QACvB,CAAC;aARD,UAAiB,KAAc;YAC3B,IAAI,IAAI,CAAC,MAAM,KAAK,KAAK,EAAE;gBAAE,OAAO;aAAE;YACtC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;QACjC,CAAC;;;OAAA;IAMD,sBAAW,oCAAgB;aAM3B;YACI,OAAO,IAAI,CAAC,iBAAiB,CAAC;QAClC,CAAC;aARD,UAA4B,KAAc;YACtC,IAAI,IAAI,CAAC,iBAAiB,KAAK,KAAK,EAAE;gBAAE,OAAO;aAAE;YACjD,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;YAC/B,IAAI,CAAC,cAAc,CAAC,kBAAkB,CAAC,CAAC;QAC5C,CAAC;;;OAAA;IAMD,sBAAW,4BAAQ;aAAnB;YACI,OAAO,IAAI,CAAC,SAAS,CAAC;QAC1B,CAAC;aAED,UAAoB,KAAa;YAC7B,IAAI,IAAI,CAAC,SAAS,KAAK,KAAK,EAAE;gBAAE,OAAO;aAAE;YACzC,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;YACvB,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;QACpC,CAAC;;;OANA;IAQD,sBAAW,wBAAI;aAAf;YACI,OAAO,IAAI,CAAC,KAAK,CAAC;QACtB,CAAC;;;OAAA;IAED,sBAAW,wBAAI;aAAf;YACI,OAAO;gBACH,SAAS,EAAE,IAAI,CAAC,SAAS;gBACzB,EAAE,EAAE,IAAI,CAAC,EAAE;gBACX,GAAG,EAAE,IAAI,CAAC,GAAG;gBACb,IAAI,EAAE,IAAI,CAAC,IAAI;gBACf,IAAI,EAAE,IAAI,CAAC,IAAI;gBACf,IAAI,EAAE,IAAI,CAAC,IAAI;gBACf,SAAS,EAAE,IAAI,CAAC,SAAS;gBACzB,KAAK,EAAE,IAAI,CAAC,KAAK;gBACjB,KAAK,EAAE,IAAI,CAAC,KAAK;gBACjB,OAAO,EAAE,IAAI,CAAC,OAAO;gBACrB,MAAM,EAAE,IAAI,CAAC,MAAM;gBACnB,KAAK,EAAE,IAAI,CAAC,KAAK;gBACjB,SAAS,EAAE,IAAI,CAAC,SAAS;gBACzB,KAAK,EAAE,IAAI,CAAC,KAAK;gBACjB,MAAM,EAAE,IAAI,CAAC,MAAM;gBACnB,WAAW,EAAE,IAAI,CAAC,WAAW;gBAC7B,UAAU,EAAE,IAAI,CAAC,UAAU;gBAC3B,OAAO,EAAE,IAAI,CAAC,OAAO;gBACrB,OAAO,EAAE,IAAI,CAAC,OAAO;gBACrB,gBAAgB,EAAE,IAAI,CAAC,gBAAgB;gBACvC,cAAc,EAAE,IAAI,CAAC,cAAc;gBACnC,KAAK,EAAE,IAAI,CAAC,KAAK;gBACjB,QAAQ,EAAE,IAAI,CAAC,QAAQ;gBACvB,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI;aACvB,CAAC;QACN,CAAC;;;OAAA;IACL,aAAC;AAAD,CAAC,CAtWmC,iDAAQ,GAsW3C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvXD;;;;;;;GAOG;AAC+B;AACsB;AAGT;AAC/C;IAAkC,wBAAQ;IAOtC,cAAY,QAAgB;QAA5B,YACI,iBAAO,SAQV;QAfgB,UAAI,GAAW,EAAE,CAAC;QAI3B,iBAAW,qBAAiC;QAIhD,KAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,iBAAiB,EAAE,CAAC;QACzC,IAAI,KAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE;YAChC,KAAI,CAAC,IAAI,GAAG,OAAO,CAAC;SACvB;aACI;YACD,KAAI,CAAC,IAAI,GAAG,OAAO,CAAC;SACvB;;IACL,CAAC;IAED,sBAAW,4BAAU;aAArB;YACI,OAAO,IAAI,CAAC,WAAW,CAAC;QAC5B,CAAC;aACD,UAAsB,KAAK;YACvB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QAC7B,CAAC;;;OAHA;IAKD,sBAAW,sBAAI;aAAf;YACI,OAAO,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;QAC9B,CAAC;;;OAAA;IAEM,gBAAC,GAAR,UAAS,GAAW,EAAE,KAAgB;QAClC,IAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC;QAExB,IAAI,IAAI,IAAI,IAAI,CAAC,GAAG,CAAC,EAAE;YACnB,OAAO,kEAAY,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,KAAK,CAAC,CAAC;SAC5D;QAED,OAAO,uBAAqB,GAAG,oCAA+B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAG,CAAC;IAC1F,CAAC;IAEY,mBAAI,GAAjB,UAAkB,IAAc,EAAE,OAA2B;;;;;;6BACrD,KAAI,CAAC,IAAI,IAAI,IAAI,CAAC,WAAW,wBAAsB,GAAnD,wBAAmD;wBAC/C,GAAG,GAAG,EAAE,CAAC;wBAEb,IAAI,KAAqC,EAAE,EAE1C;6BACI;4BACD,GAAG,GAAG,mBAAiB,IAAI,CAAC,IAAI,UAAO,CAAC;yBAC3C;wBACD,SAAI;wBAAS,qBAAM,2EAAe,CAAC,GAAG,EAAE,IAAI,EAAE,EAAE,YAAY,EAAE,MAAM,EAAE,CAAC,CAAC,KAAK,CAAC,UAAC,KAAa;gCACxF,OAAO,CAAC,KAAK,CAAC,CAAC;4BACnB,CAAC,CAAC;;wBAFF,GAAK,KAAK,GAAG,SAEX,CAAC;wBACH,IAAI,IAAI,CAAC,KAAK,EAAE;4BACZ,IAAI,CAAC,WAAW,sBAAoB,CAAC;4BAErC,sBAAO,IAAI,EAAC;yBACf;;4BAGL,sBAAO,KAAK,EAAC;;;;KAChB;IACL,WAAC;AAAD,CAAC,CA7DiC,iDAAQ,GA6DzC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnE4C;AACO;AACC;AACA;AACH;AAEI;AAEL;AAER;AAEzC;IAAyB,uBAAqB;IAa1C,aAAY,KAAc;QAA1B,YACI,iBAAO,SAIV;QAjBM,mBAAa,GAAwC,EAAE,CAAC;QAExD,UAAI,GAAc,IAAW,CAAC;QAC9B,eAAS,GAAc,EAAE,CAAC;QAGzB,gBAAU,GAAa,EAAE,CAAC;QAC1B,eAAS,GAA8B,EAAE,CAAC;QAC1C,cAAQ,GAAG,CAAC,CAAC;QAEb,iBAAW,GAAG,IAAI,GAAG,EAAsB,CAAC;QAIhD,EAAE,CAAC,GAAG,CAAC,KAAK,CAAC,aAAa,CAAC,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAI,CAAQ,CAAC,CAAC;QACjE,EAAE,CAAC,GAAG,CAAC,KAAK,CAAC,oBAAoB,CAAC,KAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAI,CAAQ,CAAC,CAAC;QAC3E,KAAI,CAAC,KAAK,GAAG,KAAK,CAAC;;IACvB,CAAC;IAEM,qBAAO,GAAd;QACI,IAAI,IAAI,CAAC,aAAa,EAAE;YACpB,KAAK,IAAM,EAAE,IAAI,IAAI,CAAC,aAAa,EAAE;gBACjC,IAAI,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC,EAAE;oBACxB,IAAM,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;oBAExC,IAAI,QAAQ,CAAC,OAAO,EAAE;wBAClB,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;wBAC/B,OAAO,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;qBACjC;yBACI,IAAK,QAAgB,CAAC,KAAK,EAAE;wBAC9B,IAAK,QAAgB,CAAC,KAAK,CAAC,KAAK,EAAE;4BAC9B,QAAgB,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;yBACrC;wBACD,OAAO,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;qBACjC;iBACJ;aACJ;SACJ;QACD,EAAE,CAAC,KAAK,CAAC,mBAAmB,EAAE,CAAC;QAC/B,EAAE,CAAC,KAAK,CAAC,iBAAiB,EAAE,CAAC;QAC7B,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;SAC1B;QACD,IAAI,CAAC,KAAK,GAAG,SAAgB,CAAC;QAC9B,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;IACxB,CAAC;IACM,yBAAW,GAAlB,UAAmB,KAAa;QAC5B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAChC,CAAC;IAEY,sBAAQ,GAArB,UAAsB,IAAe;;;;;wBACjC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;6BACb,KAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,GAA7B,wBAA6B;wBAC7B,qBAAM,IAAI,CAAC,aAAa,EAAE;;wBAA1B,SAA0B,CAAC,CAAC,qDAAqD;wBACjF,qBAAM,IAAI,CAAC,YAAY,EAAE;;wBAAzB,SAAyB,CAAC;;;wBAG1B,IAAI,CAAC,IAAI,oCAA0B,IAAI,CAAC,CAAC;;;;;;KAEhD;IAEM,8BAAgB,GAAvB,UAAwB,OAAgB;QACpC,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC1B,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;YACjD,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC;SAC5D;QAED,OAAO,IAAI,CAAC;IAChB,CAAC;IAEM,6BAAe,GAAtB,UAAuB,KAAa,EAAE,OAAgB;QAClD,IAAM,aAAa,GAAG,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;QAEnD,IAAI,aAAa,EAAE;YACf,OAAO,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC;SACtD;QAED,OAAO,IAAI,CAAC;IAChB,CAAC;IAEM,6BAAe,GAAtB,UAAuB,KAAa,EAAE,OAAgB;QAClD,IAAM,aAAa,GAAG,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;QAEnD,IAAI,aAAa,EAAE;YACf,OAAO,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC;SACtD;QAED,OAAO,IAAI,CAAC;IAChB,CAAC;IAEM,yBAAW,GAAlB,UAAmB,EAAU,EAAE,OAAgB;QAC3C,IAAM,SAAS,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;QAExC,IAAI,SAAS,EAAE;YACX,IAAI,OAAO,GAAY,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;YAE1C,IAAI,OAAO,IAAI,IAAI,EAAE;gBACjB,OAAO,GAAG,IAAI,wDAAO,CAAC,OAAO,CAAC,CAAC;gBAC/B,OAAO,CAAC,UAAU,GAAG,SAAS,CAAC,UAAU,CAAC;aAC7C;YACD,OAAO,CAAC,EAAE,GAAG,EAAE,CAAC;YAChB,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,GAAG,OAAO,CAAC;YAC7B,IAAI,SAAS,CAAC,KAAK,EAAE;gBACjB,IAAM,KAAK,GAAgB,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,KAAK,EAAE,SAAS,CAAC,EAAE,CAAQ,CAAC;gBAEtF,IAAI,KAAK,EAAE;oBACP,KAAK,CAAC,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC;oBAC5B,KAAK,CAAC,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC;oBAC9B,OAAO,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;iBAC/B;aACJ;YAED,OAAO,OAAO,CAAC;SAClB;QAED,OAAO,IAAI,CAAC;IAChB,CAAC;IAEM,2BAAa,GAApB,UAAqB,KAAsB;QACvC,SAAS;QACT,IAAI,KAAK,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,MAAM,EAAE;YAC1C,OAAO,KAAK,CAAC,QAAQ,EAAE,CAAC;SAC3B;QAED,IAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;QAEtC,IAAI,QAAQ,EAAE;YACV,IAAM,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YAE1C,QAAQ,SAAS,CAAC,IAAI,EAAE;gBACpB;oBACI,OAAO,QAAQ,CAAC,OAAqB,CAAC;gBAC1C;oBACI,OAAO,QAAQ,CAAC,WAAW,CAAC;gBAChC;oBACI,OAAO,QAAQ,CAAC;aACvB;SACJ;QAED,OAAO,SAAS,CAAC;IACrB,CAAC;IAEM,8BAAgB,GAAvB,UAAwB,EAAU,EAAE,MAA6B;QAC7D,IAAI,EAAE,IAAI,SAAS,EAAE;YACjB,OAAO,SAAS,CAAC;SACpB;QACD,8CAA8C;QAC9C,IAAI,EAAE,CAAC,QAAQ,EAAE,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,MAAM,IAAI,MAAM,IAAI,MAAM,CAAC,MAAM,YAAY,gEAAW,EAAE;YACzF,IAAM,QAAQ,GAAG,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAE/B,QAAQ,CAAC,KAAK,EAAE,CAAC;YACjB,IAAI,KAAK,GAAG,MAAM,CAAC,MAAqB,CAAC;YAEzC,OAAO,QAAQ,CAAC,MAAM,GAAG,CAAC,IAAI,KAAK,EAAE;gBACjC,IAAM,IAAE,GAAG,QAAQ,CAAC,KAAK,EAAY,CAAC;gBAEtC,KAAK,GAAG,KAAK,CAAC,YAAY,CAAC,IAAE,CAAgB,CAAC;aACjD;YACD,IAAI,KAAK,EAAE;gBACP,OAAO,KAAK,CAAC;aAChB;YACD,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC,EAAE,CAAC,0BAAqB,CAAC;YAEpE,OAAO,SAAS,CAAC;SACpB;QAED,OAAO,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;IAC9B,CAAC;IAEM,sBAAQ,GAAf,UAAgB,KAAsB;QAClC,IAAM,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;QAE1C,IAAI,SAAS,KAAK,SAAS,IAAI,SAAS,CAAC,EAAE,IAAI,IAAI,EAAE;YACjD,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC,KAAK,CAAC,0BAAqB,CAAC;YAEvE,OAAO,SAAS,CAAC;SACpB;QAED,OAAO,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,EAAE,CAAC,QAAQ,EAAE,CAAC,CAAC;IACvD,CAAC;IAEa,2BAAa,GAA3B;;;;;;;wBACU,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;wBAC1B,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC;;mCAGnB,MAAM;;;;;;;wBACnB,UAAU,GAAG,MAAM,CAAC,EAAE,CAAC,CAAC;6BACpB,WAAU,IAAI,UAAU,CAAC,IAAI,kBAAiB,IAAI,UAAU,CAAC,IAAI,GAAjE,wBAAiE;wBACrD,qBAAM,mEAAY,CAAC,UAAU,CAAC,GAAG,EAAE,IAAI,EAAE,UAAU,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,UAAC,CAAS;gCAClF,KAAI,CAAC,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;4BACpC,CAAC,CAAC;;wBAFI,GAAG,GAAG,SAEV;wBAEF,IAAI,GAAG,EAAE;4BACL,IAAI,GAAG,CAAC,QAAQ,EAAE;gCACd,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC,UAAU;6BAC3D;yBACJ;;;;;;;;;KAGZ;IAEa,0BAAY,GAA1B;;;;gBACU,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;gBAGhC,KAAW,EAAE,IAAI,MAAM,EAAE;oBACrB,IAAI,MAAM,CAAC,EAAE,CAAC,EAAE;wBACZ,UAAU,GAAG,MAAM,CAAC,EAAE,CAAC,CAAC;wBACxB,IAAI,UAAU,KAAK,SAAS,IAAI,UAAU,CAAC,IAAI,KAAK,SAAS,IAAI,UAAU,CAAC,GAAG,KAAK,SAAS,EAAE;4BAC3F,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;4BAChD,SAAS;yBACZ;wBACD,IAAI,UAAU,CAAC,GAAG,KAAK,EAAE,EAAE;4BACvB,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC,EAAE,CAAC,0BAAqB,CAAC;4BACpE,SAAS;yBACZ;wBACD,IAAI,UAAU,CAAC,IAAI,wBAAoB,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,cAAc,EAAE;4BAChF,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC,EAAE,CAAC,0BAAqB,CAAC;4BACpE,SAAS;yBACZ;wBACD,IAAI,UAAU,CAAC,IAAI,kBAAiB,EAAE;4BAClC,SAAS;yBACZ;wBACD,UAAU,CAAC,EAAE,GAAG,EAAE,CAAC;wBACnB,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;qBAChC;iBACJ;gBACD,IAAI,CAAC,aAAa,EAAE,CAAC;;;;KACxB;IAEO,gCAAkB,GAA1B;QACI,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YAClB,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,iBAAiB,CAAC,gEAAe,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC1F,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,mBAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;SACpE;QACD,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAW,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;gBAC/D,IAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;gBAEjC,IAAI,MAAM,IAAI,MAAM,CAAC,IAAI,4BAA8B,EAAE;oBACrD,IAAM,SAAS,GAA0B,MAA+B,CAAC;oBAEzE,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,uBAAuB,CAAC,SAAS,CAAC,KAAK,EAC9D,SAAS,CAAC,YAAY,EACtB,SAAS,CAAC,KAAK,CAAC,CAAC;iBACxB;aACJ;SACJ;IACL,CAAC;IACO,0BAAY,GAApB,UAAqB,EAAU;QAC3B,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YAClB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAW,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;gBACjE,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE;oBAC/B,OAAO,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;iBAC9B;aACJ;SACJ;QAED,OAAO,IAAI,CAAC;IAChB,CAAC;IACO,8BAAgB,GAAxB,UAAyB,KAAa;QAClC,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YAClB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAW,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;gBACjE,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,KAAK,EAAE;oBAClC,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC,EAAE;wBACb,OAAO,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;qBAClC;iBACJ;aACJ;SACJ;QAED,OAAO,IAAI,CAAC;IAChB,CAAC;IACO,8BAAgB,GAAxB,UAAyB,KAAa;QAClC,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YAClB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAW,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;gBACjE,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,KAAK,EAAE;oBAClC,IAAI,CAAC,GAAG,CAAC,EAAE;wBACP,OAAO,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;qBAClC;iBACJ;aACJ;SACJ;QAED,OAAO,IAAI,CAAC;IAChB,CAAC;IAEO,6BAAe,GAAvB,UAAwB,KAAa,EAAE,EAAU;QAC7C,IAAM,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAqB,CAAC;QACtE,IAAI,SAAS,GAAgC,IAAI,CAAC;QAElD,IAAI,aAAa,EAAE;YACf,QAAQ,aAAa,CAAC,IAAI,EAAE;gBACxB;oBACI,SAAS,GAAG,IAAI,CAAC,qBAAqB,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;oBAClD,IAAI,aAAa,CAAC,aAAa,KAAK,SAAS,EAAE;wBAC3C,SAAS,CAAC,aAAa,GAAG,aAAa,CAAC,aAAa,CAAC,CAAC,kCAAkC;qBAC5F;oBACD,MAAM;gBACV;oBACI,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;oBAClC,MAAM;aACb;SACJ;QAED,OAAO,SAAS,CAAC;IACrB,CAAC;IAEO,uBAAS,GAAjB,UAAkB,EAAU;QACxB,IAAM,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAqB,CAAC;QAEnE,IAAI,CAAC,aAAa,EAAE;YAChB,OAAO,IAAI,CAAC;SACf;QACD,IAAM,IAAI,GAAQ,aAAa,CAAC,IAAI,CAAC;QACrC,uCAAuC;QACvC,IAAI,EAAO,CAAC;QAEZ,IAAI;YACA,IAAM,GAAG,GAAG,EAAE,CAAC,GAAG,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;YAE3C,EAAE,GAAG,IAAI,GAAG,EAAE,CAAC;SAClB;QACD,OAAO,CAAC,EAAE;YACN,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YAChD,MAAM,IAAI,KAAK,CAAC,mBAAiB,IAAI,qBAAkB,CAAC,CAAC;SAC5D;QACD,IAAI,EAAE,EAAE;YACJ,KAAK,IAAM,GAAG,IAAI,aAAa,EAAE;gBAC7B,IAAI,GAAG,IAAI,aAAa,EAAE;oBACtB,QAAQ,GAAG,EAAE;wBACT,KAAK,IAAI;4BACL,8CAA8C;4BAC9C,EAAE,CAAC,KAAK,GAAG,aAAa,CAAC,GAAG,CAAC,CAAC;4BAC9B,MAAM;wBACV,KAAK,MAAM;4BACP,8CAA8C;4BAC9C,EAAE,CAAC,OAAO,GAAG,aAAa,CAAC,GAAG,CAAC,CAAC;4BAChC,MAAM;wBACV,KAAK,MAAM,CAAC;wBACZ,KAAK,UAAU,CAAC;wBAChB,KAAK,YAAY,CAAC;wBAClB,KAAK,SAAS,CAAC;wBACf,KAAK,MAAM;4BACP,MAAM;wBACV;4BACI,EAAE,CAAC,GAAG,CAAC,GAAI,aAAqB,CAAC,GAAG,CAAC,CAAC;4BACtC,MAAM;qBACb;iBACJ;aACJ;SACJ;QAED,OAAO,EAAE,CAAC;IACd,CAAC;IACO,mCAAqB,GAA7B,UAA8B,KAAa,EAAE,EAAU;QACnD,IAAM,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;QAClD,IAAM,UAAU,GAAG,aAAiC,CAAC;QACrD,IAAM,WAAW,GAAgB,IAAI,gEAAW,EAAE,CAAC;QAEnD,WAAW,CAAC,IAAI,GAAG,UAAU,CAAC,IAAI,CAAC;QACnC,WAAW,CAAC,KAAK,GAAG,KAAK,CAAC;QAC1B,WAAW,CAAC,EAAE,GAAG,EAAE,CAAC;QAEpB,IAAI,UAAU,CAAC,KAAK,EAAE;YAClB,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,iBAAiB,CAAC,KAAK,CAAC,QAAQ,EAAE,EAAE,UAAU,CAAC,KAAK,CAAC,CAAC;YACjF,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,sBAAsB,CAAC,WAAW,CAAC,CAAC;SAClE;QAED,IAAI,UAAU,CAAC,QAAQ,EAAE;YACrB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAW,UAAU,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;gBACpE,IAAM,SAAS,GAAQ,UAAU,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gBAE9C,IAAI,OAAO,IAAI,SAAS,EAAE;oBACtB,IAAM,kBAAkB,GAAG,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,KAAK,CAAqB,CAAC;oBACrF,IAAM,KAAK,GAAG,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,KAAK,EAAE,SAAS,CAAC,EAAE,CAAC,CAAC;oBAElE,IAAI,KAAK,EAAE;wBACP,QAAQ,kBAAkB,CAAC,IAAI,EAAE;4BAC7B;gCACI,IAAI,CAAC,6BAA6B,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;gCACrD,MAAM;yBACb;wBACD,WAAW,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;qBAC/B;iBACJ;aACJ;SACJ;QACD,IAAI,UAAU,CAAC,UAAU,IAAI,UAAU,CAAC,UAAU,KAAK,EAAE,EAAE;YACvD,IAAM,UAAU,GAAG,IAAI,iEAAU,CAAC,WAAW,EAAE,UAAU,CAAC,UAAU,CAAC,CAAC;YAEtE,WAAW,CAAC,UAAU,GAAG,UAAU,CAAC;SACvC;aACI,IAAI,KAAK,KAAK,SAAS,EAAE;YAC1B,IAAM,OAAO,GAAG,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,CAAC;YAE3D,IAAI,OAAO,EAAE;gBACT,IAAM,UAAU,GAAG,IAAI,iEAAU,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC;gBAExD,WAAW,CAAC,UAAU,GAAG,UAAU,CAAC;aACvC;SACJ;QACD,IAAI,UAAU,CAAC,UAAU,EAAE;YACvB,IAAM,SAAS,GAAG,IAAI,8DAAS,CAAC,WAAW,EAAE,UAAU,CAAC,UAAU,EAAE,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YAEnF,WAAW,CAAC,SAAS,GAAG,SAAS,CAAC;SACrC;QAED,OAAO,WAAW,CAAC;IACvB,CAAC;IAEO,2CAA6B,GAArC,UAAsC,OAA6B,EAAE,IAAuB;QACxF,KAAK,IAAM,GAAG,IAAI,IAAI,EAAE;YACpB,IAAI,GAAG,IAAI,IAAI,EAAE;gBACb,QAAQ,GAAG,EAAE;oBACT,aAAa;oBACb,eAAe;oBACf,KAAK,OAAO,CAAC;oBACb,KAAK,MAAM,CAAC;oBACZ,KAAK,UAAU,CAAC;oBAChB,KAAK,YAAY,CAAC;oBAClB,KAAK,SAAS;wBACV,MAAM;oBACV;wBACI,IAAI,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE;4BAC7B,IAAI,CAAC,WAAW,CAAC,OAAO,EAAE,GAAG,EAAG,IAAY,CAAC,GAAG,CAAC,CAAC,CAAC;yBACtD;6BACI;4BACA,OAAe,CAAC,GAAG,CAAC,GAAI,IAAY,CAAC,GAAG,CAAC,CAAC;yBAC9C;wBACD,MAAM;iBACb;aACJ;SACJ;IACL,CAAC;IAEO,yBAAW,GAAnB,UAAoB,OAA6B,EAAE,SAAiB,EAAE,KAAU;QAC5E,IAAM,UAAU,GAAG,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACxC,IAAI,MAAM,GAAG,OAAc,CAAC;QAE5B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAW,UAAU,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;YAC/D,IAAM,MAAM,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;YAE7B,IAAI,MAAM,IAAI,MAAM,CAAC,MAAM,CAAC,EAAE;gBAC1B,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC;aAC3B;SACJ;QACD,IAAI,MAAM,EAAE;YACR,MAAM,CAAC,UAAU,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC;SACrD;IACL,CAAC;IAEO,2BAAa,GAArB;QAAA,iBAsEC;QArEG,IAAI,IAAI,CAAC,OAAO,KAAK,SAAS,EAAE;YAC5B,IAAI,CAAC,OAAO,GAAG,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;SAClC;QACD,IAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC;QAC5B,IAAM,IAAI,GAAQ,EAAE,CAAC;QAErB,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;QAElB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAW,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YAChE,IAAM,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YAC/B,IAAM,EAAE,GAAG,GAAG,CAAC,EAAE,KAAK,SAAS,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,QAAQ,EAAE,CAAC;YAElE,IAAI,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE;gBACf,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;gBAC3B,SAAS;aACZ;YAED,IAAI,GAAG,CAAC,IAAI,KAAK,OAAO,EAAE;gBACtB,wBAAwB;gBACxB,mCAAmC;gBACnC,MAAM,CAAC,GAAG,CAAC,EAAE,EAAE,4DAAM,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,EAAE,QAAQ,EAAE,EAAE,CAAC,cAAc,CAAC,SAAS,CAAC,GAAG,EAAE,OAAO,EAAE,WAAW,EAAE,CAAC,CAAC;aAC3H;iBACI;gBACD,MAAM,CAAC,GAAG,CAAC,EAAE,EAAE,4DAAM,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;aACtD;YAED,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;SACxB;QACD,IAAI,UAAU,GAAG,CAAC,CAAC;QACnB,IAAI,UAAU,GAAG,CAAC,CAAC;QACnB,IAAI,OAAO,GAAG,CAAC,CAAC;QAEhB,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC,GAAG,CAAC,UAAC,OAAkB,EAAE,SAAc;YAClE,KAAI,CAAC,QAAQ,EAAE,CAAC;YAChB,KAAI,CAAC,IAAI,oCAA0B,CAAC,OAAO,CAAC,QAAQ,EAAE,KAAI,CAAC,QAAQ,EAAE,KAAI,CAAC,UAAU,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC,CAAC;QAC7G,CAAC,CAAC,CAAC;QACH,UAAU,GAAG,MAAM,CAAC,UAAU,CAAC,GAAG,CAAC,UAAC,OAAkB,EAAE,SAAc;YAClE,KAAI,CAAC,aAAa,GAAG,SAAS,CAAC;YAC/B,IAAI,CAAC,KAAI,CAAC,iBAAiB,EAAE,EAAE;gBAC3B,KAAK,IAAM,GAAG,IAAI,IAAI,EAAE;oBACpB,IAAM,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,CAAC;oBAE7B,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;wBACzB,KAAI,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,CAAC,GAAG,SAAS,CAAC,EAAE,CAAC,CAAC;qBACzD;iBACJ;gBACD,MAAM,CAAC,UAAU,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;gBACrC,MAAM,CAAC,UAAU,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;gBACrC,MAAM,CAAC,UAAU,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;gBAClC,KAAI,CAAC,IAAI,oCAA0B,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC,CAAC;aAC5D;QACL,CAAC,CAAC,CAAC;QACH,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,UAAC,KAAY,EAAE,OAAkB,EAAE,cAAiC;YAC7F,IAAM,SAAS,GAAG,KAAI,CAAC,WAAW,CAAC,GAAG,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;YAE5D,IAAI,SAAS,EAAE;gBACX,IAAI,SAAS,CAAC,KAAK,IAAI,CAAC,EAAE;oBACtB,KAAI,CAAC,WAAW,CAAC,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;oBAC7C,KAAI,CAAC,KAAK,CAAC,WAAW,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC,cAAc,CAAC,GAAG,CAAC,CAAC,CAAC;iBACjE;gBACD,SAAS,CAAC,KAAK,EAAE,CAAC;aACrB;iBACI;gBACD,KAAI,CAAC,WAAW,CAAC,GAAG,CAAC,cAAc,CAAC,IAAI,EAAE,EAAE,EAAE,EAAE,cAAc,CAAC,IAAI;oBAC/D,GAAG,EAAE,cAAc,CAAC,GAAG;oBACvB,SAAS,EAAE,cAAc,CAAC,SAAS,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;aACxD;QACL,CAAC,CAAC,CAAC;QACH,MAAM,CAAC,IAAI,EAAE,CAAC;IAClB,CAAC;IAED,MAAM;IACE,+BAAiB,GAAzB;QACI,IAAI,IAAI,CAAC,OAAO,KAAK,SAAS,EAAE;YAC5B,OAAO,KAAK,CAAC;SAChB;QAED,IAAI,IAAI,CAAC,WAAW,CAAC,IAAI,IAAI,CAAC,EAAE;YAC5B,OAAO,KAAK,CAAC;SAChB;QACD,IAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC;QAC5B,IAAM,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC;QAEpC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,UAAC,GAAG;YACzB,IAAM,IAAI,GAAG,mEAAY,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;YACzC,IAAI,GAAU,CAAC;YAEf,QAAQ,IAAI,EAAE;gBACV;oBACI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC;oBACjB,MAAM;gBACV,mBAAsB;gBACtB;oBACI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC;oBACjB,MAAM;gBACV;oBACI,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC;aAC1B;YACD,IAAI,GAAG,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC;YAE5C,IAAI,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;gBAC/D,GAAG,IAAI,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;aACrE;iBACI;gBACD,GAAG,IAAI,GAAG,CAAC,GAAG,CAAC;aAClB;YACD,OAAO,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;YAChC,MAAM,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,CAAC;QAC5B,CAAC,CAAC,CAAC;QAEH,OAAO,IAAI,CAAC;IAChB,CAAC;IAEO,iCAAmB,GAA3B,UAA4B,KAAa;QACrC,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAW,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;gBAC/D,IAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;gBAEjC,IAAI,MAAM,IAAI,MAAM,CAAC,IAAI,wBAA0B,IAAI,MAAM,CAAC,KAAK,KAAK,KAAK,EAAE;oBAC3E,OAAO,MAAM,CAAC,OAAO,CAAC;iBACzB;aACJ;SACJ;QAED,OAAO,SAAS,CAAC;IACrB,CAAC;IACL,UAAC;AAAD,CAAC,CArkBwB,EAAE,CAAC,KAAK,CAAC,YAAY,GAqkB7C;;;;;;;;;;;;;;ACxlBD;AAAA;AAAA;AAAA;AACmF;AAGoB;AAGvG;IA8BQ;QANO,mBAAc,GAAmD,EAAE,CAAC;QACpE,gBAAW,GAAmD,EAAE,CAAC;QAEhE,kBAAa,GAAW,CAAC,CAAC;QAC1B,gBAAW,GAAmC,EAAE,CAAC;QAGrD,EAAE;IACN,CAAC;IAGD;;;OAGG;IACI,iCAAO,GAAd,UAAe,GAAU;QACrB,KAAK,IAAI,CAAC,GAAG,GAAG,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;YACtC,IAAM,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YACxD,IAAM,WAAW,GAAG,GAAG,CAAC,WAAW,CAAC,CAAC;YACrC,GAAG,CAAC,WAAW,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;YAC1B,GAAG,CAAC,CAAC,CAAC,GAAG,WAAW,CAAC;SACxB;IACL,CAAC;IACM,+BAAK,GAAZ;QACI,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QACtB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;IAC1B,CAAC;IACM,uCAAa,GAApB;QACI,OAAO,EAAE,IAAI,CAAC,aAAa,CAAC;IAChC,CAAC;IAEM,yCAAe,GAAtB,UAAuB,IAAY;QAC/B,OAAO,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;IAClC,CAAC;IAEM,yCAAe,GAAtB,UAAuB,IAAY,EAAE,IAAkB;QACnD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;IAClC,CAAC;IAEM,2CAAiB,GAAxB,UAAyB,EAAU,EAAE,YAA2C;QAC5E,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,EAAE,CAAC,EAAE;YAC1B,IAAM,YAAY,GAAG,IAAI,CAAC,uBAAuB,CAAC,YAAY,CAAC,CAAC;YAChE,IAAI,CAAC,cAAc,CAAC,EAAE,CAAC,GAAG,YAAY,CAAC;SAC1C;IACL,CAAC;IAEM,iDAAuB,GAA9B,UAA+B,YAA+C;QAC1E,KAAK,IAAM,EAAE,IAAI,YAAY,EAAE;YAC3B,IAAI,YAAY,CAAC,cAAc,CAAC,EAAE,CAAC,EAAE;gBACjC,IAAM,CAAC,GAAG,YAAY,CAAC,EAAE,CAAC,CAAC;gBAC3B,IAAM,IAAI,GAAG,IAAI,CAAC,mBAAmB,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;gBAC7C,YAAY,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC;aAC3B;SACJ;QACD,OAAO,YAAY,CAAC;IACxB,CAAC;IAEM,6CAAmB,GAA1B,UAA2B,YAA2C;QAClE,IAAM,QAAQ,GAAW,eAAe,CAAC,SAAS,CAAC;QACnD,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,CAAC;QAEzD,IAAI,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAE;YAC/B,IAAM,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;YAChD,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;SACzD;aAAM;YACH,IAAI,CAAC,iBAAiB,CAAC,QAAQ,EAAE,YAAY,CAAC,CAAC;YAC/C,IAAI,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAE;gBAC/B,IAAM,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,CAAC;gBAChD,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;aACzD;SACJ;IACL,CAAC;IAEM,gDAAsB,GAA7B,UAA8B,SAAsB;QAChD,IAAM,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;QAC9B,IAAI,KAAK,EAAE;YACP,IAAI,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,EAAE;gBACvC,IAAM,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,CAAC;gBACxD,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,EAAE,CAAC,QAAQ,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;aACxE;SACJ;IACL,CAAC;IAEM,oDAA0B,GAAjC,UAAkC,SAAsB,EAAE,KAAa,EAAE,IAAkB,EAAE,IAAS;QAClG,IAAM,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;QAC9B,IAAM,MAAM,GAAG,SAAS,CAAC,EAAE,CAAC;QAC5B,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;IACvD,CAAC;IACM,iDAAuB,GAA9B,UAA+B,KAAa,EAAE,IAAkB,EAAE,IAAS;QACvE,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,SAAS,EAAE,eAAe,CAAC,SAAS,EAAE,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;IAC9F,CAAC;IAEM,qCAAW,GAAlB,UAAmB,KAAa,EAAE,QAAgB,EAAE,KAAa,EAAE,IAAkB,EAAE,IAAS;QAC5F,IAAM,YAAY,GAAkB;YAChC,EAAE,EAAE,KAAK;YACT,IAAI;YACJ,KAAK,EAAE,IAAI;SACd,CAAC;QACF,IAAM,SAAS,GAAkB;YAC7B,EAAE,EAAE,KAAK;YACT,IAAI;YACJ,KAAK,EAAE,IAAI;SACd,CAAC;QAEF,IAAI,eAAe,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;QACjD,IAAI,CAAC,eAAe,EAAE;YAClB,eAAe,GAAG,EAAE,CAAC;YACrB,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,GAAG,eAAe,CAAC;SAChD;QACD,eAAe,CAAC,KAAK,CAAC,GAAG,YAAY,CAAC;QAEtC,IAAI,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QAC9C,IAAI,CAAC,YAAY,EAAE;YACf,YAAY,GAAG,EAAE,CAAC;YAClB,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,GAAG,YAAY,CAAC;SAC7C;QACD,YAAY,CAAC,KAAK,CAAC,GAAG,SAAS,CAAC;IACpC,CAAC;IAEM,2CAAiB,GAAxB,UAAyB,EAAU;QAC/B,OAAO,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;IAC3D,CAAC;IACM,qCAAW,GAAlB,UAAmB,OAAe,EAAE,EAAU;QAC1C,IAAM,OAAO,GAAkC,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;QACzE,IAAI,OAAO,IAAI,OAAO,CAAC,EAAE,CAAC,EAAE;YACxB,OAAO,OAAO,CAAC,EAAE,CAAC,CAAC;SACtB;IACL,CAAC;IACM,2CAAiB,GAAxB,UAAyB,SAAsB,EAAE,WAAwB;QACrE,IAAI,WAAW,CAAC,CAAC,CAAC,KAAK,8DAAe,CAAC,WAAW,EAAE;YAChD,OAAO,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;SACtE;QACD,IAAM,YAAY,GAAiB,wEAAkB,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC,CAAC,CAAgB,CAAC;QAChG,IAAM,QAAQ,GAAG,YAAY,CAAC,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,eAAe,CAAC,SAAS,CAAC;QACvF,IAAM,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;QAC3D,OAAO,OAAO,CAAC;IACnB,CAAC;IAEM,yCAAe,GAAtB,UAAuB,SAAsB,EAAE,OAAoB;QAC/D,IAAM,QAAQ,GAAgB,EAAE,CAAC;QACjC,IAAM,YAAY,GAAgB,EAAE,CAAC;QACrC,KAAK,IAAI,CAAC,GAAW,CAAC,EAAE,GAAG,GAAW,OAAO,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YAChE,IAAM,WAAW,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;YAC/B,QAAQ,WAAW,CAAC,CAAC,CAAC,EAAE;gBACpB,KAAK,8DAAe,CAAC,KAAK,CAAC;gBAC3B,KAAK,8DAAe,CAAC,QAAQ,CAAC;gBAC9B,KAAK,8DAAe,CAAC,MAAM,CAAC;gBAC5B,KAAK,8DAAe,CAAC,MAAM,CAAC;gBAC5B,KAAK,8DAAe,CAAC,QAAQ,CAAC;gBAC9B,KAAK,8DAAe,CAAC,SAAS,CAAC;gBAC/B,KAAK,8DAAe,CAAC,WAAW,CAAC;gBACjC,KAAK,8DAAe,CAAC,YAAY,CAAC;gBAClC,KAAK,8DAAe,CAAC,WAAW,CAAC;gBACjC,KAAK,8DAAe,CAAC,cAAc,CAAC;gBACpC,KAAK,8DAAe,CAAC,SAAS;oBAC1B,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;oBAC3B,MAAM;gBACV,KAAK,8DAAe,CAAC,SAAS;oBAC1B,QAAQ,WAAW,CAAC,CAAC,CAAC,EAAE;wBACpB,KAAK,GAAG;4BACJ,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;4BAC/B,MAAM;wBACV,KAAK,GAAG;4BACJ,IAAI,CAAC,GAAG,YAAY,CAAC,GAAG,EAAE,CAAC;4BAC3B,OAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;gCACvB,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;gCACjB,CAAC,GAAG,YAAY,CAAC,GAAG,EAAE,CAAC;6BAC1B;4BACD,MAAM;wBACV;4BACI,IAAM,UAAU,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC;4BAClC,IAAM,WAAW,GAAI,eAAe,CAAC,gBAAwB,CAAC,UAAU,CAAC,CAAC;4BAC1E,IAAI,CAAC,WAAW,EAAE;gCACd,kCAAkC;gCAClC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,OAAO,EAAE,CAAC,UAAU,CAAC,0BAAqB,CAAC;gCACrE,OAAO,CAAC,CAAC;6BACZ;iCAAM;gCACH,IAAI,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;oCACzB,IAAI,UAAU,GAAG,YAAY,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;oCACvD,IAAI,kBAAkB,GACjB,eAAe,CAAC,gBAAwB,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;oCAC7D,IAAI,WAAW,GAAG,kBAAkB,EAAE;wCAClC,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;qCAClC;yCAAM;wCACH,OAAO,WAAW,GAAG,kBAAkB,EAAE;4CACrC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;4CAC1B,YAAY,CAAC,GAAG,EAAE,CAAC;4CACnB,IAAI,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;gDACzB,UAAU,GAAG,YAAY,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;gDACnD,kBAAkB;oDACb,eAAe,CAAC,gBAAwB,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;6CAChE;iDAAM;gDACH,MAAM;6CACT;yCACJ;wCACD,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;qCAClC;iCACJ;qCAAM;oCACH,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;iCAClC;6BACJ;4BACD,MAAM;qBACb;oBACD,MAAM;gBACV;oBACI,MAAM;aACb;SACJ;QACD,IAAI,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;YACzB,OAAO,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC5B,IAAM,UAAU,GAAG,YAAY,CAAC,GAAG,EAAE,CAAC;gBACtC,IAAI,UAAU,EAAE;oBACZ,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;iBAC7B;aACJ;SACJ;QACD,IAAM,KAAK,GAAG,IAAI,CAAC,oBAAoB,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;QAC7D,OAAO,KAAK,CAAC;IACjB,CAAC;IACM,6CAAmB,GAA1B,UAA2B,SAAsB,EAAE,WAAwB;QACvE,IAAI,MAAW,CAAC;QAChB,QAAQ,WAAW,CAAC,CAAC,CAAC,EAAE;YACpB,KAAK,8DAAe,CAAC,KAAK;gBACtB,MAAM,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC1B,MAAM;YACV,KAAK,8DAAe,CAAC,QAAQ;gBAEzB,IAAM,OAAO,GAAG,IAAI,CAAC,iBAAiB,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC;gBAC/D,IAAI,OAAO,EAAE;oBACT,MAAM,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;iBAC5B;qBAAM;oBACH,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,OAAO,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,0BAAqB,CAAC;oBAChF,yBAAyB;iBAC5B;gBAED,MAAM;YACV,KAAK,8DAAe,CAAC,MAAM;gBACvB,IAAM,OAAO,GAAG,IAAI,IAAI,EAAE,CAAC;gBAC3B,IAAI,WAAW,GAAG,CAAC,CAAC;gBACpB,QAAQ,WAAW,CAAC,CAAC,CAAC,EAAE;oBACpB,KAAK,8DAAe,CAAC,IAAI;wBACrB,WAAW,GAAG,OAAO,CAAC,OAAO,EAAE,CAAC;wBAChC,MAAM;oBACV,KAAK,8DAAe,CAAC,IAAI;wBACrB,WAAW,GAAG,OAAO,CAAC,WAAW,EAAE,CAAC;wBACpC,MAAM;oBACV,KAAK,8DAAe,CAAC,KAAK;wBACtB,WAAW,GAAG,OAAO,CAAC,QAAQ,EAAE,CAAC;wBACjC,MAAM;oBACV,KAAK,8DAAe,CAAC,GAAG;wBACpB,WAAW,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC;wBAC/B,MAAM;oBACV,KAAK,8DAAe,CAAC,IAAI;wBACrB,WAAW,GAAG,OAAO,CAAC,OAAO,EAAE,CAAC;wBAChC,MAAM;oBACV;wBACI,MAAM;iBACb;gBACD,MAAM,GAAG,CAAC,WAAW,CAAC,CAAC;gBACvB,MAAM;YACV,KAAK,8DAAe,CAAC,MAAM;gBACvB,IAAI,WAAW,GAAG,CAAC,CAAC;gBACpB,IAAI,WAAW,CAAC,MAAM,IAAI,CAAC,EAAE;oBACzB,IAAM,GAAG,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC;oBAC3B,IAAM,GAAG,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC;oBAC3B,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;iBAC/D;qBAAM;oBACH,WAAW,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC;iBAC/B;gBACD,MAAM,GAAG,CAAC,WAAW,CAAC,CAAC;gBACvB,MAAM;YACV,KAAK,8DAAe,CAAC,SAAS;gBAC1B,IAAM,UAAU,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC;gBAClC,IAAM,gBAAgB,GAAG,wEAAkB,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;gBACnE,MAAM,GAAG,gBAAgB,CAAC;gBAC1B,MAAM;YACV,KAAK,8DAAe,CAAC,QAAQ;gBACzB,IAAM,SAAS,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC;gBACjC,IAAM,cAAc,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC;gBACtC,IAAM,eAAe,GAAG,wEAAkB,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;gBACjE,IAAI,eAAe,EAAE;oBACjB,MAAM,GAAI,eAAuB,CAAC,cAAc,CAAC,CAAC;iBACrD;gBACD,MAAM;YACV,KAAK,8DAAe,CAAC,SAAS;gBAC1B,IAAM,OAAO,GAAG,IAAI,CAAC,iBAAiB,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC;gBAC/D,IAAI,OAAO,EAAE;oBACT,MAAM,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;iBACnC;qBAAM;oBACH,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,OAAO,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,0BAAqB,CAAC;oBAChF,yBAAyB;iBAC5B;gBACD,MAAM;YACV,KAAK,8DAAe,CAAC,WAAW;gBAC5B,2EAA2E;gBAC3E,IAAM,QAAQ,GAAG,IAAI,CAAC,iBAAiB,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC;gBAChE,IAAI,QAAQ,EAAE;oBACV,IAAM,GAAG,GAAG,QAAQ,CAAC,KAAK,CAAC;oBAC3B,IAAI,KAAK,GAAW,WAAW,CAAC,CAAC,CAAC,CAAC;oBACnC,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;wBACtB,IAAM,QAAQ,GAAG,IAAI,CAAC,mBAAmB,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;wBAC5D,IAAI,8DAAQ,CAAC,QAAQ,CAAC,EAAG;4BACrB,KAAK,GAAG,QAAQ,CAAC;yBACpB;6BAAM;4BACH,wCAAwC;4BACxC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,OAAO,EAAE,CAAC,KAAK,CAAC,0BAAqB,CAAC;4BAChE,KAAK,GAAG,CAAC,CAAC;yBACb;qBACJ;oBACD,MAAM,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC;oBACpB,IAAI,WAAW,CAAC,MAAM,IAAI,CAAC,IAAI,MAAM,EAAE;wBACnC,MAAM,GAAG,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;qBACnC;iBACJ;qBAAM;oBACH,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,OAAO,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,0BAAqB,CAAC;oBAChF,yBAAyB;iBAE5B;gBACD,MAAM;YACV,KAAK,8DAAe,CAAC,cAAc;gBAC/B,IAAM,QAAQ,GAAG,IAAI,CAAC,iBAAiB,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC;gBAChE,IAAI,QAAQ,EAAE;oBACV,IAAI,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE;wBAC/B,IAAM,WAAW,GAAU,QAAQ,CAAC,KAAK,CAAC;wBAC1C,QAAQ,WAAW,CAAC,CAAC,CAAC,EAAE;4BACpB,KAAK,KAAK,EAAE,yBAAyB;gCACjC,MAAM,GAAG,WAAW,CAAC,GAAG,EAAE,CAAC;gCAC3B,MAAM;4BACV,KAAK,MAAM,EAAE,kCAAkC;gCAC3C,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;oCACxB,IAAM,UAAU,GAAG,IAAI,CAAC,mBAAmB,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;oCACvE,MAAM,GAAG,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;iCACzC;gCACD,MAAM;4BACV,KAAK,OAAO,EAAE,2BAA2B;gCACrC,MAAM,GAAG,WAAW,CAAC,KAAK,EAAE,CAAC;gCAC7B,MAAM;4BACV,KAAK,SAAS,EAAE,qCAAqC;gCACjD,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;oCACxB,IAAM,aAAa,GAAG,IAAI,CAAC,mBAAmB,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;oCAC1E,MAAM,GAAG,WAAW,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;iCAC/C;gCACD,MAAM;4BACV,KAAK,QAAQ,EAAE,wCAAwC;gCACnD,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;oCACxB,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;wCACxB,IAAM,YAAY,GAAG,IAAI,CAAC,mBAAmB,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;wCACzE,MAAM,GAAG,WAAW,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;qCAC7C;yCAAM;wCACH,MAAM,GAAG,WAAW,CAAC,MAAM,EAAE,CAAC;qCACjC;iCACJ;gCACD,MAAM;4BACV,KAAK,QAAQ,EAAE,+DAA+D;gCAC1E,IAAI,WAAW,CAAC,MAAM,KAAK,CAAC,EAAE;oCAC1B,IAAM,UAAU,GAAG,IAAI,CAAC,mBAAmB,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;oCACvE,MAAM,GAAG,WAAW,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;iCAC3C;qCAAM,IAAI,WAAW,CAAC,MAAM,KAAK,CAAC,EAAE;oCACjC,IAAM,UAAU,GAAG,IAAI,CAAC,mBAAmB,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;oCACvE,IAAM,WAAW,GAAG,IAAI,CAAC,mBAAmB,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;oCACxE,MAAM,GAAG,WAAW,CAAC,MAAM,CAAC,UAAU,EAAE,WAAW,CAAC,CAAC;iCACxD;qCAAM,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;oCAC/B,IAAM,UAAU,GAAG,IAAI,CAAC,mBAAmB,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;oCACvE,IAAM,WAAW,GAAG,IAAI,CAAC,mBAAmB,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;oCACxE,IAAM,QAAQ,GAAG,IAAI,CAAC,mBAAmB,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;oCACrE,MAAM,GAAG,WAAW,CAAC,MAAM,CAAC,UAAU,EAAE,WAAW,EAAE,QAAQ,CAAC,CAAC;iCAClE;gCACD,MAAM;4BACV;gCACI,2BAA2B;gCAC3B,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,OAAO,EAAE,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,0BAAqB,CAAC;gCACzE,MAAM;yBACb;qBACJ;yBAAM;wBACH,0BAA0B;wBAC1B,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,OAAO,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,0BAAqB,CAAC;qBACnF;iBACJ;qBAAM;oBACH,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,OAAO,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,0BAAqB,CAAC;oBAChF,yBAAyB;iBAC5B;gBACD,MAAM;YACV,KAAK,8DAAe,CAAC,YAAY,CAAC;YAClC,KAAK,8DAAe,CAAC,WAAW;gBAC5B,8EAA8E;gBAC9E,IAAM,OAAO,GAAG,IAAI,CAAC,iBAAiB,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC;gBAC/D,IAAI,OAAO,EAAE;oBACT,IAAI,GAAG,GAAG,OAAO,CAAC,KAAK,CAAC;oBACxB,KAAK,IAAI,CAAC,GAAW,CAAC,EAAE,GAAG,GAAW,WAAW,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;wBACpE,IAAM,GAAG,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC;wBAC3B,IAAI,GAAG,IAAI,GAAG,KAAK,SAAS,EAAE;4BAC1B,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;yBAClB;qBACJ;oBACD,MAAM,GAAG,GAAG,CAAC;iBAChB;gBACD,MAAM;YACV;gBACI,MAAM;SACb;QACD,OAAO,MAAM,CAAC;IAClB,CAAC;IAEO,8CAAoB,GAA5B,UAA6B,SAAsB,EAAE,YAAyB;QAC1E,IAAM,QAAQ,GAAgB,EAAE,CAAC;QACjC,IAAI,YAAY,CAAC,MAAM,KAAK,CAAC,EAAE;YAC3B,OAAO,IAAI,CAAC,mBAAmB,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC;SAC/D;QACD,KAAK,IAAI,CAAC,GAAW,CAAC,EAAE,GAAG,GAAW,YAAY,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YACrE,IAAM,MAAM,GAAG,YAAY,CAAC,CAAC,CAAC,CAAC;YAC/B,QAAQ,MAAM,CAAC,CAAC,CAAC,EAAE;gBACf,KAAK,8DAAe,CAAC,SAAS;oBAC1B,IAAI,QAAQ,SAAyB,CAAC;oBACtC,IAAI,QAAQ,SAAyB,CAAC;oBACtC,IAAI,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;wBACnB,QAAQ,GAAG,QAAQ,CAAC,GAAG,EAAE,CAAC;qBAC7B;yBAAM;wBACH,QAAQ,GAAG,QAAQ,CAAC,GAAG,EAAE,CAAC;wBAC1B,QAAQ,GAAG,QAAQ,CAAC,GAAG,EAAE,CAAC;qBAC7B;oBACD,IAAM,UAAU,GAAG,IAAI,CAAC,kBAAkB,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAC;oBACrF,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;oBAC1B,MAAM;gBACV;oBACI,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;oBACtB,MAAM;aACb;SACJ;QACD,IAAI,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE;YACvB,OAAO,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;SACzB;aAAM;YACH,8BAA8B;YAC9B,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,OAAO,EAAE,SAAS,0BAAqB,CAAC;YAClE,OAAO,CAAC,CAAC;SACZ;IACL,CAAC;IAEO,4CAAkB,GAA1B,UAA2B,SAAsB,EAAE,UAAkB,EAC1C,QAAsB,EAAE,QAAsB;QACrE,IAAM,UAAU,GAAgB,CAAC,8DAAe,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;QAC3D,IAAI,OAAY,CAAC;QACjB,IAAI,OAAY,CAAC;QACjB,IAAI,MAAW,CAAC;QAChB,IAAI,QAAQ,EAAE;YACV,OAAO,GAAG,IAAI,CAAC,mBAAmB,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;SAC3D;QACD,IAAI,QAAQ,EAAE;YACV,OAAO,GAAG,IAAI,CAAC,mBAAmB,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;SAC3D;QACD,QAAQ,UAAU,EAAE;YAChB,KAAK,GAAG;gBACJ,MAAM,GAAG,OAAO,GAAG,OAAO,CAAC;gBAC3B,MAAM;YACV,KAAK,GAAG;gBACJ,MAAM,GAAG,OAAO,GAAG,OAAO,CAAC;gBAC3B,MAAM;YACV,KAAK,GAAG;gBACJ,MAAM,GAAG,OAAO,GAAG,OAAO,CAAC;gBAC3B,MAAM;YACV,KAAK,GAAG;gBACJ,MAAM,GAAG,OAAO,GAAG,OAAO,CAAC;gBAC3B,MAAM;YACV,KAAK,GAAG;gBACJ,MAAM,GAAG,OAAO,GAAG,OAAO,CAAC;gBAC3B,MAAM;YACV,KAAK,IAAI;gBACL,MAAM,GAAG,OAAO,IAAI,OAAO,CAAC;gBAC5B,MAAM;YACV,KAAK,IAAI;gBACL,MAAM,GAAG,OAAO,IAAI,OAAO,CAAC;gBAC5B,MAAM;YACV,KAAK,GAAG;gBACJ,MAAM,GAAG,OAAO,GAAG,OAAO,CAAC;gBAC3B,MAAM;YACV,KAAK,GAAG;gBACJ,MAAM,GAAG,OAAO,GAAG,OAAO,CAAC;gBAC3B,MAAM;YACV,KAAK,IAAI;gBACL,0CAA0C;gBAC1C,MAAM,GAAG,OAAO,IAAI,OAAO,CAAC;gBAC5B,MAAM;YACV,KAAK,KAAK;gBACN,MAAM,GAAG,OAAO,KAAK,OAAO,CAAC;gBAC7B,MAAM;YACV,KAAK,IAAI;gBACL,0CAA0C;gBAC1C,MAAM,GAAG,OAAO,IAAI,OAAO,CAAC;YAChC,KAAK,KAAK;gBACN,MAAM,GAAG,OAAO,KAAK,OAAO,CAAC;gBAC7B,MAAM;YACV,KAAK,GAAG;gBACJ,MAAM,GAAG,CAAC,OAAO,CAAC;gBAClB,MAAM;YACV,KAAK,IAAI;gBACL,MAAM,GAAG,OAAO,IAAI,OAAO,CAAC;gBAC5B,MAAM;YACV,KAAK,IAAI;gBACL,MAAM,GAAG,OAAO,IAAI,OAAO,CAAC;gBAC5B,MAAM;YACV,KAAK,GAAG;gBACJ,MAAM,GAAG,OAAO,CAAC;gBACjB,IAAI,QAAQ,EAAE;oBACV,QAAQ,QAAQ,CAAC,CAAC,CAAC,EAAE;wBACjB,KAAK,8DAAe,CAAC,QAAQ;4BACzB,IAAM,OAAO,GAAG,IAAI,CAAC,iBAAiB,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;4BAC5D,IAAI,OAAO,EAAE;gCACT,OAAO,CAAC,KAAK,GAAG,MAAM,CAAC;6BAC1B;iCAAM;gCACH,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,OAAO,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,0BAAqB,CAAC;gCAC7E,yBAAyB;6BAC5B;4BACD,MAAM;wBACV,KAAK,8DAAe,CAAC,QAAQ;4BACzB,IAAM,SAAS,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;4BAC9B,IAAM,cAAc,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;4BACnC,IAAM,eAAe,GAAG,wEAAkB,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;4BACjE,IAAI,eAAe,EAAE;gCACjB,IAAI,QAAQ,CAAC,MAAM,IAAI,CAAC,EAAE;oCACtB,IAAI,UAAU,GAAQ,eAAe,CAAC;oCACtC,IAAI,IAAI,GAAQ,cAAc,CAAC;oCAC/B,KAAK,IAAI,CAAC,GAAW,CAAC,EAAE,GAAG,GAAW,QAAQ,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;wCACjE,IAAI,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;wCACnB,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC,EAAE;4CACf,MAAM;yCACT;6CAAM;4CACH,IAAI,UAAU,EAAE;gDACZ,UAAU,GAAG,UAAU,CAAC,IAAI,CAAC,CAAC;6CACjC;iDAAM;gDACH,0BAA0B;gDAC1B,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,OAAO,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,0BACpB,CAAC;6CACvC;yCACJ;qCACJ;oCACD,IAAI,UAAU,IAAI,IAAI,EAAE;wCACpB,UAAU,CAAC,IAAI,CAAC,GAAG,MAAM,CAAC;qCAC7B;yCAAM;wCACH,0BAA0B;wCAC1B,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,OAAO,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,0BACpB,CAAC;qCACvC;iCACJ;6BACJ;4BACD,MAAM;wBACV,KAAK,8DAAe,CAAC,SAAS;4BAC1B,IAAM,OAAO,GAAG,IAAI,CAAC,iBAAiB,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;4BAC5D,IAAI,OAAO,EAAE;gCACT,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;6BACjC;iCAAM;gCACH,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,OAAO,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,0BAAqB,CAAC;gCAC7E,yBAAyB;6BAC5B;4BACD,MAAM;wBACV,KAAK,8DAAe,CAAC,WAAW;4BAC5B,wEAAwE;4BACxE,IAAM,QAAQ,GAAG,IAAI,CAAC,iBAAiB,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;4BAC7D,IAAI,QAAQ,EAAE;gCACV,IAAM,GAAG,GAAG,QAAQ,CAAC,KAAK,CAAC;gCAC3B,IAAI,KAAK,GAAW,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;gCACrC,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;oCACtB,IAAM,QAAQ,GAAG,IAAI,CAAC,mBAAmB,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;oCAC5D,IAAI,8DAAQ,CAAC,QAAQ,CAAC,EAAG;wCACrB,KAAK,GAAG,QAAQ,CAAC;qCACpB;yCAAM;wCACH,wCAAwC;wCACxC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,OAAO,EAAE,CAAC,KAAK,CAAC,0BACP,CAAC;wCACpC,KAAK,GAAG,CAAC,CAAC;qCACb;iCACJ;gCACD,IAAI,QAAQ,CAAC,MAAM,IAAI,CAAC,EAAE;oCACtB,IAAI,GAAG,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC;oCACrB,IAAI,GAAG,UAAC;oCACR,KAAK,IAAI,CAAC,GAAW,CAAC,EAAE,GAAG,GAAW,QAAQ,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;wCACjE,GAAG,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;wCAClB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC,IAAI,GAAG,CAAC,GAAG,CAAC,EAAE;4CACzB,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;yCAClB;qCACJ;oCACD,IAAI,GAAG,IAAI,GAAG,KAAK,SAAS,EAAE;wCAC1B,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC;qCACrB;iCACJ;qCAAM;oCACH,GAAG,CAAC,KAAK,CAAC,GAAG,MAAM,CAAC;iCACvB;6BACJ;iCAAM;gCACH,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,OAAO,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,0BAAqB,CAAC;gCAC7E,yBAAyB;6BAC5B;4BACD,MAAM;wBACV,KAAK,8DAAe,CAAC,YAAY,CAAC;wBAClC,KAAK,8DAAe,CAAC,WAAW;4BAC5B,8EAA8E;4BAC9E,IAAM,OAAO,GAAG,IAAI,CAAC,iBAAiB,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;4BAC5D,IAAI,OAAO,EAAE;gCACT,IAAI,GAAG,GAAG,OAAO,CAAC,KAAK,CAAC;gCACxB,IAAI,GAAG,UAAC;gCACR,KAAK,IAAI,CAAC,GAAW,CAAC,EAAE,GAAG,GAAW,QAAQ,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;oCACjE,GAAG,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;oCAClB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC,IAAI,GAAG,CAAC,GAAG,CAAC,EAAE;wCACzB,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;qCAClB;iCACJ;gCACD,IAAI,GAAG,IAAI,GAAG,KAAK,SAAS,EAAE;oCAC1B,GAAG,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC;iCACrB;qCAAM;oCACH,OAAO;oCACP,OAAO,CAAC,KAAK,GAAG,MAAM,CAAC;iCAC1B;6BACJ;4BACD,MAAM;wBACV,KAAK,8DAAe,CAAC,KAAK;4BACtB,mCAAmC;4BACnC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,OAAO,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,0BAAqB,CAAC;4BAC7E,MAAM;wBACV;4BACI,MAAM;qBACb;iBACJ;gBACD,MAAM;YACV;gBACI,kCAAkC;gBAClC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,OAAO,EAAE,CAAC,UAAU,CAAC,0BAAqB,CAAC;gBACrE,MAAM;SACb;QACD,UAAU,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC;QACvB,OAAO,UAAU,CAAC;IACtB,CAAC;IAEO,kCAAQ,GAAhB,UAAiB,YAA2C;QACpD,IAAM,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;QACzC,IAAM,eAAe,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAkC,CAAC;QACzE,OAAO,eAAe,CAAC;IAC/B,CAAC;IAEO,yCAAe,GAAvB,UAAwB,CAAM;QAC1B,IAAI,8DAAQ,CAAC,CAAC,CAAC;YACZ,CAAC,CAAC,cAAc,CAAC,MAAM,CAAC;YACxB,CAAC,CAAC,cAAc,CAAC,OAAO,CAAC;YACzB,CAAE,CAAC,CAAC,IAAI,wBAAuB;gBAC7B,CAAC,CAAC,IAAI,4BAAyB;gBAC/B,CAAC,CAAC,IAAI,0BAAwB;gBAC9B,CAAC,CAAC,IAAI,0BAAwB;gBAC9B,CAAC,CAAC,IAAI,0BAAwB,CAAC,EAC/B;YACD,OAAO,IAAI,CAAC;SACf;QACD,OAAO,KAAK,CAAC;IACjB,CAAC;IACO,6CAAmB,GAA3B,UAA4B,EAAU,EAAE,CAAM;QAC1C,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,EAAE;YAC1B,IAAM,OAAO,GAAkB;gBAC3B,EAAE;gBACF,IAAI,uBAAqB;gBACzB,KAAK,EAAE,CAAC;aACX,CAAC;YACF,IAAI,+DAAS,CAAC,CAAC,CAAC,EAAE;gBACd,OAAO,CAAC,IAAI,0BAAuB,CAAC;aACvC;iBAAM,IAAK,8DAAQ,CAAC,CAAC,CAAC,EAAE;gBACrB,OAAO,CAAC,IAAI,wBAAsB,CAAC;aACtC;iBAAM,IAAK,8DAAQ,CAAC,CAAC,CAAC,EAAE;gBACrB,OAAO,CAAC,IAAI,wBAAsB,CAAC;aACtC;iBAAM,IAAK,6DAAO,CAAC,CAAC,CAAC,EAAE;gBACpB,OAAO,CAAC,IAAI,sBAAqB,CAAC;aACrC;iBAAM;gBACH,OAAO,CAAC,IAAI,wBAAsB,CAAC;aACtC;YACD,OAAO,OAAO,CAAC;SAClB;aAAM;YACH,OAAO,CAAC,CAAC;SACZ;IACL,CAAC;IACO,mCAAS,GAAjB,UAAkB,SAAsB,EAAE,IAAY,EAAE,MAAc,EAAE,KAAoC;QAApC,mDAAoC;;QACxG,IAAI,SAAS,IAAI,SAAS,CAAC,OAAO,EAAE;YAChC,IAAM,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC;YAClC,OAAO,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;SACtD;aAAM;YACH,MAAM,IAAI,KAAK,CAAE,IAAI,GAAG,IAAI,UAAG,MAAM,0CAAE,IAAI,CAAC,GAAG,EAAC,CAAC,CAAC;SACrD;IAEL,CAAC;IA9rBa,yBAAS,GAAW,QAAQ,CAAC;IAE7B,gCAAgB,GAAG;QAC7B,GAAG,EAAG,GAAG;QACT,GAAG,EAAG,EAAE;QACR,GAAG,EAAG,EAAE;QACR,GAAG,EAAG,EAAE;QACR,GAAG,EAAG,EAAE;QACR,IAAI,EAAG,EAAE;QACT,IAAI,EAAG,EAAE;QACT,GAAG,EAAG,EAAE;QACR,GAAG,EAAG,EAAE;QACR,IAAI,EAAG,EAAE;QACT,KAAK,EAAG,EAAE;QACV,IAAI,EAAG,EAAE;QACT,KAAK,EAAG,EAAE;QACV,GAAG,EAAG,EAAE;QACR,IAAI,EAAG,EAAE;QACT,IAAI,EAAG,EAAE;QACT,GAAG,EAAG,EAAE;KACX,CAAC;IA4qBN,sBAAC;CAAA;AAlsBuB;;;;;;;;;;;;;ACD5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoD;AACA;AACR;AACV;AACW;AACa;AACZ;AACQ;AACd;AACA;AACgB;AACI;AACA;AACR;AACN;AACE;AACI;AACA;AACJ;AACI;AACF;AACI;AACM;AACZ;AACU;AACM;AACN;AACtB;AACI;AACF;AACY;AAEE;AACF;AAElD;IAMQ,oBAAY,SAAsB,EAAE,IAAwB;QAFpD,gBAAW,GAAe,EAAE,CAAC;QAGjC,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,SAAS,EAAE,CAAC;IACrB,CAAC;IAEM,wBAAG,GAAV;QACI,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE;YAC7C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAW,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;gBACjE,IAAM,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;gBAEjC,IAAI,CAAC,GAAG,EAAE,CAAC;aACd;SACJ;IACL,CAAC;IAEM,yBAAI,GAAX;QACI,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE;YAC7C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAW,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;gBACjE,IAAM,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;gBAEjC,IAAI,CAAC,IAAI,EAAE,CAAC;aACf;SACJ;IACL,CAAC;IAEM,0BAAK,GAAZ;QACI,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE;YAC7C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAW,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;gBACjE,IAAM,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;gBAEjC,IAAI,CAAC,KAAK,EAAE,CAAC;aAChB;SACJ;IACL,CAAC;IAEM,2BAAM,GAAb;QACI,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE;YAC7C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAW,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;gBACjE,IAAM,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;gBAEjC,IAAI,CAAC,MAAM,EAAE,CAAC;aACjB;SACJ;IACL,CAAC;IAEO,8BAAS,GAAjB;QACI,IAAI,IAAI,CAAC,IAAI,EAAE;YACX,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;gBAC1B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAC5B;SACJ;IACL,CAAC;IAEO,sCAAiB,GAAzB,UAA0B,MAA6B;QACnD,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;YAC1C,IAAM,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,eAAe,CAAC;YAE/D,eAAe,CAAC,uBAAuB,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,YAAY,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;SAC5F;IACL,CAAC;IACO,6BAAQ,GAAhB,UAAiB,OAAkB;QAC/B,IAAI,OAAO,EAAE;YACT,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAW,OAAO,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;gBACxD,IAAM,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;gBAE1C,IAAI,IAAI,EAAE;oBACN,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;iBAC/B;aACJ;SACJ;IACL,CAAC;IACO,gCAAW,GAAnB,UAAoB,IAAa;QAC7B,IAAI,IAA0B,CAAC;QAE/B,QAAQ,IAAI,CAAC,IAAI,EAAE;YACf;gBACI,IAAI,GAAG,IAAI,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC;gBACxC,MAAM;YACV;gBACI,IAAI,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;gBAClC,MAAM;YACV;gBACI,IAAI,GAAG,IAAI,CAAC,gBAAgB,CAAC,IAAW,CAAC,CAAC;gBAC1C,MAAM;YACV;gBACI,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;gBAC7B,MAAM;YACV;gBACI,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,IAAW,CAAC,CAAC;gBACtC,MAAM;YACV;gBACI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;gBAC1B,MAAM;YACV;gBACI,IAAI,GAAG,IAAI,CAAC,mBAAmB,CAAC,IAAW,CAAC,CAAC;gBAC7C,MAAM;YACV;gBACI,IAAI,GAAG,IAAI,CAAC,iBAAiB,CAAC,IAAW,CAAC,CAAC;gBAC3C,MAAM;YACV;gBACI,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,IAAW,CAAC,CAAC;gBACpC,MAAM;YACV;gBACI,IAAI,GAAG,IAAI,CAAC,qBAAqB,CAAC,IAAW,CAAC,CAAC;gBAC/C,MAAM;YACV;gBACI,IAAI,GAAG,IAAI,CAAC,wBAAwB,CAAC,IAAW,CAAC,CAAC;gBAClD,MAAM;YACV;gBACI,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,IAAwB,CAAC,CAAC;gBACrD,MAAM;YACV,wBAA0B;YAC1B,yBAA2B;YAC3B;gBACI,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,IAAoB,CAAC,CAAC;gBAC7C,MAAM;YACV;gBACI,IAAI,GAAG,IAAI,CAAC,kBAAkB,CAAC,IAAW,CAAC,CAAC;gBAC5C,MAAM;YACV;gBACI,IAAI,GAAG,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;gBACvC,MAAM;YACV;gBACI,IAAI,GAAG,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,CAAC;gBACvC,MAAM;YACV;gBACI,IAAI,GAAG,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;gBACnC,MAAM;YACV;gBACI,IAAI,GAAG,IAAI,6DAAa,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;gBAC/C,MAAM;YACV;gBACI,IAAI,GAAG,IAAI,2DAAY,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;gBAC9C,MAAM;YACV;gBACI,IAAI,GAAG,IAAI,6DAAa,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;gBAC/C,MAAM;YACV;gBACI,IAAI,GAAG,IAAI,iEAAe,CAAC,IAAI,CAAC,SAAS,EAAE,IAA0B,CAAC,CAAC;gBACvE,MAAM;YACV;gBACI,IAAI,GAAG,IAAI,iEAAe,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;gBACjD,MAAM;YACV;gBACI,IAAI,GAAG,IAAI,iEAAe,CAAC,IAAI,CAAC,SAAS,EAAE,IAA0B,CAAC,CAAC;gBACvE,MAAM;YACV;gBACI,IAAI,GAAG,IAAI,+DAAc,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;gBAChD,MAAM;YACV;gBACI,IAAI,GAAG,IAAI,mEAAgB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;gBAClD,MAAM;YACV;gBACI,IAAI,GAAG,IAAI,CAAC,yBAAyB,CAAC,IAA+B,CAAC,CAAC;gBACvE,MAAM;YACV;gBACI,IAAI,GAAG,IAAI,uEAAkB,CAAC,IAAI,CAAC,SAAS,EAAE,IAA6B,CAAC,CAAC;gBAC7E,MAAM;YACV;gBACI,IAAI,GAAG,IAAI,6EAAqB,CAAC,IAAI,CAAC,SAAS,EAAE,IAA2B,CAAC,CAAC;gBAC9E,MAAM;YACV;gBACI,IAAM,SAAS,GAAG,IAAmB,CAAC;gBACtC,IAAM,YAAY,GAAwB;oBACtC,IAAI,4BAA8B;oBAClC,MAAM,EAAE,SAAS,CAAC,MAAM;oBACxB,IAAI,EAAE,UAAU;iBACnB,CAAC;gBAEF,YAAY,CAAC,MAAM,GAAG,EAAE,CAAC;gBACzB,IAAI,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;oBAC/B,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;iBAC5C;qBACI;oBACD,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;iBACjD;gBACD,IAAI,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;oBAChC,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;iBAC7C;qBACI;oBACD,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;iBAClD;gBACD,IAAI,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;oBAChC,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;iBAC7C;qBACI;oBACD,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;iBAClD;gBACD,IAAI,GAAG,IAAI,6EAAqB,CAAC,IAAI,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC;gBAC/D,MAAM;YACV;gBACI,IAAM,SAAS,GAAG,IAAmB,CAAC;gBACtC,IAAM,YAAY,GAAwB;oBACtC,IAAI,4BAA8B;oBAClC,MAAM,EAAE,SAAS,CAAC,MAAM;oBACxB,IAAI,EAAE,UAAU;iBACnB,CAAC;gBAEF,YAAY,CAAC,MAAM,GAAG,EAAE,CAAC;gBACzB,IAAI,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;oBAC/B,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;iBAC5C;qBACI;oBACD,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;iBACjD;gBACD,IAAI,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE;oBAChC,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;iBAC7C;qBACI;oBACD,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;iBAClD;gBACD,IAAI,GAAG,IAAI,6EAAqB,CAAC,IAAI,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC;gBAC/D,MAAM;YACV;gBACI,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAkB,CAAC,CAAC;gBACzC,MAAM;YACV;gBACI,IAAI,GAAG,IAAI,qDAAS,EAAE,CAAC;gBACvB,MAAM;YACV;gBACI,IAAI,GAAG,IAAI,mDAAQ,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;gBAC1C,MAAM;YACV;gBACI,IAAI,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;gBAClC,MAAM;YACV;gBACI,IAAI,GAAG,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;gBACnC,MAAM;YACV;gBACI,IAAI,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;gBAClC,MAAM;YACV;gBACI,MAAM;SACb;QAED,OAAO,IAAI,CAAC;IAChB,CAAC;IAEO,iCAAY,GAApB,UAAqB,IAAmB,EAAE,IAAa;QACnD,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAW,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;gBAC7D,IAAM,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;gBACjC,IAAM,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;gBAE3C,IAAI,OAAO,EAAE;oBACT,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;iBAC5B;aACJ;SACJ;IACL,CAAC;IAEO,0CAAqB,GAA7B,UAA8B,IAAa;QACvC,IAAM,SAAS,GAA4B;YACvC,IAAI,2BAA6B;YACjC,KAAK,iBAAoB;YACzB,MAAM,EAAE,EAAE;SACb,CAAC;QACF,IAAM,IAAI,GAAoB,IAAI,gEAAe,CAAC,IAAI,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;QAE7E,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QAE9B,OAAO,IAAI,CAAC;IAChB,CAAC;IACO,oCAAe,GAAvB,UAAwB,IAAa;QACjC,IAAM,WAAW,GAA4B;YACzC,IAAI,2BAA6B;YACjC,KAAK,qBAAsB;YAC3B,MAAM,EAAE,EAAE;SACb,CAAC;QACF,IAAM,IAAI,GAAoB,IAAI,gEAAe,CAAC,IAAI,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC;QAE/E,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QAE9B,OAAO,IAAI,CAAC;IAChB,CAAC;IAEO,qCAAgB,GAAxB,UAAyB,IAAwB;QAC7C,IAAM,IAAI,GAAoB,IAAI,gEAAe,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;QAExE,OAAO,IAAI,CAAC;IAChB,CAAC;IAEO,+BAAU,GAAlB,UAAmB,IAAa;QAC5B,IAAM,iBAAiB,GAA4B;YAC/C,KAAK,qBAAsB;YAC3B,IAAI,2BAA6B;YACjC,MAAM,EAAE,IAAI,CAAC,MAAM;SACtB,CAAC;QACF,IAAM,IAAI,GAAoB,IAAI,gEAAe,CAAC,IAAI,CAAC,SAAS,EAAE,iBAAiB,CAAC,CAAC;QAErF,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QAE9B,OAAO,IAAI,CAAC;IAChB,CAAC;IAEO,iCAAY,GAApB,UAAqB,IAAoB;QACrC,IAAM,IAAI,GAAgB,IAAI,wDAAW,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;QAEhE,OAAO,IAAI,CAAC;IAChB,CAAC;IAEO,4BAAO,GAAf,UAAgB,IAAa;QACzB,IAAM,IAAI,GAAW,IAAI,8CAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAEhD,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAW,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;gBAC7D,IAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;gBAE/B,IAAI,MAAM,CAAC,IAAI,eAAkB;uBAC1B,MAAM,CAAC,IAAI,mBAAsB;uBACjC,MAAM,CAAC,IAAI,kBAAoB,EAAE;oBACpC,IAAM,SAAS,GAAI,MAAwB,CAAC,SAAS,CAAC;oBACtD,IAAM,YAAY,GAAG,IAAI,yDAAS,EAAE,CAAC;oBAErC,IAAI,MAAM,CAAC,OAAO,EAAE;wBAChB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,IAAI,GAAW,MAAM,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC,GAAG,IAAI,EAAE,CAAC,EAAE,EAAE;4BACjE,IAAM,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;4BAEpD,IAAI,OAAO,EAAE;gCACT,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;6BACjC;yBACJ;qBACJ;oBACD,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC;iBAC9C;aACJ;SACJ;QAED,OAAO,IAAI,CAAC;IAChB,CAAC;IAEO,wCAAmB,GAA3B,UAA4B,IAAqB;QAC7C,IAAM,OAAO,GAAiB,IAAI,0DAAY,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QAE1E,IAAI,CAAC,YAAY,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;QACjC,IAAM,IAAI,GAAuB,IAAI,sEAAkB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;QAElG,OAAO,IAAI,CAAC;IAChB,CAAC;IAEO,sCAAiB,GAAzB,UAA0B,IAAqB;QAC3C,IAAM,IAAI,GAAqB,IAAI,kEAAgB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QAErF,OAAO,IAAI,CAAC;IAChB,CAAC;IAEO,+BAAU,GAAlB,UAAmB,IAAa;QAC5B,IAAM,IAAI,GAAc,IAAI,oDAAS,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;QAE5D,OAAO,IAAI,CAAC;IAChB,CAAC;IAEO,0CAAqB,GAA7B,UAA8B,IAA6B;QACvD,IAAM,IAAI,GAAoB,IAAI,gEAAe,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;QAExE,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QAE9B,OAAO,IAAI,CAAC;IAChB,CAAC;IAEO,6CAAwB,GAAhC,UAAiC,IAA6B;QAC1D,IAAM,IAAI,GAAuB,IAAI,uEAAkB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;QAE9E,OAAO,IAAI,CAAC;IAChB,CAAC;IAEO,mCAAc,GAAtB,UAAuB,IAAsB;QACzC,IAAM,IAAI,GAAkB,IAAI,6DAAa,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;QAEpE,OAAO,IAAI,CAAC;IAChB,CAAC;IACO,8CAAyB,GAAjC,UAAkC,IAA6B;QAC3D,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,IAAM,IAAI,GACJ,IAAI,yEAAmB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;YAEpD,OAAO,IAAI,CAAC;SACf;IACL,CAAC;IACO,+BAAU,GAAlB,UAAmB,IAAkB;QACjC,IAAM,IAAI,GAAG,IAAI,oDAAS,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;QAEjD,OAAO,IAAI,CAAC;IAChB,CAAC;IACO,uCAAkB,GAA1B,UAA2B,IAA0B;QACjD,IAAM,IAAI,GAAsB,IAAI,qEAAiB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;QAE5E,OAAO,IAAI,CAAC;IAChB,CAAC;IACO,yCAAoB,GAA5B,UAA6B,IAAiB;QAC1C,IAAM,IAAI,GAAwB,IAAI,yEAAmB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QAE3F,OAAO,IAAI,CAAC;IAChB,CAAC;IACO,yCAAoB,GAA5B,UAA6B,IAAiB;QAC1C,IAAM,IAAI,GAAwB,IAAI,yEAAmB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QAE3F,OAAO,IAAI,CAAC;IAChB,CAAC;IACO,qCAAgB,GAAxB,UAAyB,IAAiB;QACtC,IAAM,IAAI,GAAoB,IAAI,iEAAe,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;QAE/F,OAAO,IAAI,CAAC;IAChB,CAAC;IAEO,6BAAQ,GAAhB,UAAiB,IAAgB;QAC7B,IAAM,IAAI,GAAG,IAAI,iDAAO,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;QAE/C,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QAE9B,OAAO,IAAI,CAAC;IAChB,CAAC;IACO,oCAAe,GAAvB,UAAwB,IAAa;QACjC,IAAM,IAAI,GAAmB,IAAI,+DAAc,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;QAEtE,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QAE9B,OAAO,IAAI,CAAC;IAChB,CAAC;IAEO,qCAAgB,GAAxB,UAAyB,IAAa;QAClC,IAAM,IAAI,GAAoB,IAAI,iEAAe,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;QAExE,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QAE9B,OAAO,IAAI,CAAC;IAChB,CAAC;IACO,oCAAe,GAAvB,UAAwB,IAAa;QACjC,IAAM,IAAI,GAAmB,IAAI,+DAAc,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;QAEtE,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QAE9B,OAAO,IAAI,CAAC;IAChB,CAAC;IACT,iBAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACleD,6CAA6C;AACQ;AACT;AACU;AAKE;AAGxD;IAAyC,uCAAa;IAalD,6BAAY,SAAsB,EAAE,IAA6B;QAAjE,YACI,iBAAO,SAQV;QAbS,WAAK,GAAW,CAAC,CAAC,CAAC;QAMzB,KAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC3B,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,KAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,KAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC;QAC5B,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,KAAK,IAAI,CAAC;QACnC,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,KAAK,IAAI,CAAC;QACnC,KAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;;IAChC,CAAC;IAEM,iCAAG,GAAV;QACI,iBAAM,GAAG,WAAE,CAAC;QACZ,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;QAC1B,IAAI,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,KAAK,CAAC,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,OAAO,EAAE;YACpE,IAAI,CAAC,WAAW,GAAG;gBACf,IAAI,uBAAyB;gBAC7B,IAAI,EAAE,IAAI,CAAC,OAAO;gBAClB,MAAM,EAAE,EAAE;aACb,CAAC;YAEF,IAAM,gBAAgB,GAClB,IAAI,kEAAgB,CAAC,IAAI,CAAC,SAAgB,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;YAChF,IAAI,CAAC,OAAO,GAAG,gBAAgB,CAAC;YAChC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;SAC3C;QACD,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,wDAAS,CAAC,cAAc,EAAE,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;SACzE;QACD,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,IAAI,CAAC,MAAM,EAAE;gBACb,IAAM,OAAO,GAAI,IAAI,CAAC,SAAyB,CAAC,OAAO,CAAC;gBACxD,IAAI,OAAO,EAAE;oBACT,OAAO,CAAC,WAAW,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;iBAC/D;aACJ;iBAAM,IAAI,IAAI,CAAC,MAAM,EAAE;gBACpB,IAAM,OAAO,GAAI,IAAI,CAAC,SAAyB,CAAC,OAAO,CAAC;gBACxD,IAAI,OAAO,EAAE;oBACT,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;iBACnD;aACJ;iBAAM;gBACH,IAAI,CAAC,UAAU,GAAG,wEAAkB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBACvE,IAAI,IAAI,CAAC,UAAU,EAAE;oBACjB,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;iBAC3D;aACJ;SACJ;QACD,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IAGM,kCAAI,GAAX;QACI,IAAI,CAAC,QAAQ,EAAE,CAAC;QAEhB,IAAI,IAAI,CAAC,UAAU,EAAE;YACjB,IAAI,IAAI,CAAC,MAAM,EAAE;gBACb,IAAM,OAAO,GAAI,IAAI,CAAC,UAA0B,CAAC,OAAO,CAAC;gBACzD,IAAI,OAAO,EAAE;oBACT,OAAO,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;iBAChE;aACJ;iBAAM,IAAI,IAAI,CAAC,MAAM,EAAE;gBACpB,IAAM,OAAO,GAAI,IAAI,CAAC,UAA0B,CAAC,OAAO,CAAC;gBACzD,IAAI,OAAO,EAAE;oBACT,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;iBACpD;aACJ;iBAAM;gBACH,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;aAC5D;SACJ;QACD,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,wDAAS,CAAC,cAAc,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;YACjE,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;SAC5B;QAED,iBAAM,IAAI,WAAE,CAAC;IACjB,CAAC;IACM,mCAAK,GAAZ;QACI,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,iBAAM,KAAK,WAAE,CAAC;IAClB,CAAC;IAES,4CAAc,GAAxB;QACI,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;IAC9B,CAAC;IAES,4CAAc,GAAxB,UAAyB,GAAW;QAChC,IAAI,GAAG,CAAC,IAAI,KAAK,IAAI,CAAC,SAAS,EAAE;YAC7B,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;SACtB;IACL,CAAC;IAES,sCAAQ,GAAlB;QAAmB,gBAAc;aAAd,UAAc,EAAd,qBAAc,EAAd,IAAc;YAAd,2BAAc;;QAC7B,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,OAAO;SACV;QACD,IAAI,MAAM,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,IAAI,IAAI,CAAC,WAAW,EAAE;YACjD,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,MAAM,CAAC;SACpC;QACD,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,aAAa,EAAE;YACrC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;YAC3B,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC;SACvB;IACL,CAAC;IACL,0BAAC;AAAD,CAAC,CApHwC,iEAAa,GAoHrD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/HoD;AACT;AAKY;AAExD;IAAqC,mCAAa;IAS1C,yBAAY,SAAsB,EAAE,IAA6B;QAAjE,YACI,iBAAO,SAOV;QANG,KAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,KAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC3B,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,KAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC;QAC5B,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,KAAK,IAAI,CAAC;QACnC,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,KAAK,IAAI,CAAC;;IACvC,CAAC;IAEM,6BAAG,GAAV;QACI,iBAAM,GAAG,WAAE,CAAC;QAEZ,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;QAC1B,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACf,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,wDAAS,CAAC,cAAc,EAAE,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;aACzE;YAED,IAAI,IAAI,CAAC,MAAM,EAAE;gBACb,IAAM,OAAO,GAAI,IAAI,CAAC,SAAyB,CAAC,OAAO,CAAC;gBACxD,IAAI,OAAO,EAAE;oBACT,OAAO,CAAC,WAAW,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;iBAC/D;aACJ;iBAAM,IAAI,IAAI,CAAC,MAAM,EAAE;gBACpB,IAAM,OAAO,GAAI,IAAI,CAAC,SAAyB,CAAC,OAAO,CAAC;gBACxD,IAAI,OAAO,EAAE;oBACT,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;iBACnD;aACJ;iBAAM;gBACH,IAAI,CAAC,UAAU,GAAG,wEAAkB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBACvE,IAAI,IAAI,CAAC,UAAU,EAAE;oBACjB,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;iBAC3D;aACJ;SACJ;QACD,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IAGM,8BAAI,GAAX;QACI,IAAI,CAAC,QAAQ,EAAE,CAAC;QAEhB,IAAI,IAAI,CAAC,UAAU,EAAE;YACjB,IAAI,IAAI,CAAC,MAAM,EAAE;gBACb,IAAM,OAAO,GAAI,IAAI,CAAC,UAA0B,CAAC,OAAO,CAAC;gBACzD,IAAI,OAAO,EAAE;oBACT,OAAO,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;iBAChE;aACJ;iBAAM,IAAI,IAAI,CAAC,MAAM,EAAE;gBACpB,IAAM,OAAO,GAAI,IAAI,CAAC,UAA0B,CAAC,OAAO,CAAC;gBACzD,IAAI,OAAO,EAAE;oBACT,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;iBACpD;aACJ;iBAAM;gBACH,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;aAC5D;SACJ;QACD,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,wDAAS,CAAC,cAAc,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;YACjE,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;SAC5B;QAED,iBAAM,IAAI,WAAE,CAAC;IACjB,CAAC;IACM,+BAAK,GAAZ;QACI,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,iBAAM,KAAK,WAAE,CAAC;IAClB,CAAC;IAES,wCAAc,GAAxB;QACI,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;IAC9B,CAAC;IAES,wCAAc,GAAxB,UAAyB,GAAW;QAChC,IAAI,GAAG,CAAC,IAAI,KAAK,IAAI,CAAC,SAAS,EAAE;YAC7B,IAAI,CAAC,QAAQ,EAAE,CAAC;SACnB;IACL,CAAC;IAES,kCAAQ,GAAlB;QACI,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,OAAO;SACV;QACD,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,aAAa,EAAE;YACrC,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;YAC3B,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC;SACvB;IACL,CAAC;IACL,sBAAC;AAAD,CAAC,CAlGgC,iEAAa,GAkG7C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1GsC;AAI3C;IAAqC,mCAAQ;IAKrC,yBAAY,UAAuB,EAAE,IAAwB;QAA7D,YACI,iBAAO,SAGV;QAFG,KAAI,CAAC,SAAS,GAAG,UAAU,CAAC;QAC5B,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;;IACrB,CAAC;IAEM,6BAAG,GAAV;QACI,iBAAM,GAAG,WAAE,CAAC;QACZ,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YAC5C,IAAM,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,eAAe,CAAC;YAC/D,IAAM,OAAO,GAAG,eAAe,CAAC,iBAAiB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACpF,IAAM,UAAU,GAAG,eAAe,CAAC,iBAAiB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YAC1F,IAAI,OAAO,IAAI,UAAU,EAAE;gBACvB,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;oBACjB,OAAO,CAAC,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;iBAC5D;qBAAM;oBACH,OAAO,CAAC,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC;iBAC7C;aACJ;SACJ;QACD,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IACL,sBAAC;AAAD,CAAC,CA3BgC,uDAAQ,GA2BxC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/BsC;AAI3C;IAAmC,iCAAQ;IAKnC,uBAAY,UAAuB,EAAE,IAAa;QAAlD,YACI,iBAAO,SAGV;QAFG,KAAI,CAAC,SAAS,GAAG,UAAU,CAAC;QAC5B,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;;IACrB,CAAC;IAEM,2BAAG,GAAV;QACI,iBAAM,GAAG,WAAE,CAAC;QACZ,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YAC5C,IAAM,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,eAAe,CAAC;YAC/D,IAAM,OAAO,GAAG,eAAe,CAAC,iBAAiB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACpF,IAAI,OAAO,EAAE;gBACT,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;aACnC;SACJ;QACD,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IACL,oBAAC;AAAD,CAAC,CAtB8B,uDAAQ,GAsBtC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1BsC;AAI3C;IAAkC,gCAAQ;IAKlC,sBAAY,UAAuB,EAAE,IAAa;QAAlD,YACI,iBAAO,SAGV;QAFG,KAAI,CAAC,SAAS,GAAG,UAAU,CAAC;QAC5B,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;;IACrB,CAAC;IAEM,0BAAG,GAAV;QACI,iBAAM,GAAG,WAAE,CAAC;QACZ,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YAC5C,IAAM,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,eAAe,CAAC;YAC/D,IAAM,OAAO,GAAG,eAAe,CAAC,iBAAiB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACpF,IAAI,OAAO,EAAE;gBACT,OAAO,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC;aACvB;SACJ;QACD,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IACL,mBAAC;AAAD,CAAC,CAtB6B,uDAAQ,GAsBrC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1BsC;AAI3C;IAAmC,iCAAQ;IAKnC,uBAAY,UAAuB,EAAE,IAAa;QAAlD,YACI,iBAAO,SAGV;QAFG,KAAI,CAAC,SAAS,GAAG,UAAU,CAAC;QAC5B,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;;IACrB,CAAC;IAEM,2BAAG,GAAV;QACI,iBAAM,GAAG,WAAE,CAAC;QACZ,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YAC5C,IAAM,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,eAAe,CAAC;YAC/D,IAAM,OAAO,GAAG,eAAe,CAAC,iBAAiB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACpF,IAAI,OAAO,EAAE;gBACT,IAAM,GAAG,GAAG,OAAO,CAAC,KAAK,CAAC;gBAC1B,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aAC7B;SACJ;QACD,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IACL,oBAAC;AAAD,CAAC,CAvB8B,uDAAQ,GAuBtC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3BsC;AAI3C;IAAqC,mCAAQ;IAKrC,yBAAY,UAAuB,EAAE,IAAa;QAAlD,YACI,iBAAO,SAGV;QAFG,KAAI,CAAC,SAAS,GAAG,UAAU,CAAC;QAC5B,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;;IACrB,CAAC;IAEM,6BAAG,GAAV;QACI,iBAAM,GAAG,WAAE,CAAC;QACZ,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YAC5C,IAAM,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,eAAe,CAAC;YAC/D,IAAM,OAAO,GAAG,eAAe,CAAC,iBAAiB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACpF,IAAI,OAAO,EAAE;gBACT,IAAM,GAAG,GAAG,OAAO,CAAC,KAAK,CAAC;gBAC1B,eAAe,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;aAChC;SACJ;QACD,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IACL,sBAAC;AAAD,CAAC,CAvBgC,uDAAQ,GAuBxC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3BsC;AAI3C;IAAoC,kCAAQ;IAKpC,wBAAY,UAAuB,EAAE,IAAa;QAAlD,YACI,iBAAO,SAGV;QAFG,KAAI,CAAC,SAAS,GAAG,UAAU,CAAC;QAC5B,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;;IACrB,CAAC;IAEM,4BAAG,GAAV;QACI,iBAAM,GAAG,WAAE,CAAC;QACZ,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YAC5C,IAAM,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,eAAe,CAAC;YAC/D,IAAM,OAAO,GAAG,eAAe,CAAC,iBAAiB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACpF,IAAI,OAAO,EAAE;gBACT,OAAO,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;aACzB;SACJ;QACD,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IACL,qBAAC;AAAD,CAAC,CAtB+B,uDAAQ,GAsBvC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1BsC;AAI3C;IAAqC,mCAAQ;IAKrC,yBAAY,UAAuB,EAAE,IAAwB;QAA7D,YACI,iBAAO,SAGV;QAFG,KAAI,CAAC,SAAS,GAAG,UAAU,CAAC;QAC5B,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;;IACrB,CAAC;IAEM,6BAAG,GAAV;QACI,iBAAM,GAAG,WAAE,CAAC;QACZ,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YAC5C,IAAM,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,eAAe,CAAC;YAC/D,IAAM,OAAO,GAAG,eAAe,CAAC,iBAAiB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACpF,IAAI,OAAO,EAAE;gBACT,IAAM,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;gBAC9B,IAAI,KAAK,KAAK,SAAS,EAAE;oBACrB,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,WAAW,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC;iBAC5E;qBAAM;oBACH,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,IAAI,CAAC,WAAW,IAAI,CAAC,CAAC,CAAC;iBACrE;aACJ;SACJ;QACD,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IACL,sBAAC;AAAD,CAAC,CA3BgC,uDAAQ,GA2BxC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/BsC;AAI3C;IAAsC,oCAAQ;IAKtC,0BAAY,UAAuB,EAAE,IAAa;QAAlD,YACI,iBAAO,SAGV;QAFG,KAAI,CAAC,SAAS,GAAG,UAAU,CAAC;QAC5B,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;;IACrB,CAAC;IAEM,8BAAG,GAAV;QACI,iBAAM,GAAG,WAAE,CAAC;QACZ,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YAC5C,IAAM,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,eAAe,CAAC;YAC/D,IAAM,OAAO,GAAG,eAAe,CAAC,iBAAiB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACpF,IAAI,OAAO,EAAE;gBACT,IAAM,GAAG,GAAG,OAAO,CAAC,KAAK,CAAC;gBAC1B,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aAChC;SACJ;QACD,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IACL,uBAAC;AAAD,CAAC,CAvBiC,uDAAQ,GAuBzC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3BiD;AAEtD;IAA+B,6BAAQ;IAG/B;eACI,iBAAO;IACX,CAAC;IAEM,uBAAG,GAAV;QACI,iBAAM,GAAG,WAAE,CAAC;QACZ,IAAI,CAAC,KAAK,EAAE,CAAC;QACb,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IACL,gBAAC;AAAD,CAAC,CAZ0B,uDAAQ,GAYlC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACdiD;AACE;AAGH;AACG;AAExD;IAAsC,oCAAQ;IAStC,0BAAY,UAAuB,EAAE,OAAe,EAAE,IAAyB;QAA/E,YACI,iBAAO,SAIV;QARS,WAAK,GAAW,CAAC,CAAC,CAAC;QAEnB,cAAQ,GAAa,EAAE,CAAC;QAG9B,KAAI,CAAC,SAAS,GAAG,UAAU,CAAC;QAC5B,KAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;;IACrB,CAAC;IAEM,8BAAG,GAAV;QACI,iBAAM,GAAG,WAAE,CAAC;QACZ,IAAI,CAAC,UAAU,GAAG,wEAAkB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAgB,CAAC;QACtF,IAAI,IAAI,CAAC,UAAU,YAAY,gEAAW,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,CAAC,OAAO,EAAG;YACvF,IAAM,eAAe,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,eAAe,CAAC;YAChE,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC;YACzB,IAAI,CAAC,KAAK,GAAG,eAAe,CAAC,aAAa,EAAE,CAAC;YAC7C,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC;YAChD,OAAO;YACP,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;YACzB,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;gBAClB,IAAM,WAAW,GAAU,EAAE,CAAC;gBAC9B,KAAM,IAAI,CAAC,GAAW,CAAC,EAAE,GAAG,GAAW,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;oBAC1E,IAAM,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;oBAClC,IAAI,UAAU,GAAG,KAAK,CAAC;oBACvB,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;wBACtB,IAAM,QAAQ,GAAG,eAAe,CAAC,mBAAmB,CAAC,IAAI,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;wBAC5E,UAAU,GAAG,QAAQ,CAAC;qBACzB;oBACD,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;iBAChC;gBACD,KAAK,IAAI,CAAC,GAAW,CAAC,EAAE,GAAG,GAAW,WAAW,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;oBACpE,IAAM,OAAO,GAAG,KAAK,GAAG,IAAI,CAAC,KAAK,GAAG,QAAQ,GAAG,CAAC,CAAC;oBAClD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;oBAC5B,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,gEAAe,CAAC,SAAS,CAAC,EAAE;wBACzD,eAAe,CAAC,WAAW,CAAC,gEAAe,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC;qBAC/D;oBACD,eAAe,CAAC,WAAW,CAAC,gEAAe,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,GAAG;wBAC9D,EAAE,EAAE,OAAO;wBACX,IAAI,uBAAqB;wBACzB,KAAK,EAAE,WAAW,CAAC,CAAC,CAAC;qBACxB,CAAC;iBACL;aACJ;YACD,IAAI,CAAC,GAAG,GAAG,eAAe,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;YAClD,IAAI,IAAI,CAAC,GAAG,EAAE;gBACV,YAAY;gBACZ,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE;oBACtB,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;iBACxC;gBACD,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,wDAAS,CAAC,qBAAqB,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;gBACvE,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aAClC;iBAAM;gBACH,IAAI,CAAC,QAAQ,EAAE,CAAC;aACnB;SACJ;aAAM;YACH,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;gBACxB,IAAM,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,eAAe,CAAC;gBAC/D,IAAM,SAAS,GAAG,IAAI,CAAC,UAAiB,CAAC;gBACzC,IAAK,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;gBAC9B,IAAI,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;oBACxB,OAAO,GAAG,eAAe,CAAC,mBAAmB,CAAC,IAAI,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;iBAC1E;gBACD,IAAM,QAAQ,GAAG,EAAE,CAAC;gBACpB,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;oBAClB,KAAK,IAAI,CAAC,GAAW,CAAC,EAAE,GAAG,GAAW,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;wBACzE,IAAM,KAAK,GAAG,eAAe,CAAC,mBAAmB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;wBACvF,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;qBACxB;iBACJ;gBACD,IAAI,SAAS,IAAI,OAAO,IAAI,SAAS,CAAC,OAAiB,CAAC,EAAE;oBACtD,sCAAsC;oBACrC,SAAS,CAAC,OAAiB,CAAc,CAAC,KAAK,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;iBACzE;aAEJ;YACD,IAAI,CAAC,QAAQ,EAAE,CAAC;SACnB;IACL,CAAC;IAEM,+BAAI,GAAX;QACI,iBAAM,IAAI,WAAE,CAAC;QACb,IAAI,IAAI,CAAC,GAAG,EAAE;YACV,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SACnC;QACD,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IAEM,gCAAK,GAAZ;QACI,iBAAM,KAAK,WAAE,CAAC;QACd,IAAI,IAAI,CAAC,GAAG,EAAE;YACV,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SACpC;QACD,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IAEM,mCAAQ,GAAf;QACI,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;QACf,IAAI,IAAI,CAAC,GAAG,EAAE;YACV,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,wDAAS,CAAC,qBAAqB,EAAG,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;SAC5E;QACD,OAAO;QACP,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE;YACtB,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;gBAC1C,IAAM,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,eAAe,CAAC;gBAC/D,KAAK,IAAI,CAAC,GAAW,CAAC,EAAE,GAAG,GAAW,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;oBACtE,IAAM,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;oBACjC,OAAO,eAAe,CAAC,WAAW,CAAC,gEAAe,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,CAAC;iBAC1E;aACJ;SACJ;QACD,iBAAM,QAAQ,WAAE,CAAC;IACrB,CAAC;IAEO,wCAAa,GAArB,UAAsB,IAAS;QAC3B,IAAI,IAAI,KAAK,IAAI,CAAC,KAAK,EAAE;YACrB,IAAI,CAAC,QAAQ,EAAE,CAAC;SACnB;IACL,CAAC;IACL,uBAAC;AAAD,CAAC,CA7HiC,uDAAQ,GA6HzC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpIsC;AAGa;AAExD;IAA2C,yCAAQ;IAK3C,+BAAY,UAAuB,EAAE,IAAyB;QAA9D,YACI,iBAAO,SAIV;QAHG,KAAI,CAAC,SAAS,GAAG,UAAU,CAAC;QAC5B,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;;IAErB,CAAC;IAED,sBAAW,yCAAM;aAAjB;YACI,OAAO,wEAAkB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAChE,CAAC;;;OAAA;IACM,mCAAG,GAAV;QACI,iBAAM,GAAG,WAAE,CAAC;QACZ,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;YACxB,IAAM,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,eAAe,CAAC;YAC/D,IAAM,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC;YAC9B,IAAK,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;YAC9B,IAAI,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;gBACxB,OAAO,GAAG,eAAe,CAAC,mBAAmB,CAAC,IAAI,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;aAC1E;YACD,IAAM,QAAQ,GAAG,EAAE,CAAC;YACpB,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;gBAClB,KAAK,IAAI,CAAC,GAAW,CAAC,EAAE,GAAG,GAAW,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;oBACzE,IAAM,KAAK,GAAG,eAAe,CAAC,mBAAmB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;oBACvF,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;iBACxB;aACJ;YACD,IAAI,SAAS,IAAI,OAAO,IAAI,SAAS,CAAC,OAAiB,CAAC,EAAE;gBACtD,sCAAsC;gBACrC,SAAS,CAAC,OAAiB,CAAc,CAAC,KAAK,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;aACzE;SAEJ;QAED,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IACL,4BAAC;AAAD,CAAC,CAxCsC,uDAAQ,GAwC9C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7CsC;AAIa;AAExD;IAAwC,sCAAQ;IAQxC,4BAAY,UAAuB,EAAE,OAAe,EAAE,IAAa,EAAE,GAAiB;QAAtF,YACI,iBAAO,SAKV;QARS,WAAK,GAAW,EAAE,CAAC;QAIzB,KAAI,CAAC,SAAS,GAAG,UAAU,CAAC;QAC5B,KAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,KAAI,CAAC,GAAG,GAAG,GAAG,CAAC;QACf,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;;IACrB,CAAC;IAEM,gCAAG,GAAV;QACI,iBAAM,GAAG,WAAE,CAAC;QACZ,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;YACxB,IAAM,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,eAAe,CAAC;YAC/D,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC;YACzB,IAAM,YAAY,GAAG,wEAAkB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YAC1E,IAAI,YAAY,EAAE;gBACd,KAAK,GAAI,YAA4B,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC;aACjE;YACD,eAAe,CAAC,eAAe,CAAC,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;YACjD,IAAI,CAAC,QAAQ,EAAE,CAAC;SACnB;aAAM;YACH,IAAI,CAAC,QAAQ,EAAE,CAAC;SACnB;IAEL,CAAC;IACM,iCAAI,GAAX;QACI,iBAAM,IAAI,WAAE,CAAC;IACjB,CAAC;IACL,yBAAC;AAAD,CAAC,CAnCmC,uDAAQ,GAmC3C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzCsC;AAGa;AAExD;IAAwC,sCAAQ;IAKxC,4BAAY,UAAuB,EAAE,IAA2B;QAAhE,YACI,iBAAO,SAGV;QAFG,KAAI,CAAC,SAAS,GAAG,UAAU,CAAC;QAC5B,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;;IACrB,CAAC;IAEM,gCAAG,GAAV;QACI,iBAAM,GAAG,WAAE,CAAC;QACZ,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;YAC1C,IAAM,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,eAAe,CAAC;YAC/D,IAAM,eAAe,GAAgB,wEAAkB,CAAC,IAAI,CAAC,SAAS,EACd,IAAI,CAAC,IAAI,CAAC,MAAM,CAAgB,CAAC;YACzF,IAAI,eAAe,EAAE;gBACjB,eAAe,CAAC,0BAA0B,CAAC,eAAe,EACf,IAAI,CAAC,IAAI,CAAC,KAAK,EACf,IAAI,CAAC,IAAI,CAAC,YAAY,EACtB,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aAC/D;iBAAM;gBACH,eAAe,CAAC,uBAAuB,CACC,IAAI,CAAC,IAAI,CAAC,KAAK,EACf,IAAI,CAAC,IAAI,CAAC,YAAY,EACtB,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aAC5D;SACJ;QAGD,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IACL,yBAAC;AAAD,CAAC,CAjCmC,uDAAQ,GAiC3C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtCsC;AAMa;AAExD;IAAmC,iCAAQ;IAWnC,uBAAY,SAAsB,EAAE,IAAsB;QAA1D,YACI,iBAAO,SAOV;QANG,KAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,KAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC;QAC5B,KAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;QAChC,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,KAAK,IAAI,CAAC;QACnC,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,KAAK,IAAI,CAAC;;IACvC,CAAC;IAEM,2BAAG,GAAV;QACI,iBAAM,GAAG,WAAE,CAAC;QACL,8BAAS,CAAS;QACzB,IAAI,SAAS,EAAE;YACX,IAAM,aAAa,GAAG,IAAI,CAAC,gBAAgB,EAAE,CAAC;YAC9C,IAAI,IAAI,CAAC,MAAM,EAAE;gBACb,IAAI,SAAS,CAAC,OAAO,EAAE;oBACnB,IAAM,WAAW,GAAG,SAAS,CAAC,OAAO,CAAC,WAAW,CAAC;oBAClD,IAAI,OAAO,aAAa,KAAK,QAAQ,EAAE;wBAClC,aAAwB,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;wBAChD,IAAI,IAAI,CAAC,SAAS,4BAAsB,EAAE;4BACtC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,aAAa,CAAC,CAAC;yBACnD;wBACD,WAAW,CAAC,IAAI,0BAAoB,aAAa,CAAC,CAAC,CAAC,MAAM;qBAC7D;yBAAM;wBACH,WAAW,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,SAAS;4BACd,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,2BAAsB,IAAI,CAAC,CAAC;qBAC7F;iBACJ;aACJ;iBAAM,IAAI,IAAI,CAAC,MAAM,EAAE;gBACpB,IAAI,SAAS,CAAC,OAAO,EAAE;oBACnB,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,aAAa,CAAC,CAAC;iBACzD;aACJ;iBAAM;gBACH,IAAI,CAAC,MAAM,GAAG,wEAAkB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBACnE,IAAI,IAAI,CAAC,MAAM,EAAE;oBACb,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,aAAa,CAAC,CAAC;iBACnD;aAEJ;SACJ;QACD,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IAEM,4BAAI,GAAX;QACI,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,iBAAM,IAAI,WAAE,CAAC;IACjB,CAAC;IACM,6BAAK,GAAZ;QACI,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,iBAAM,KAAK,WAAE,CAAC;IAClB,CAAC;IACO,wCAAgB,GAAxB;QACI,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE;YAC/B,IAAI,IAAI,CAAC,SAAS,EAAE;gBAChB,IAAM,OAAO,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC;gBACzC,IAAI,OAAO,EAAE;oBACT,IAAM,IAAI,GAAG,OAAO,CAAC,eAAe,CAAC,mBAAmB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;oBACzF,OAAO,IAAI,CAAC;iBACf;aACJ;SACJ;QACD,OAAO,IAAI,CAAC,SAAS,CAAC;IAC1B,CAAC;IACL,oBAAC;AAAD,CAAC,CA3E8B,uDAAQ,GA2EtC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnFiD;AAID;AAErD;IAAoC,kCAAa;IAMzC,wBAAY,SAAsB,EAAE,IAAa;QAAjD,YACI,iBAAO,SAGV;QANO,sBAAgB,GAAY,IAAI,CAAC;QAIrC,KAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;;IACrB,CAAC;IAEM,4BAAG,GAAV;QACI,iBAAM,GAAG,WAAE,CAAC;QAEZ,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC;YACvC,IAAI,OAAO,IAAI,OAAO,CAAC,GAAG,EAAE;gBACxB,IAAI,IAAI,CAAC,QAAQ,EAAE;oBACf,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,wDAAS,CAAC,cAAc,EAAE,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;iBAClF;gBACD,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;aAC3C;iBAAM;gBACH,IAAI,CAAC,QAAQ,EAAE,CAAC;aACnB;SACJ;aAAM;YACH,IAAI,CAAC,QAAQ,EAAE,CAAC;SACnB;IACL,CAAC;IAEM,iCAAQ,GAAf;QACI,iBAAM,QAAQ,WAAE,CAAC;QACjB,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,wDAAS,CAAC,cAAc,EAAE,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;SACrF;QACD,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC;YACvC,IAAI,OAAO,IAAI,OAAO,CAAC,GAAG,EAAE;gBACxB,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;aAC9C;SACJ;IACL,CAAC;IACM,6BAAI,GAAX;QACI,iBAAM,IAAI,WAAE,CAAC;QACb,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IAEM,8BAAK,GAAZ;QACI,iBAAM,KAAK,WAAE,CAAC;QACd,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC;YACvC,IAAI,OAAO,IAAI,OAAO,CAAC,GAAG,EAAE;gBACxB,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;aAC9C;SACJ;IACL,CAAC;IAEM,+BAAM,GAAb;QACI,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,IAAI,CAAC,SAAS,EAAE;gBAChB,IAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC;gBACvC,IAAI,OAAO,IAAI,OAAO,CAAC,GAAG,EAAE;oBACxB,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;iBAC3C;aACJ;SACJ;QACD,iBAAM,MAAM,WAAE,CAAC;IACnB,CAAC;IAEO,uCAAc,GAAtB;QACI,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;IACjC,CAAC;IACO,6BAAI,GAAZ;QACI,IAAI,IAAI,CAAC,gBAAgB,EAAE;YACvB,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACf,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC;aACvB;SACJ;IACL,CAAC;IACL,qBAAC;AAAD,CAAC,CA/E+B,iEAAa,GA+E5C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrFsC;AAI3C;IAAiC,+BAAQ;IAKjC,qBAAY,UAAuB,EAAE,IAAoB;QAAzD,YACI,iBAAO,SAGV;QAFG,KAAI,CAAC,SAAS,GAAG,UAAU,CAAC;QAC5B,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;;IACrB,CAAC;IAEM,yBAAG,GAAV;QACI,iBAAM,GAAG,WAAE,CAAC;QACZ,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;YAC1C,IAAM,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,eAAe,CAAC;YAC/D,eAAe,CAAC,eAAe,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SACtE;QACD,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IACL,kBAAC;AAAD,CAAC,CAnB4B,uDAAQ,GAmBpC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvBiD;AAGD;AACA;AACY;AAEjE;IAA6B,2BAAa;IAQtC,iBAAY,UAAuB,EAAE,IAAgB;QAArD,YACI,iBAAO,SAGV;QARO,iBAAW,GAAW,CAAC,CAAC;QACxB,eAAS,GAAW,CAAC,CAAC;QACtB,cAAQ,GAAW,EAAE,CAAC;QACtB,eAAS,GAAa,EAAE,CAAC;QAG7B,KAAI,CAAC,SAAS,GAAG,UAAU,CAAC;QAC5B,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;;IACrB,CAAC;IAEM,qBAAG,GAAV;QACI,iBAAM,GAAG,WAAE,CAAC;QACZ,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;QACnC,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC;QACpB,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,wDAAS,CAAC,cAAc,EAAE,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;YACtE,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,wDAAS,CAAC,UAAU,EAAE,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;SACrE;QACD,IAAI,CAAC,SAAS,EAAE,CAAC;QACjB,IAAI,CAAC,MAAM,EAAE,CAAC;IAClB,CAAC;IAEM,uBAAK,GAAZ;QACI,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;SACxB;QACD,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IACM,0BAAQ,GAAf;QACI,IAAI,CAAC,YAAY,EAAE,CAAC;QACpB,iBAAM,QAAQ,WAAE,CAAC;IACrB,CAAC;IAEM,8BAAY,GAAnB,UAAoB,QAAkB;QAClC,IAAI,QAAQ,IAAI,QAAQ,CAAC,MAAM,EAAE;YAC7B,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;SAC7B;IACL,CAAC;IAEO,wBAAM,GAAd;QACI,IAAI,IAAI,CAAC,WAAW,GAAG,CAAC,IAAI,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,GAAG,CAAC,EAAE;YAC/D,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACf,IAAI,CAAC,SAAS,EAAE,CAAC;gBACjB,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;oBAC1C,IAAM,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,eAAe,CAAC;oBAC/D,IAAM,MAAM,GAAG,eAAe,CAAC,iBAAiB,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;oBAChE,IAAI,MAAM,EAAE;wBACR,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC;qBACjC;iBACJ;gBACD,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC;aACvB;iBAAM;gBACH,IAAI,CAAC,QAAQ,EAAE,CAAC;aACnB;SACJ;aAAM;YACH,IAAI,CAAC,QAAQ,EAAE,CAAC;SACnB;IACL,CAAC;IACO,0BAAQ,GAAhB;QACI,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;YACxB,IAAM,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,eAAe,CAAC;YAC/D,IAAM,KAAK,GAAG,eAAe,CAAC,mBAAmB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACnF,IAAI,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;gBACtB,OAAO,KAAK,CAAC,MAAM,CAAC;aACvB;iBAAM;gBACH,OAAO,QAAQ,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;aAC9B;SACJ;QACD,OAAO,CAAC,CAAC;IACb,CAAC;IACO,gCAAc,GAAtB;QACI,IAAI,CAAC,MAAM,EAAE,CAAC;IAClB,CAAC;IACO,2BAAS,GAAjB;QACI,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;YAC1C,IAAM,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,eAAe,CAAC;YAC/D,IAAM,WAAW,GAAU,EAAE,CAAC;YAC9B,IAAM,KAAK,GAAG,eAAe,CAAC,aAAa,EAAE,CAAC;YAC9C,IAAM,OAAO,GAAG,KAAK,GAAG,MAAM,CAAC;YAC/B,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;YACxB,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,gEAAe,CAAC,SAAS,CAAC,EAAE;gBACzD,eAAe,CAAC,WAAW,CAAC,gEAAe,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC;aAC/D;YACD,eAAe,CAAC,WAAW,CAAC,gEAAe,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,GAAG;gBAC9D,EAAE,EAAE,OAAO;gBACX,IAAI,uBAAqB;gBACzB,KAAK,EAAE,CAAC;aACX,CAAC;YACF,GAAG;YACH,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACf,IAAM,QAAQ,GAAa,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBAClE,qFAAuB,CAAC,IAAI,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;aACpD;SACJ;IACL,CAAC;IACO,8BAAY,GAApB;QACI,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;YAC1C,IAAM,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,eAAe,CAAC;YAC/D,IAAM,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC;YAC9B,OAAO,eAAe,CAAC,WAAW,CAAC,gEAAe,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,CAAC;SAC1E;IACL,CAAC;IACL,cAAC;AAAD,CAAC,CA3G4B,iEAAa,GA2GzC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClHoD;AACC;AAUW;AAGjE;IAAkC,gCAAa;IAOvC,sBAAY,UAAgC,EAAE,OAAe;QAA7D,YACI,iBAAO,SAIV;QAPS,iBAAW,GAAa,EAAE,CAAC;QAIjC,KAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC3B,KAAI,CAAC,UAAU,GAAG,UAAU,CAAC;QAC7B,KAAI,CAAC,OAAO,GAAG,OAAO,CAAC;;IAC3B,CAAC;IAEM,mCAAY,GAAnB,UAAoB,QAAkB;QAClC,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,qFAAuB,CAAC,IAAI,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;SACpD;IACL,CAAC;IAGM,gCAAS,GAAhB,UAAiB,EAAU;QACvB,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;YAClB,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;YAC1B,IAAI,CAAC,GAAG,EAAE,CAAC;SACd;IACL,CAAC;IAEM,iCAAU,GAAjB,UAAkB,EAAU;QACxB,IAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QAC3C,IAAI,KAAK,IAAI,CAAC,EAAE;YACZ,IAAI,KAAK,GAAG,CAAC,EAAE;gBACX,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;aACrC;iBAAM;gBACH,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;gBAClC,IAAI,IAAI,CAAC,UAAU,EAAE;oBACjB,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;iBACxB;aACJ;SACJ;IACL,CAAC;IAEM,kCAAW,GAAlB,UAAmB,EAAU;QACzB,IAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;QAC3C,IAAI,KAAK,IAAI,CAAC,EAAE;YACZ,IAAI,KAAK,GAAG,CAAC,EAAE;gBACX,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;aACrC;iBAAM;gBACH,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;gBAClC,IAAI,IAAI,CAAC,UAAU,EAAE;oBACjB,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;iBACzB;aACJ;SACJ;IACL,CAAC;IACM,0BAAG,GAAV;QACI,iBAAM,GAAG,WAAE,CAAC;QACZ,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;QAC1B,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,wDAAS,CAAC,cAAc,EAAE,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;YACtE,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,wDAAS,CAAC,WAAW,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;SAC/D;QACD,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;YAC7B,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC;SACvB;aAAM;YACH,IAAI,CAAC,QAAQ,EAAE,CAAC;SACnB;IACL,CAAC;IAGM,2BAAI,GAAX;QACI,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,iBAAM,IAAI,WAAE,CAAC;IACjB,CAAC;IACM,4BAAK,GAAZ;QACI,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,iBAAM,KAAK,WAAE,CAAC;IAClB,CAAC;IAEM,+BAAQ,GAAf;QACI,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,CAAC;QAC5B,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,wDAAS,CAAC,cAAc,EAAE,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;QACvE,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,wDAAS,CAAC,WAAW,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;QAC7D,iBAAM,QAAQ,WAAE,CAAC;IACrB,CAAC;IACS,qCAAc,GAAxB;QACI,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;YAC7B,IAAM,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;YACnC,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;YACzB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YACxB,IAAI,CAAC,IAAI,CAAC,wDAAS,CAAC,qBAAqB,EAAE,MAAM,CAAC,CAAC;SACtD;QACD,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,GAAG,CAAC,EAAE;YAC7B,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC;SACvB;aAAM;YACH,IAAI,CAAC,QAAQ,EAAE,CAAC;SACnB;IACL,CAAC;IAEL,mBAAC;AAAD,CAAC,CAnG6B,iEAAa,GAmG1C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjHiD;AAKtD;IAA4B,0BAAQ;IAQ5B,gBAAY,UAAuB;QAAnC,YACI,iBAAO,SAEV;QARM,gBAAU,GAAkB,EAAE,CAAC;QAC/B,mBAAa,GAAgB,EAAE,CAAC;QAMnC,KAAI,CAAC,SAAS,GAAG,UAAU,CAAC;;IAChC,CAAC;IAEM,6BAAY,GAAnB,UAAoB,SAAsB,EAAE,GAAc;QACtD,IAAI,SAAS,IAAI,SAAS,CAAC,MAAM,EAAE;YAC/B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YAChC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;SAChC;aAAM;YACH,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;SACrB;IACL,CAAC;IACM,wBAAO,GAAd,UAAe,GAAc;QACzB,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC;IACvB,CAAC;IAEM,oBAAG,GAAV;QACI,iBAAM,GAAG,WAAE,CAAC;QACZ,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;QAC9B,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,wDAAS,CAAC,cAAc,EAAE,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;YACpE,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,wDAAS,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,CAAC;YAC9D,IAAI,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC;SACrB;aAAM;YACH,IAAI,CAAC,QAAQ,EAAE,CAAC;SACnB;IACL,CAAC;IACO,yBAAQ,GAAhB;QACI,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;YACxB,IAAM,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,eAAe,CAAC;YAC/D,KAAK,IAAI,CAAC,GAAW,CAAC,EAAE,GAAG,GAAW,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;gBACxE,IAAM,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;gBACrC,IAAM,MAAM,GAAG,eAAe,CAAC,eAAe,CAAC,IAAI,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;gBAC1E,IAAI,MAAM,EAAE;oBACR,OAAO,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;iBAChC;aACJ;YACD,IAAI,IAAI,CAAC,OAAO,EAAE;gBACd,OAAO,IAAI,CAAC,OAAO,CAAC;aACvB;SACJ;IAEL,CAAC;IACO,+BAAc,GAAtB,UAAuB,IAAS;QAC5B,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,wDAAS,CAAC,cAAc,EAAE,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;SACxE;QACD,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IACO,4BAAW,GAAnB,UAAoB,IAAS;QACzB,IAAI,CAAC,KAAK,EAAE,CAAC;QACb,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IACL,aAAC;AAAD,CAAC,CA9DuB,uDAAQ,GA8D/B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnEsC;AAI3C;IAAyC,uCAAQ;IAKzC,6BAAY,UAAuB,EAAE,UAA4B;QAAjE,YACI,iBAAO,SAGV;QAFG,KAAI,CAAC,SAAS,GAAG,UAAU,CAAC;QAC5B,KAAI,CAAC,UAAU,GAAG,UAAU,CAAC;;IACjC,CAAC;IAEM,iCAAG,GAAV;QACI,iBAAM,GAAG,WAAE,CAAC;QACZ,IAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC;QACvC,IAAI,OAAO,EAAE;YACT,OAAO,CAAC,iBAAiB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAC3C,IAAI,CAAC,QAAQ,EAAE,CAAC;SACnB;aAAM;YACH,IAAI,CAAC,QAAQ,EAAE,CAAC;SACnB;IACL,CAAC;IACL,0BAAC;AAAD,CAAC,CArBoC,uDAAQ,GAqB5C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzBsC;AAI3C;IAAyC,uCAAQ;IAKzC,6BAAY,UAAuB,EAAE,UAA4B;QAAjE,YACI,iBAAO,SAGV;QAFG,KAAI,CAAC,SAAS,GAAG,UAAU,CAAC;QAC5B,KAAI,CAAC,UAAU,GAAG,UAAU,CAAC;;IACjC,CAAC;IAEM,iCAAG,GAAV;QACI,iBAAM,GAAG,WAAE,CAAC;QACZ,IAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC;QACvC,IAAI,OAAO,EAAE;YACT,OAAO,CAAC,iBAAiB,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YAC3C,IAAI,CAAC,QAAQ,EAAE,CAAC;SACnB;aAAM;YACH,IAAI,CAAC,QAAQ,EAAE,CAAC;SACnB;IACL,CAAC;IACL,0BAAC;AAAD,CAAC,CArBoC,uDAAQ,GAqB5C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzBsC;AAI3C;IAAqC,mCAAQ;IAMrC,yBAAY,UAAuB,EAAE,OAAe,EAAE,UAA4B;QAAlF,YACI,iBAAO,SAIV;QAHG,KAAI,CAAC,SAAS,GAAG,UAAU,CAAC;QAC5B,KAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,KAAI,CAAC,UAAU,GAAG,UAAU,CAAC;;IACjC,CAAC;IAEM,6BAAG,GAAV;QACI,iBAAM,GAAG,WAAE,CAAC;QACZ,IAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC;QACvC,IAAI,OAAO,EAAE;YACT,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;YACvD,IAAI,CAAC,QAAQ,EAAE,CAAC;SACnB;aAAM;YACH,IAAI,CAAC,QAAQ,EAAE,CAAC;SACnB;IAEL,CAAC;IACL,sBAAC;AAAD,CAAC,CAxBgC,uDAAQ,GAwBxC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5BsC;AAGa;AAExD;IAAuC,qCAAQ;IAMvC,2BAAY,UAAuB,EAAE,IAA0B;QAA/D,YACI,iBAAO,SAIV;QAHG,KAAI,CAAC,SAAS,GAAG,UAAU,CAAC;QAC5B,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;;IAErB,CAAC;IAEM,+BAAG,GAAV;QACI,iBAAM,GAAG,WAAE,CAAC;QACZ,IAAI,CAAC,UAAU,GAAG,wEAAkB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAgB,CAAC;QACtF,IAAM,IAAI,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;QAC7B,IAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;QAC9B,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE;YAC5C,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;SACrC;QAED,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IAEO,oCAAQ,GAAhB;QACI,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;YAC/B,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;gBAC3C,IAAM,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,eAAe,CAAC;gBAC/D,OAAO,eAAe,CAAC,mBAAmB,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAC/E;SAEJ;QACD,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;IAC1B,CAAC;IACO,oCAAQ,GAAhB;QACI,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;YAChC,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;gBAC3C,IAAM,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,eAAe,CAAC;gBAC/D,OAAO,eAAe,CAAC,mBAAmB,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aAChF;SAEJ;QACD,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;IAC3B,CAAC;IACL,wBAAC;AAAD,CAAC,CA7CkC,uDAAQ,GA6C1C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClDsC;AACL;AAItC;IAA+B,6BAAQ;IAG/B,mBAAY,SAAsB,EAAE,IAAa;QAAjD,YACI,iBAAO,SAGV;QAFG,KAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;;IACrB,CAAC;IAEM,uBAAG,GAAV;;QACI,uBAAuB;QACvB,UAAG,IAAI,CAAC,SAAS,CAAC,OAAO,0CAAE,MAAM,CAAC,KAAK;YAAE,4DAAK,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;QAChE,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IAEO,4BAAQ,GAAhB;QACI,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;YAChC,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;gBACxB,IAAM,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,eAAe,CAAC;gBAC/D,OAAO,eAAe,CAAC,mBAAmB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aAC/E;SAEJ;QACD,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;IAC3B,CAAC;IACL,gBAAC;AAAD,CAAC,CAzB0B,uDAAQ,GAyBlC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9BsC;AAGa;AAGxD;IAAwC,sCAAQ;IASxC,4BAAY,SAAsB,EAAE,IAA6B;QAAjE,YACI,iBAAO,SAOV;QANG,KAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC3B,KAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,KAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC;QAC5B,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,KAAK,IAAI,CAAC;QACnC,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,KAAK,IAAI,CAAC;;IACvC,CAAC;IAEM,gCAAG,GAAV;QACI,iBAAM,GAAG,WAAE,CAAC;QACZ,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,IAAI,CAAC,MAAM,EAAE;gBACb,IAAM,OAAO,GAAI,IAAI,CAAC,SAAyB,CAAC,OAAO,CAAC;gBACxD,IAAI,OAAO,EAAE;oBACT,OAAO,CAAC,WAAW,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;iBAC3C;aACJ;iBAAM,IAAI,IAAI,CAAC,MAAM,EAAE;gBACpB,IAAM,OAAO,GAAI,IAAI,CAAC,SAAyB,CAAC,OAAO,CAAC;gBACxD,IAAI,OAAO,EAAE;oBACT,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;iBAC/B;aACJ;iBAAM;gBACH,IAAI,CAAC,UAAU,GAAG,wEAAkB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;gBACvE,IAAI,IAAI,CAAC,UAAU,EAAE;oBACjB,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;iBACvC;aACJ;SACJ;QACD,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IACL,yBAAC;AAAD,CAAC,CAzCmC,uDAAQ,GAyC3C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/CiD;AAGR;AACO;AAErD;IAAqC,mCAAa;IAU1C,yBAAY,SAAsB,EAAE,IAAqB;QAAzD,YACI,iBAAO,SAGV;QATO,eAAS,GAAW,CAAC,CAAC;QACtB,sBAAgB,GAAY,IAAI,CAAC;QACjC,sBAAgB,GAAY,IAAI,CAAC;QACjC,cAAQ,GAAW,CAAC,CAAC;QACrB,YAAM,GAAW,CAAC,CAAC;QAGvB,KAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;;IACrB,CAAC;IAED,sBAAY,oCAAO;aAAnB;YACI,IAAI,IAAI,GAAW,CAAC,CAAC;YACrB,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;gBAChC,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;oBAC1C,IAAM,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,eAAe,CAAC;oBAC/D,IAAI,GAAG,eAAe,CAAC,mBAAmB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;iBAC/E;aACJ;iBAAM;gBACH,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;aAC1B;YACD,IAAI,CAAC,8DAAQ,CAAC,IAAI,CAAC,EAAE;gBACjB,IAAI,GAAG,CAAC,CAAC;aACZ;YACD,OAAO,IAAI,CAAC;QAChB,CAAC;;;OAAA;IAED,sBAAY,kCAAK;aAAjB;YACI,IAAI,KAAK,GAAW,CAAC,CAAC;YACtB,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;gBAChC,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;oBAC1C,IAAM,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,eAAe,CAAC;oBAC/D,KAAK,GAAG,eAAe,CAAC,mBAAmB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;iBAChF;aAEJ;iBAAM;gBACH,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,KAAK,SAAS,EAAE;oBAC/B,KAAK,GAAG,CAAC,CAAC;iBACb;qBAAM;oBACH,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;iBAC3B;aAEJ;YACD,IAAI,CAAC,8DAAQ,CAAC,KAAK,CAAC,EAAE;gBAClB,KAAK,GAAG,CAAC,CAAC;aACb;YACD,OAAO,KAAK,CAAC;QACjB,CAAC;;;OAAA;IAEM,6BAAG,GAAV;QACI,iBAAM,GAAG,WAAE,CAAC;QACZ,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC;QAC7B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC;QACzB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC;QAC7B,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,wDAAS,CAAC,cAAc,EAAE,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;SAClF;QAED,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;IAC7C,CAAC;IAEM,kCAAQ,GAAf;QAEI,iBAAM,QAAQ,WAAE,CAAC;QACjB,IAAI,IAAI,CAAC,cAAc,EAAE;YACrB,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC;YAC3B,IAAI,CAAC,cAAc,GAAG,SAAS,CAAC;SACnC;QACD,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,cAAc,CAAC,wDAAS,CAAC,cAAc,EAAE,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;SACrF;IACL,CAAC;IAEM,8BAAI,GAAX;QACI,iBAAM,IAAI,WAAE,CAAC;QACb,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IAEM,gCAAM,GAAb;QACI,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,gBAAgB,EAAE;gBAChD,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;aAClD;SACJ;QACD,iBAAM,MAAM,WAAE,CAAC;IACnB,CAAC;IACO,wCAAc,GAAtB;QACI,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;QAC7B,IAAI,IAAI,CAAC,gBAAgB,EAAE;YACvB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;SAClD;IACL,CAAC;IAEO,iCAAO,GAAf,UAAgB,OAAe,EAAE,KAAa;QAA9C,iBAkBC;QAjBG,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;QAC9B,IAAI,IAAI,CAAC,cAAc,KAAK,SAAS,EAAE;YACnC,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC,GAAG,CAAC,SAAS,CAAC,UAAU,CAAC,OAAO,EAAE;gBACvD,KAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;gBAC7B,IAAI,KAAI,CAAC,cAAc,EAAE;oBACrB,KAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC;iBAC9B;gBAED,IAAI,KAAI,CAAC,gBAAgB,IAAI,KAAI,CAAC,gBAAgB,EAAE;oBAChD,KAAI,CAAC,aAAa,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;iBACtC;YACL,CAAC,CAAC,CAAC;SACN;aAAM;YACH,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,CAAC;SACjC;IAGL,CAAC;IAEO,uCAAa,GAArB,UAAsB,OAAe,EAAE,KAAa;QAChD,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,YAAY,EAAE;YACrC,OAAO;SACV;QACD,IAAI,UAAU,GAAY,KAAK,CAAC;QAChC,IAAI,KAAK,GAAG,CAAC,EAAE;YACX,IAAI,IAAI,CAAC,SAAS,GAAG,CAAC,EAAE;gBACpB,UAAU,GAAI,KAAK,CAAC;aACvB;iBAAM;gBACH,UAAU,GAAI,IAAI,CAAC;aACtB;SACJ;aAAM;YACH,UAAU,GAAI,KAAK,CAAC;SACvB;QAED,IAAI,UAAU,EAAE;YACZ,IAAI,CAAC,QAAQ,EAAE,CAAC;SACnB;aAAM;YACH,IAAI,CAAC,SAAS,EAAE,CAAC;YACjB,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACf,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;gBAC9B,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;gBAC7B,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC;aAEvB;iBAAM;gBACH,IAAI,CAAC,QAAQ,EAAE,CAAC;aACnB;SACJ;IACL,CAAC;IACL,sBAAC;AAAD,CAAC,CAnJgC,iEAAa,GAmJ7C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzJsC;AAGa;AAExD;IAAqC,mCAAQ;IAKrC,yBAAY,UAAuB,EAAE,IAAwB;QAA7D,YACI,iBAAO,SAGV;QAFG,KAAI,CAAC,SAAS,GAAG,UAAU,CAAC;QAC5B,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;;IACrB,CAAC;IAEM,6BAAG,GAAV;QACI,iBAAM,GAAG,WAAE,CAAC;QACZ,IAAM,SAAS,GAAG,wEAAkB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACvE,IAAI,SAAS,EAAE;YACV,SAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;SAC5D;QACD,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IAEO,kCAAQ,GAAhB;QACI,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;YAChC,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;gBACxB,IAAM,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,eAAe,CAAC;gBAC/D,OAAO,eAAe,CAAC,mBAAmB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aAC/E;SAEJ;QACD,OAAO,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;IAC3B,CAAC;IACL,sBAAC;AAAD,CAAC,CA9BgC,uDAAQ,GA8BxC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChCyC;AACO;AAErD;IAAoC,kCAAa;IAMzC,wBAAY,SAAsB,EAAE,IAAa;QAAjD,YACI,iBAAO,SAGV;QAFG,KAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;;IACrB,CAAC;IAED,sBAAY,mCAAO;aAAnB;YACI,IAAI,IAAI,GAAW,CAAC,CAAC;YACrB,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;gBAChC,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;oBAC1C,IAAM,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,eAAe,CAAC;oBAC/D,IAAI,GAAG,eAAe,CAAC,mBAAmB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;iBAC/E;aAEJ;iBAAM;gBACH,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;aAC1B;YACD,IAAI,CAAC,8DAAQ,CAAC,IAAI,CAAC,EAAE;gBACjB,IAAI,GAAG,CAAC,CAAC;aACZ;YACD,OAAO,IAAI,CAAC;QAChB,CAAC;;;OAAA;IAEM,4BAAG,GAAV;QAAA,iBAcC;QAbG,iBAAM,GAAG,WAAE,CAAC;QACZ,IAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;QAC7B,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC,GAAG,CAAC,SAAS,CAAC,UAAU,CAAC,OAAO,EAAE;YACvD,IAAI,KAAI,CAAC,cAAc,EAAE;gBACrB,KAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC;gBAC3B,KAAI,CAAC,cAAc,GAAG,SAAS,CAAC;aACnC;YACD,IAAI,KAAI,CAAC,QAAQ,EAAE;gBACf,KAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC;aACvB;QACL,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IACL,qBAAC;AAAD,CAAC,CA5C+B,iEAAa,GA4C5C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClDsC;AAI3C;IAA+B,6BAAQ;IAK/B,mBAAY,UAAuB,EAAE,UAAwB;QAA7D,YACI,iBAAO,SAIV;QAHG,KAAI,CAAC,SAAS,GAAG,UAAU,CAAC;QAC5B,KAAI,CAAC,QAAQ,GAAG,UAAU,CAAC,IAAI,CAAC;QAChC,KAAI,CAAC,IAAI,GAAG,UAAU,CAAC;;IAC3B,CAAC;IAEM,uBAAG,GAAV;QACI,iBAAM,GAAG,WAAE,CAAC;QACZ,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;YACxB,IAAM,YAAY,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,YAAY,CAAC;YACzD,IAAM,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,eAAe,CAAC;YAC/D,IAAI,IAAI,SAAK,CAAC;YAEd,IAAI;gBACA,IAAI,GAAG,eAAe,CAAC,mBAAmB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aAC/E;YACD,OAAO,CAAC,EAAE;gBACN,EAAE,CAAC,KAAK,CAAC,WAAW,CAAC,WAAW,EAAE,8BAA8B,CAAC,CAAC;aACrE;YAED,IAAI,IAAI,CAAC,OAAO,KAAK,SAAS,EAAE;gBAC5B,OAAO,CAAC,GAAG,CAAC,uCAAuC,CAAC,CAAC;gBAErD,OAAO;aACV;YACD,IAAI,IAAI,CAAC,OAAO,KAAK,SAAS,EAAE;gBAC5B,OAAO,CAAC,GAAG,CAAC,uCAAuC,CAAC,CAAC;gBAErD,OAAO;aACV;YACD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,IAAI,OAAO,CAAC;YACjC,IAAI,OAAO,SAA6B,CAAC;YAEzC,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE;gBAC7B,IAAM,UAAU,GAAG,eAAe,CAAC,mBAAmB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;gBAErF,IAAI,UAAU,IAAI,UAAU,CAAC,KAAK,KAAK,SAAS,EAAE;oBAC9C,OAAO,GAAG,UAAU,CAAC,KAAK,CAAC;iBAC9B;qBACI;oBACD,OAAO,GAAG,UAAU,CAAC;iBACxB;aACJ;iBACI;gBACD,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;aAC1B;YACD,IAAI,CAAC,OAAO,GAAG,OAAiB,CAAC;YACjC,QAAQ,IAAI,CAAC,QAAQ,EAAE;gBACnB;oBACI,YAAY,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;oBAC7B,MAAM;gBACV;oBACI,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;oBAC9B,MAAM;gBACV;oBACI,YAAY,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;oBAC/B,MAAM;aACb;YACD,IAAI,CAAC,QAAQ,EAAE,CAAC;SACnB;aACI;YACD,IAAI,CAAC,QAAQ,EAAE,CAAC;SACnB;IACL,CAAC;IACT,gBAAC;AAAD,CAAC,CAtE8B,uDAAQ,GAsEtC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1EqD;AAGR;AAE9C;IAA8B,4BAAQ;IAMlC,kBAAY,SAAsB,EAAE,IAAa;QAAjD,YACI,iBAAO,SAGV;QAFG,KAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;;IACrB,CAAC;IAED,sBAAY,6BAAO;aAAnB;YACI,IAAI,IAAI,GAAW,CAAC,CAAC;YACrB,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;gBAChC,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;oBAC1C,IAAM,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,eAAe,CAAC;oBAC/D,IAAI,GAAG,eAAe,CAAC,mBAAmB,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;iBAC/E;aAEJ;iBAAM;gBACH,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;aAC1B;YACD,IAAI,CAAC,8DAAQ,CAAC,IAAI,CAAC,EAAE;gBACjB,IAAI,GAAG,CAAC,CAAC;aACZ;YACD,OAAO,IAAI,CAAC;QAChB,CAAC;;;OAAA;IAEM,sBAAG,GAAV;QAAA,iBAWC;QAVG,iBAAM,GAAG,WAAE,CAAC;QACZ,IAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;QAC7B,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC,GAAG,CAAC,SAAS,CAAC,UAAU,CAAC,OAAO,EAAE;YACvD,IAAI,KAAI,CAAC,cAAc,EAAE;gBACrB,KAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC;gBAC3B,KAAI,CAAC,cAAc,GAAG,SAAS,CAAC;aACnC;YAED,KAAI,CAAC,QAAQ,EAAE,CAAC;QACpB,CAAC,CAAC,CAAC;IACP,CAAC;IACL,eAAC;AAAD,CAAC,CAzC6B,uDAAQ,GAyCrC;;;;;;;;;;;;;;AC5CD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6C;AACV;AACkB;AACI;AAChB;AACc;AACd;AACuC;AAC3C;AAC4B;AACZ;AACQ;AACF;AACV;AAE1C,SAAS,uBAAuB,CAAC,KAAgB,EAAE,QAAkB;IACxE,IAAM,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC;IAC1B,IAAI,KAAK,EAAE;QACP,KAAK,IAAI,CAAC,GAAW,CAAC,EAAE,GAAG,GAAW,KAAK,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YAC9D,kBAAkB,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC;SAC1C;KACJ;AACL,CAAC;AACD,SAAS,kBAAkB,CAAC,IAAc,EAAE,QAAkB;IAC1D,IAAI,IAAI,YAAY,wDAAW,EAAE;QAC7B,IAAM,OAAO,GAAG,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC;QACpC,gBAAgB,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;KACvC;SAAM,IAAI,IAAI,YAAY,8CAAM,EAAE;QAC/B,IAAM,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;QACnC,KAAK,IAAI,CAAC,GAAW,CAAC,EAAE,IAAI,GAAW,UAAU,CAAC,MAAM,EAAE,CAAC,GAAG,IAAI,EAAE,CAAC,EAAE,EAAE;YACrE,IAAM,GAAG,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;YAC1B,gBAAgB,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;SACnC;QACD,IAAI,IAAI,CAAC,aAAa,EAAE;YACpB,IAAM,YAAY,GAAG,IAAI,CAAC,aAAa,CAAC;YACxC,KAAK,IAAI,CAAC,GAAW,CAAC,EAAE,GAAG,GAAW,YAAY,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;gBACrE,IAAM,MAAM,GAAG,YAAY,CAAC,CAAC,CAAC,CAAC;gBAC/B,uBAAuB,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;aAC7C;SACJ;QACD,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,uBAAuB,CAAC,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;SACnD;KACJ;SAAM,IAAI,IAAI,YAAY,gEAAe,EAAE;QACxC,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;YACnD,0BAA0B,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;SACzD;KACJ;SAAM,IAAI,IAAI,YAAY,oEAAiB,EAAE;QAC1C,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;YACjD,0BAA0B,CAAC,IAAI,CAAC,IAAI,CAAC,IAAW,EAAE,QAAQ,CAAC,CAAC;SAC/D;QACD,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YAC/B,0BAA0B,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;SAC1D;KACJ;SAAM,IAAI,IAAI,YAAY,oDAAS,EAAE;QAClC,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE;YACvD,0BAA0B,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;SAC3D;KACJ;SAAM,IAAI,IAAI,YAAY,kEAAgB,EAAE;QACzC,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YAC/B,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;SAChD;QACD,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YAC/B,0BAA0B,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;SAC1D;KACJ;SAAM,IAAI,IAAI,YAAY,oDAAS,EAAE;QAClC,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;YAC9B,0BAA0B,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;SACzD;KACJ;SAAM,IAAI,IAAI,YAAY,gDAAO,EAAE;QAChC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;KAC/B;SAAM,IAAI,IAAI,YAAY,iEAAe;QACtC,IAAI,YAAY,yEAAmB;QACnC,IAAI,YAAY,uEAAkB;QAClC,IAAI,YAAY,6DAAa;QAC7B,IAAI,YAAY,4EAAqB,EAAE;QAEvC,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YAC/B,0BAA0B,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;SAC1D;KACJ;AACL,CAAC;AACD,SAAS,gBAAgB,CAAC,OAAoB,EAAE,QAAe;IAC3D,IAAI,CAAC,OAAO,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;QACrC,OAAO;KACV;IACD,KAAK,IAAI,CAAC,GAAW,CAAC,EAAE,IAAI,GAAW,OAAO,CAAC,MAAM,EAAE,CAAC,GAAG,IAAI,EAAE,CAAC,EAAE,EAAE;QAClE,IAAM,WAAW,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;QAC/B,0BAA0B,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAC;KACrD;AACL,CAAC;AACD,SAAS,0BAA0B,CAAC,WAAwB,EAAE,QAAe;IACzE,IAAI,WAAW,CAAC,CAAC,CAAC,KAAK,8DAAe,CAAC,WAAW,EAAE;QAChD,IAAM,UAAU,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC;QAClC,IAAI,QAAQ,CAAC,MAAM,GAAG,UAAU,EAAE;YAC9B,WAAW,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC,UAAU,CAAC,CAAC;SACzC;KACJ;SAAM,IAAI,WAAW,CAAC,CAAC,CAAC,KAAK,8DAAe,CAAC,WAAW,EAAE;QACvD,2EAA2E;QAC3E,IAAI,KAAK,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,EAAE;YAC/B,0BAA0B,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC;SACxD;KACJ;AACL,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzGD,IAAY,SAKX;AALD,WAAY,SAAS;IACjB,8CAAiC;IACjC,sCAAyB;IACzB,wCAA2B;IAC3B,4DAA+C;AACnD,CAAC,EALW,SAAS,KAAT,SAAS,QAKpB;AACD;IAA8B,4BAAqB;IAQ/C;QAAA,YACI,iBAAO,SACV;QARS,gBAAU,GAAY,KAAK,CAAC;QAC5B,eAAS,GAAY,KAAK,CAAC;QAC3B,kBAAY,GAAY,KAAK,CAAC;QAC9B,eAAS,GAAY,KAAK,CAAC;QAC3B,mBAAa,GAAY,KAAK,CAAC;;IAIzC,CAAC;IAEM,sBAAG,GAAV;QACI,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;QAC1B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;IAC3B,CAAC;IAEM,uBAAI,GAAX;QACI,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;IAC5B,CAAC;IAEM,wBAAK,GAAZ;QACI,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;IAC1B,CAAC;IAEM,yBAAM,GAAb;QACI,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;IAC3B,CAAC;IACM,wBAAK,GAAZ;QACI,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;IACrC,CAAC;IAEM,2BAAQ,GAAf;QACI,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,CAAC;IACxC,CAAC;IAEM,uBAAI,GAAX,UAAY,IAAY,EAAE,IAAgB;QAAhB,kCAAgB;QACtC,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;IAC1C,CAAC;IAED,sBAAW,kCAAY;aAAvB;YACI,OAAO,IAAI,CAAC,aAAa,CAAC;QAC9B,CAAC;;;OAAA;IAED,sBAAW,+BAAS;aAApB;YACI,OAAO,IAAI,CAAC,UAAU,CAAC;QAC3B,CAAC;;;OAAA;IAED,sBAAW,iCAAW;aAAtB;YACI,OAAO,IAAI,CAAC,YAAY,CAAC;QAC7B,CAAC;;;OAAA;IACD,sBAAW,8BAAQ;aAAnB;YACI,OAAO,IAAI,CAAC,SAAS,CAAC;QAC1B,CAAC;;;OAAA;IAED,sBAAW,8BAAQ;aAAnB;YACI,OAAO,IAAI,CAAC,SAAS,CAAC;QAC1B,CAAC;;;OAAA;IACL,eAAC;AAAD,CAAC,CAhE6B,EAAE,CAAC,KAAK,CAAC,YAAY,GAgElD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtEgD;AACT;AAExC;IAAmC,iCAAQ;IAInC;QAAA,YACI,iBAAO,SAGV;QAFG,KAAI,CAAC,QAAQ,GAAG,IAAI,oDAAS,EAAE,CAAC;QAChC,KAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,mDAAS,CAAC,WAAW,EAAE,KAAI,CAAC,OAAO,EAAE,KAAI,CAAC,CAAC;;IAChE,CAAC;IAEM,kCAAU,GAAjB,UAAkB,IAAc;QAC5B,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YAC5B,IAAI,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE;gBAC5B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;aAC7B;SACJ;IACL,CAAC;IAEM,4BAAI,GAAX;QACI,iBAAM,IAAI,WAAE,CAAC;QACb,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,mDAAS,CAAC,WAAW,CAAC,CAAC;YACzC,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;SACxB;IACL,CAAC;IAEM,6BAAK,GAAZ;QACI,iBAAM,KAAK,WAAE,CAAC;QACd,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,mDAAS,CAAC,WAAW,CAAC,CAAC;YACzC,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;SACzB;IACL,CAAC;IAEM,6BAAK,GAAZ;QACI,iBAAM,KAAK,WAAE,CAAC;QACd,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;SACzB;IACL,CAAC;IAEM,8BAAM,GAAb;QACI,iBAAM,MAAM,WAAE,CAAC;QACf,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;SAC1B;IACL,CAAC;IAES,+BAAO,GAAjB,UAAkB,IAAS;QACvB,IAAI,CAAC,KAAK,EAAE,CAAC;IACjB,CAAC;IACL,oBAAC;AAAD,CAAC,CApD8B,kDAAQ,GAoDtC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvD4C;AAEjD;IAA+B,6BAAQ;IAM/B;QAAA,YACI,iBAAO,SACV;QANO,YAAM,GAAe,EAAE,CAAC;QACxB,kBAAY,GAAa,IAAW,CAAC;QACrC,mBAAa,GAAW,CAAC,CAAC;;IAIlC,CAAC;IAED,sBAAW,4BAAK;aAAhB;YACI,OAAO,IAAI,CAAC,MAAM,CAAC;QACvB,CAAC;;;OAAA;IAEM,uBAAG,GAAV;QACI,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,OAAO;SACV;QACD,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;QACvB,iBAAM,GAAG,WAAE,CAAC;QACZ,IAAI,CAAC,SAAS,EAAE,CAAC;IACrB,CAAC;IAEM,wBAAI,GAAX;QACI,iBAAM,IAAI,WAAE,CAAC;QAEb,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YACnC,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;YACzB,IAAI,CAAC,YAAY,GAAG,IAAW,CAAC;SACnC;QACD,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC,SAAS,CAAC;QACtC,IAAI,CAAC,GAAG,CAAC,mDAAS,CAAC,cAAc,CAAC,CAAC;QACnC,IAAI,CAAC,GAAG,CAAC,mDAAS,CAAC,WAAW,CAAC,CAAC;QAChC,IAAI,CAAC,GAAG,CAAC,mDAAS,CAAC,UAAU,CAAC,CAAC;QAC/B,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IAEM,yBAAK,GAAZ;QACI,iBAAM,KAAK,WAAE,CAAC;QACd,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,KAAK,IAAI,CAAC,GAAW,CAAC,EAAE,GAAG,GAAW,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;gBACpE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,CAAC;aAC1B;SACJ;IACL,CAAC;IAEM,0BAAM,GAAb;QACI,iBAAM,MAAM,WAAE,CAAC;QACf,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,KAAK,IAAI,CAAC,GAAW,CAAC,EAAE,GAAG,GAAW,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;gBACpE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC;aAC3B;SACJ;IACL,CAAC;IAEM,yBAAK,GAAZ;QACI,iBAAM,KAAK,WAAE,CAAC;QAEd,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YACnC,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;YAC1B,IAAI,CAAC,YAAY,GAAG,IAAW,CAAC;SACnC;QACD,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC,SAAS,CAAC;QACtC,IAAI,CAAC,GAAG,CAAC,mDAAS,CAAC,cAAc,CAAC,CAAC;QACnC,IAAI,CAAC,GAAG,CAAC,mDAAS,CAAC,WAAW,CAAC,CAAC;QAChC,IAAI,CAAC,GAAG,CAAC,mDAAS,CAAC,UAAU,CAAC,CAAC;QAC/B,IAAI,CAAC,QAAQ,EAAE,CAAC;IACpB,CAAC;IAEM,2BAAO,GAAd,UAAe,IAAc;QACzB,IAAI,IAAI,EAAE;YACN,IAAI,IAAI,CAAC,YAAY,EAAE;gBACnB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;aAC7B;YACD,IAAI,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;gBAC/B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aAC1B;iBAAM;gBACH,MAAM,IAAI,KAAK,CAAC,gBAAgB,CAAC,CAAC;aACrC;SACJ;aAAM;YACH,MAAM,IAAI,KAAK,CAAC,eAAe,CAAC,CAAC;SACpC;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IACO,6BAAS,GAAjB,UAAkB,QAAmB;QAEjC,IAAI,IAAI,GAAa,IAAW,CAAC;QACjC,IAAI,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE;YACzC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;SAC1C;QACD,IAAI,IAAI,EAAE;YACN,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YACzB,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,mDAAS,CAAC,cAAc,EAAE,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;YAC7E,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,mDAAS,CAAC,UAAU,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;YACrE,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,mDAAS,CAAC,WAAW,EAAE,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;YAEvE,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE,CAAC;SAC3B;aAAM;YACH,IAAI,CAAC,QAAQ,EAAE,CAAC;SACnB;IACL,CAAC;IAEO,8BAAU,GAAlB,UAAmB,IAAc;QAC7B,IAAI,IAAI,EAAE;YACN,IAAI,CAAC,GAAG,CAAC,mDAAS,CAAC,cAAc,EAAE,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;YACjE,IAAI,CAAC,GAAG,CAAC,mDAAS,CAAC,UAAU,EAAE,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;YACzD,IAAI,CAAC,GAAG,CAAC,mDAAS,CAAC,WAAW,EAAE,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;SAC9D;IACL,CAAC;IAEO,kCAAc,GAAtB,UAAuB,IAAS;QAC5B,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YACnC,IAAI,CAAC,IAAI,CAAC,mDAAS,CAAC,WAAW,CAAC,CAAC;YACjC,IAAI,CAAC,QAAQ,EAAE,CAAC;SACnB;IACL,CAAC;IAEO,iCAAa,GAArB,UAAsB,IAAS;QAC3B,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;YACnC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;SACnC;aAAM;YACH,QAAQ;YACR,MAAM,IAAI,KAAK,CAAC,SAAS,CAAC,CAAC;SAC9B;IACL,CAAC;IAEO,qCAAiB,GAAzB,UAA0B,IAAS;QAC/B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QACnC,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IACtC,CAAC;IACL,gBAAC;AAAD,CAAC,CAvI0B,kDAAQ,GAuIlC;;;;;;;;;;;;;;ACzIL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgD;AAGV;AACM;AACE;AACF;AACF;AAEM;AACN;AAE1C;IA0BQ,mBAAY,SAAsB,EAAE,IAAkB,EAAE,GAAgB;QAAhB,8BAAgB;QAxBhE,iBAAY,GAAsC,EAAE,CAAC;QACrD,oBAAe,GAA8E,EAAE,CAAC;QAEhG,WAAM,gBAAgC;QACtC,sBAAiB,GAAoB,EAAE,CAAC;QAExC,YAAO,GAAY,KAAK,CAAC;QACzB,YAAO,GAAW,CAAC,CAAC;QACpB,aAAQ,GAAW,CAAC,CAAC;QACrB,gBAAW,GAAW,CAAC,CAAC;QACxB,cAAS,GAAW,CAAC,CAAC;QACtB,eAAU,GAAW,CAAC,CAAC;QAGvB,cAAS,GAAW,EAAE,CAAC;QACvB,WAAM,GAAW,CAAC,CAAC;QACnB,QAAG,GAAW,EAAE,CAAC;QACjB,oBAAe,GAAW,EAAE,CAAC;QAC7B,wBAAmB,GAAW,CAAC,CAAC;QAChC,4BAAuB,GAAW,CAAC,CAAC;QACpC,sBAAiB,GAAW,CAAC,CAAC;QAC9B,0BAAqB,GAAW,CAAC,CAAC;QAClC,kBAAa,GAAW,CAAC,CAAC;QAG9B,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,GAAG,GAAG,CAAC,EAAE;YACT,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;SAClB;QACD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;QAC5C,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;QAChB,IAAI,CAAC,SAAS,EAAE,CAAC;IACrB,CAAC;IAEM,oCAAgB,GAAvB,UAAwB,IAAmB;QACvC,IAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;QACvB,IAAI,UAAU,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;QACzC,IAAI,UAAU,IAAI,IAAI,EAAE;YACpB,UAAU,GAAG,EAAE,CAAC;YAChB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,UAAU,CAAC;SACxC;QACD,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC1B,CAAC;IAEM,gCAAY,GAAnB;QACI,IAAI,IAAI,CAAC,MAAM,oBAA4B,EAAE;YACzC,OAAO;gBACH,SAAS,EAAE,IAAI,CAAC,eAAe;gBAC/B,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC;gBACrD,KAAK,EAAE,IAAI,CAAC,iBAAiB,IAAI,CAAC,CAAC,CAAC;oBACxB,IAAI,CAAC,iBAAiB,CAAC,CAAC;oBACxB,CAAC,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,aAAa,CAAC;aAC5D,CAAC;SACL;QACD,OAAO,SAAS,CAAC;IACrB,CAAC;IACM,wCAAoB,GAA3B;QACI,IAAI,IAAI,CAAC,MAAM,oBAA4B,EAAE;YACzC,OAAO;SACV;QACD,KAAM,IAAM,MAAI,IAAI,IAAI,CAAC,eAAe,EAAE;YACtC,IAAI,IAAI,CAAC,eAAe,CAAC,MAAI,CAAC,EAAE;gBAC5B,IAAM,MAAM,GAAG,IAAI,CAAC,eAAe,CAAC,MAAI,CAAC,CAAC;gBAC1C,IAAI,MAAM,CAAC,QAAQ,EAAE;oBACjB,IAAI,CAAC,IAAI,CAAC,MAAI,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBACtC,MAAM;iBACT;aACJ;SACJ;IACL,CAAC;IAEM,4BAAQ,GAAf,UAAgB,IAAY,EAAE,UAAkB,EAAE,KAAiB;QAAjB,iCAAiB;QAC/D,IAAI,IAAI,CAAC,MAAM,oBAA4B,EAAE;YACzC,IAAI,CAAC,IAAI,EAAE,CAAC;SACf;QACD,IAAM,MAAM,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;QAC1C,IAAI,MAAM,EAAE;YACR,IAAI,CAAC,mBAAmB,GAAG,MAAM,CAAC,SAAS,CAAC;SAC/C;aAAM;YACH,uCAAuC;YACvC,OAAO,CAAC,IAAI,CAAC,yBAAyB,EAAE,IAAI,CAAC,CAAC;YAC9C,OAAO;SACV;QACD,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5B,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;QACjD,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;QAC/B,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,mBAAmB;YACxB,IAAI,CAAC,iBAAiB,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;QACpF,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,mBAAmB,GAAG,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;QACtF,IAAI,CAAC,WAAW,GAAG,UAAU,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;QAClD,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;QAChB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAClC,IAAI,CAAC,MAAM,kBAA0B,CAAC;QACtC,IAAI,CAAC,SAAS,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;QACtC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC;QAC9B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC;QAC/B,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,WAAW,CAAC;QACnC,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;QACvB,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IAC1C,CAAC;IACM,4BAAQ,GAAf,UAAgB,IAAY,EAAE,UAAkB;QAC5C,IAAI,IAAI,CAAC,MAAM,oBAA4B,EAAE;YACzC,IAAI,CAAC,IAAI,EAAE,CAAC;SACf;QACD,IAAM,MAAM,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;QAC1C,IAAI,MAAM,EAAE;YACR,IAAI,CAAC,mBAAmB,GAAG,MAAM,CAAC,SAAS,CAAC;SAC/C;aAAM;YACH,uCAAuC;YACvC,OAAO,CAAC,IAAI,CAAC,yBAAyB,EAAE,IAAI,CAAC,CAAC;YAC9C,OAAO;SACV;QAED,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;QACjD,IAAI,CAAC,iBAAiB,GAAG,CAAC,CAAC;QAC3B,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,mBAAmB;YACxB,IAAI,CAAC,iBAAiB,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;QACpF,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,mBAAmB,GAAG,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;QACtF,IAAI,CAAC,WAAW,GAAG,UAAU,GAAG,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC;QAClD,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC;QAChB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAClC,IAAI,CAAC,MAAM,eAAuB,CAAC;QACnC,IAAI,CAAC,SAAS,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;QACtC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC;QAC9B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC;QAC/B,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,WAAW,CAAC;QACnC,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;QACvB,IAAI,CAAC,IAAI,EAAE,CAAC;IAChB,CAAC;IAEM,wBAAI,GAAX,UAAY,IAAY,EAAE,KAAiB;QAAjB,iCAAiB;QACxC,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;IACjC,CAAC;IAEM,wBAAI,GAAX;QACI,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QACzC,IAAI,CAAC,MAAM,eAAuB,CAAC;QACnC,IAAI,CAAC,aAAa,EAAE,CAAC;IACzB,CAAC;IAED,sBAAc,mCAAY;aAA1B,UAA2B,CAAS;YAChC,IAAI,CAAC,KAAK,IAAI,CAAC,aAAa,EAAE;gBAC1B,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;gBACvB,IAAI,IAAI,CAAC,SAAS,EAAE;oBAChB,IAAI,CAAC,SAAS,CAAC,IAAI,sDAAuC,CAAC,CAAC,CAAC;oBAC7D,IAAI,IAAI,CAAC,iBAAiB,GAAG,CAAC,IAAI,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,iBAAiB,EAAE;wBAC5E,IAAI,CAAC,SAAS,CAAC,IAAI,6CAAkC,CAAC;qBACzD;iBACJ;aACJ;QACL,CAAC;;;OAAA;IACS,wBAAI,GAAd;QACI,IAAM,OAAO,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;QACrC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAM,EAAE,GAAG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC;QACxC,IAAI,CAAC,WAAW,IAAI,EAAE,CAAC;QACvB,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,IAAI,CAAC,MAAM,IAAI,EAAE,CAAC;YAClB,IAAI,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,EAAE;gBAC9B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC;gBAC7B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC;gBAEhD,IAAI,IAAI,CAAC,iBAAiB,GAAG,CAAC;oBAC1B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,qBAAqB,EAAE;oBAC9C,IAAI,CAAC,IAAI,EAAE,CAAC;iBACf;gBACD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,uBAAuB,CAAC,CAAC;gBAC/E,OAAO;aACV;YACD,OAAO,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,EAAE;gBACjC,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,SAAS,CAAC;aACjC;SACJ;QACD,IAAI,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,uBAAuB,EAAE;YACjD,IAAI,IAAI,CAAC,iBAAiB,GAAG,CAAC,IAAI,OAAO;gBACrC,IAAI,CAAC,iBAAiB,GAAG,CAAC,IAAI,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,iBAAiB,GAAG,CAAC,EAAE,EAAE,UAAU;gBAC3F,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,uBAAuB,CAAC;aACtE;SACJ;QACD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAElC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC;QAC7B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC;QAEhD,IAAI,IAAI,CAAC,iBAAiB,GAAG,CAAC;YAC1B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,qBAAqB,EAAE;YAC9C,IAAI,CAAC,IAAI,EAAE,CAAC;SACf;QACD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,uBAAuB,CAAC,CAAC;IAEnF,CAAC;IAES,8BAAU,GAApB,UAAqB,OAAe;QAChC,IAAI,IAAI,CAAC,iBAAiB,EAAE;YACxB,KAAK,IAAI,CAAC,GAAW,CAAC,EAAE,GAAG,GAAW,IAAI,CAAC,iBAAiB,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;gBAC/E,IAAM,IAAI,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;gBACvC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;aAC1B;SACJ;IACL,CAAC;IAES,iCAAa,GAAvB;QACI,IAAI,IAAI,CAAC,iBAAiB,EAAE;YACxB,KAAK,IAAI,CAAC,GAAW,CAAC,EAAE,GAAG,GAAW,IAAI,CAAC,iBAAiB,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;gBAC/E,IAAM,IAAI,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;gBACvC,IAAI,CAAC,aAAa,EAAE,CAAC;aACxB;SACJ;IACL,CAAC;IACD,SAAS;IACD,6BAAS,GAAjB;QACI,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,IAAI,EAAE;YAC7B,KAAK,IAAI,CAAC,GAAW,CAAC,EAAE,GAAG,GAAW,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;gBAClE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;aACrC;SACJ;IACL,CAAC;IAEO,kCAAc,GAAtB,UAAuB,IAAgB;QACnC,IAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;QACvB,IAAM,SAAS,GAAG,IAAI,CAAC,QAAQ,IAAI,CAAC,CAAC;QACrC,IAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;QACvB,IAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;QAE/B,IAAM,MAAM,GAAG;YACX,IAAI;YACJ,SAAS;YACT,QAAQ;SACX,CAAC;QACF,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,GAAG,MAAM,CAAC;QACpC,IAAI,QAAQ,GAAW,CAAC,CAAC;QACzB,KAAK,IAAM,GAAG,IAAI,IAAI,CAAC,QAAQ,EAAE;YAC7B,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;gBACpB,IAAM,EAAE,GAAG,IAAI,CAAC,kBAAkB,CAAE,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC;gBACnE,IAAI,EAAE,IAAI,EAAE,CAAC,SAAS,GAAG,QAAQ,EAAE;oBAC/B,QAAQ,GAAG,EAAE,CAAC,SAAS,CAAC;iBAC3B;aACJ;SACJ;QAED,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,IAAI,CAAC,EAAE;YACtC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;YACzB,MAAM,CAAC,SAAS,GAAG,QAAQ,CAAC;SAC/B;IACL,CAAC;IAEO,sCAAkB,GAA1B,UAA2B,WAAmB,EAAE,QAAgB,EACrC,YAA2B;QAClD,IAAM,OAAO,GAAG,WAAW,CAAC;QAC5B,IAAI,SAA+B,CAAC;QACpC,IAAI,OAAO,wBAAuB,EAAE;YAChC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;SAC9B;aAAM;YACH,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;SACpD;QACD,IAAI,SAAS,EAAE;YACX,IAAM,QAAQ,GAAG,IAAI,4DAAa,CAAC,QAAQ,CAAC,CAAC;YAC7C,QAAQ,CAAC,IAAI,GAAG,QAAQ,CAAC;YACzB,QAAQ,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;YACxB,QAAQ,CAAC,MAAM,GAAG,SAAS,CAAC;YAC5B,QAAQ,CAAC,SAAS,GAAG,YAAY,CAAC,QAAQ,IAAI,CAAC,CAAC;YAChD,QAAQ,CAAC,IAAI,GAAG,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC;YACpC,IAAI,QAAQ,GAAW,CAAC,CAAC;YACzB,KAAK,IAAI,CAAC,GAAW,CAAC,EAAE,GAAG,GAAW,YAAY,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;gBAC/E,IAAM,YAAY,GAAG,YAAY,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;gBAC/C,IAAM,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC,YAAY,EAAE,YAAY,CAAC,QAAQ,CAAC,CAAC;gBACzE,IAAI,QAAQ,EAAE;oBACV,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;oBAClC,IAAI,QAAQ,CAAC,SAAS,GAAG,QAAQ,EAAE;wBAC/B,QAAQ,GAAG,QAAQ,CAAC,SAAS,CAAC;qBACjC;iBACJ;aACJ;YAED,IAAI,CAAC,QAAQ,CAAC,SAAS,IAAI,QAAQ,CAAC,SAAS,IAAI,CAAC,EAAE;gBAChD,QAAQ,CAAC,SAAS,GAAG,QAAQ,CAAC;aACjC;YACD,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC;YAChC,OAAO,QAAQ,CAAC;SACnB;IACL,CAAC;IAEO,iCAAa,GAArB,UAAsB,IAAe,EAAE,QAAqB;QAArB,uCAAoB,CAAC;QACxD,IAAI,QAAuB,CAAC;QAE5B,QAAQ,IAAI,CAAC,IAAI,EAAE;YACf,iBAAoB;YACpB,iBAAoB;YACpB,4BAA0B;YAC1B,4BAA0B;YAC1B,+BAA2B;YAC3B,0BAAyB;YACzB,0BAAyB;YACzB,yBAAwB;YACxB,+BAA2B;YAC3B,yBAAwB;YACxB,2BAAyB;YACzB;gBACI,QAAQ,GAAG,IAAI,kDAAQ,EAAU,CAAC;gBAClC,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,EAAE,wDAAW,CAAC,CAAC;gBACrD,MAAM;YACV,6BAA0B;YAC1B;gBACI,QAAQ,GAAG,IAAI,kDAAQ,EAAW,CAAC;gBACnC,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,EAAE,0DAAY,CAAC,CAAC;gBACtD,MAAM;YACV,uBAAuB;YACvB;gBACI,QAAQ,GAAG,IAAI,kDAAQ,EAAU,CAAC;gBAClC,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,EAAE,wDAAW,CAAC,CAAC;gBACrD,MAAM;YACV;gBACI,QAAQ,GAAG,IAAI,kDAAQ,EAAU,CAAC;gBAClC,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,EAAE,sDAAU,CAAC,CAAC;gBACpD,MAAM;YACV;gBACI,QAAQ,GAAG,IAAI,4DAAa,EAAE,CAAC;gBAC/B,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,EAAE,sDAAU,CAAC,CAAC;gBACpD,MAAM;YACV;gBACI,QAAQ,GAAG,IAAI,kDAAQ,EAAU,CAAC;gBAClC,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,EAAE,wDAAW,CAAC,CAAC;gBACrD,MAAM;SACb;QACD,IAAI,QAAQ,EAAE;YACV,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;YAC1B,QAAQ,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;YAC5B,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE;gBACnC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC;aAClE;iBAAM;gBACH,QAAQ,CAAC,SAAS,GAAG,CAAC,CAAC;aAC1B;SAEJ;QACD,OAAO,QAAQ,CAAC;IACpB,CAAC;IACO,+BAAW,GAAnB,UAAoB,QAAuB,EAAE,IAAc,EAAE,UAAgC;QACzF,KAAK,IAAI,CAAC,GAAW,CAAC,EAAE,GAAG,GAAW,IAAI,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YAC7D,IAAM,SAAS,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;YAC1B,IAAM,KAAK,GAAG,IAAI,UAAU,EAAE,CAAC;YAC/B,KAAK,CAAC,IAAI,GAAG,SAAS,CAAC,KAAK,CAAC;YAC7B,KAAK,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;YAC9B,KAAK,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC;YAC9B,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SAC/B;IACL,CAAC;IACL,gBAAC;AAAD,CAAC;;;;;;;;;;;;;;ACtWL;AAAA;AAAA;AAAgD;AAEhD;IA0BQ,uBAAY,IAAY;QAPjB,cAAS,GAAyB,EAAE,CAAC;QACrC,QAAG,GAAW,EAAE,CAAC;QAEjB,cAAS,GAAW,CAAC,CAAC;QACtB,SAAI,GAAY,KAAK,CAAC;QACrB,aAAQ,GAAW,CAAC,CAAC;QACrB,cAAS,GAAW,CAAC,CAAC;QAE1B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACrB,CAAC;IA1BD,sBAAY,wCAAa;aAAzB;YACI,OAAO,IAAI,CAAC,MAA8B,CAAC;QAC/C,CAAC;;;OAAA;IAED,sBAAW,kCAAO;aAAlB,UAAmB,CAAS;YACxB,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;YAClB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC;YACjD,IAAI,IAAI,CAAC,IAAI,EAAE;gBACX,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;aACpD;YACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;gBACvD,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC;aACjD;YACD,IAAI,CAAC,aAAa,EAAE,CAAC;QACzB,CAAC;;;OAAA;IAcM,qCAAa,GAApB;QACI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YACvD,IAAM,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YACnC,IAAI,QAAQ,YAAY,4DAAa,EAAE;gBACnC,QAAQ,CAAC,YAAY,EAAE,CAAC;aAC3B;SACJ;IACL,CAAC;IACO,qCAAa,GAArB;QACI,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,EAAE;YACrB,OAAO;SACV;QACD,KAAK,IAAI,CAAC,GAAW,CAAC,EAAE,GAAG,GAAW,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YACvE,IAAM,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YACnC,IAAM,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC;YACzC,IAAM,QAAQ,GAAG,QAAQ,CAAC,QAAQ,CAAC;YACnC,QAAQ,QAAQ,CAAC,IAAI,EAAE;gBACnB;oBACI,aAAa,CAAC,CAAC,GAAG,QAAQ,CAAC;oBAC3B,MAAM;gBACV;oBACI,aAAa,CAAC,CAAC,GAAG,QAAQ,CAAC;oBAC3B,MAAM;gBACV;oBACI,aAAa,CAAC,MAAM,GAAG,QAAQ,CAAC;oBAChC,MAAM;gBACV;oBACI,aAAa,CAAC,MAAM,GAAG,QAAQ,CAAC;oBAChC,MAAM;gBACV;oBACI,aAAa,CAAC,QAAQ,GAAG,QAAQ,CAAC;oBAClC,MAAM;gBACV;oBACI,aAAa,CAAC,OAAO,GAAG,QAAQ,CAAC;oBACjC,MAAM;gBACV;oBACI,aAAa,CAAC,KAAK,GAAG,QAAQ,CAAC;oBAC/B,MAAM;gBACV;oBACK,aAA8B,CAAC,IAAI,GAAG,QAAQ,CAAC;oBAChD,MAAM;gBACV;oBACI,aAAa,CAAC,OAAO,GAAG,QAAQ,CAAC;oBACjC,MAAM;gBACV;oBACI,aAAa,CAAC,UAAU,GAAG,QAAQ,CAAC;oBACpC,MAAM;gBACV;oBACI,IAAM,MAAM,GAAG,QAAwB,CAAC;oBACxC,IAAI,MAAM,EAAE;wBACR,KAAK,IAAI,CAAC,GAAW,CAAC,EAAE,IAAI,GAAW,MAAM,CAAC,MAAM,EAAE,CAAC,GAAG,IAAI,EAAE,CAAC,EAAE,EAAE;4BACjE,IAAM,OAAK,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;4BACvB,aAA6B,CAAC,IAAI,CAAC,OAAK,CAAC,IAAI,EAAE,OAAK,CAAC,IAAI,CAAC,CAAC;yBAC/D;qBACJ;oBACD,MAAM;gBACV;oBACI,IAAI,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,EAAE;wBACvC,IAAI,CAAC,WAAW,CAAC,aAAa,EAAE,QAAQ,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;qBAC5D;yBAAM;wBACF,aAAqB,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,QAAQ,CAAC;qBACpD;oBACD,MAAM;aAEb;SACJ;IACL,CAAC;IACO,mCAAW,GAAnB,UAAoB,OAA6B,EAAE,SAAiB,EAAE,KAAU;QAC5E,IAAM,UAAU,GAAG,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QACxC,IAAI,MAAM,GAAG,OAAc,CAAC;QAC5B,KAAK,IAAI,CAAC,GAAW,CAAC,EAAE,GAAG,GAAW,UAAU,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,GAAG,CAAC,EAAG,CAAC,EAAE,EAAE;YACxE,IAAM,MAAM,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;YAC7B,IAAI,MAAM,IAAI,MAAM,CAAC,MAAM,CAAC,EAAE;gBAC1B,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC;aAC3B;SACJ;QACD,IAAI,MAAM,EAAE;YACR,MAAM,CAAC,UAAU,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC;SACrD;IAEL,CAAC;IACL,oBAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpH2B;AAEhC;IAAkC,gCAAc;IAExC;eACI,iBAAO;IACX,CAAC;IAEM,+BAAQ,GAAf,UAAgB,QAAgB,EAAE,KAAc;QAC5C,OAAO,IAAI,CAAC,KAAK,CAAC;IACtB,CAAC;IACL,mBAAC;AAAD,CAAC,CAT6B,4CAAK,GASlC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACX2B;AAEhC;IAAgC,8BAAa;IAErC;eACI,iBAAO;IACX,CAAC;IAEM,6BAAQ,GAAf,UAAgB,QAAgB,EAAE,KAAa;QAC3C,IAAM,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACjD,IAAM,QAAQ,GAAG,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAM,SAAS,GAAG;YACd,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,GAAG,QAAQ;YACnD,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,GAAG,QAAQ;YACnD,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC,GAAG,QAAQ;SACtD,CAAC;QACF,OAAO,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;IAC3C,CAAC;IAES,oCAAe,GAAzB,UAA0B,KAAa;QACnC,uCAAuC;QACvC,IAAM,CAAC,GAAG,CAAC,KAAK,IAAI,EAAE,CAAC,GAAG,IAAI,CAAC;QAC/B,uCAAuC;QACvC,IAAM,CAAC,GAAG,CAAC,KAAK,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC;QAC9B,uCAAuC;QACvC,IAAM,CAAC,GAAG,CAAC,KAAK,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC;QAC9B,OAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IACrB,CAAC;IACS,oCAAe,GAAzB,UAA0B,GAAa;QACnC,OAAO,GAAG,CAAC,CAAC,CAAC,GAAG,OAAO,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,KAAK,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;IACtD,CAAC;IACL,iBAAC;AAAD,CAAC,CA7B2B,4CAAK,GA6BhC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/B2B;AAGhC;IAAgC,8BAAmB;IAE3C;eACI,iBAAO;IACX,CAAC;IAEM,6BAAQ,GAAf,UAAgB,QAAgB,EAAE,KAAmB;QACjD,OAAO,IAAI,CAAC,KAAK,CAAC;IACtB,CAAC;IACL,iBAAC;AAAD,CAAC,CAT2B,4CAAK,GAShC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZiC;AAItC;IAAmC,iCAAsB;IAKrD;QAAA,YACI,iBAAO,SAEV;QALO,oBAAc,GAAW,CAAC,CAAC;QAC3B,cAAQ,GAAY,KAAK,CAAC;QAG9B,KAAI,CAAC,SAAS,GAAG,EAAE,CAAC;;IACxB,CAAC;IAEM,oCAAY,GAAnB;QACI,EAAE;QACF,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;QAClB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;IAC/B,CAAC;IAES,mCAAW,GAArB,UAAsB,GAAW,EAAE,GAAW,EAAE,GAAW,EAAE,KAA6B;QAA7B,oCAA6B;QACtF,OAAO,GAAG,CAAC;IACf,CAAC;IAES,sCAAc,GAAxB;QACI,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,KAAK,CAAC,EAAE;YAC1B,OAAO;SACV;IACL,CAAC;IACS,sCAAc,GAAxB;QACI,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC;QAC1B,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,KAAK,CAAC,EAAE;YAC1B,OAAO;SACV;QACD,IAAI,IAAI,CAAC,SAAS,KAAK,SAAS,EAAE;YAC9B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;YAChC,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;SAC3B;QAED,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,QAAQ,EAAE;YAC/B,IAAI,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE;gBACpC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC;aAC/C;SACJ;aAAM;YACH,IAAI,CAAC,UAAU,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;SAC5B;IACL,CAAC;IAEO,kCAAU,GAAlB,UAAmB,UAAkB,EAAE,QAAyB;QAAzB,2CAAyB;QAC5D,IAAI,QAAQ,EAAE;YACV,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,cAAc,EAAE,GAAG,GAAW,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;gBAC9E,IAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;gBAC7B,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;aACxB;SACJ;QACD,KAAK,IAAI,CAAC,GAAG,UAAU,EAAE,GAAG,GAAW,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YACrE,IAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;YAC7B,IAAI,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,OAAO,IAAI,CAAC,QAAQ,IAAI,KAAK,CAAC,IAAI,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAG;gBACzE,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;aACxB;iBAAM,IAAI,KAAK,CAAC,IAAI,GAAG,IAAI,CAAC,OAAO,EAAE;gBAClC,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;gBACvB,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;gBACxB,MAAM;aACT;YACD,IAAI,CAAC,cAAc,GAAG,MAAM,CAAC,SAAS,CAAC;SAC1C;IACL,CAAC;IACO,gCAAQ,GAAhB,UAAiB,KAAiB;QAC9B,IAAI,KAAK,CAAC,KAAK,EAAE;YACb,KAAK,IAAI,CAAC,GAAW,CAAC,EAAE,IAAI,GAAW,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,GAAG,IAAI,EAAE,CAAC,EAAE,EAAE;gBACtE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;aACvC;SACJ;IACL,CAAC;IACL,oBAAC;AAAD,CAAC,CAtEkC,kDAAQ,GAsE1C;;;;;;;;;;;;;;ACzEG;AAAA;AAAA;IAMI;QAJO,SAAI,GAAW,CAAC,CAAC,CAAC;QAClB,UAAK,GAAc,EAAE,CAAC;QACtB,UAAK,GAAO,IAAW,CAAC;QAG3B,EAAE;IACN,CAAC;IAEM,wBAAQ,GAAf,UAAgB,QAAgB,EAAE,KAAQ;QACtC,OAAO,IAAW,CAAC;IACvB,CAAC;IACL,YAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACd2B;AAEhC;IAAiC,+BAAa;IAEtC;eACI,iBAAO;IACX,CAAC;IAEM,8BAAQ,GAAf,UAAgB,QAAgB,EAAE,KAAa;QAC3C,OAAO,IAAI,CAAC,KAAK,GAAG,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,QAAQ,CAAC;IACxD,CAAC;IACL,kBAAC;AAAD,CAAC,CAT4B,4CAAK,GASjC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACX2B;AAEhC;IAAiC,+BAAa;IAEtC;eACI,iBAAO;IACX,CAAC;IAEM,8BAAQ,GAAf,UAAgB,QAAgB,EAAE,KAAa;QAC3C,OAAO,IAAI,CAAC,KAAK,CAAC;IACtB,CAAC;IACL,kBAAC;AAAD,CAAC,CAT4B,4CAAK,GASjC;;;;;;;;;;;;;;ACTL;AAAA;AAAA;AAAsD;AAEtD;IAiCQ;QAjBO,SAAI,GAAiB,IAAW,CAAC;QACjC,WAAM,GAAoB,EAAE,CAAC;QAC7B,YAAO,GAAW,CAAC,CAAC;QACpB,aAAQ,GAAW,CAAC,CAAC;QACrB,SAAI,GAAY,KAAK,CAAC;QACtB,cAAS,GAAW,CAAC,CAAC;QACnB,kBAAa,GAAM,IAAW,CAAC;QAC/B,gBAAW,GAAW,CAAC,CAAC;QAExB,oBAAe,GAAW,CAAC,CAAC;QAC5B,eAAU,GAAoB,IAAW,CAAC;QAC1C,cAAS,GAAoB,IAAI,CAAC;QAClC,eAAU,GAAa,IAAW,CAAC;QACnC,WAAM,GAAW,CAAC,CAAC,CAAC;QAEpB,cAAS,GAAM,IAAW,CAAC;QAGjC,EAAE;IACN,CAAC;IAjCD,sBAAW,kCAAY;aAAvB,UAAwB,KAAQ;YAC5B,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;YAC3B,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;QAC3B,CAAC;;;OAAA;IACD,sBAAW,8BAAQ;aAAnB;YACI,OAAO,IAAI,CAAC,SAAS,CAAC;QAC1B,CAAC;;;OAAA;IAED,sBAAW,gCAAU;aAArB,UAAsB,CAAS;YAC3B,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;YACrB,IAAI,CAAC,IAAI,EAAE,CAAC;YACZ,IAAI,CAAC,eAAe,GAAG,CAAC,CAAC;QAC7B,CAAC;;;OAAA;IAuBS,8BAAW,GAArB,UAAsB,GAAW,EAAE,GAAW,EAAE,GAAW,EAAE,KAA6B;QAA7B,oCAA6B;QACtF,IAAI,YAAY,GAAW,CAAC,CAAC;QAC7B,IAAI,aAAa,GAAW,CAAC,CAAC;QAC9B,IAAI,GAAG,KAAK,GAAG,EAAE;YACb,YAAY,GAAI,CAAC,CAAC;SACrB;aAAM;YACH,YAAY,GAAI,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;SAC7C;QACD,aAAa,GAAG,YAAY,CAAC;QAC7B,IAAI,KAAK,IAAI,KAAK,CAAC,MAAM,EAAE;YACvB,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;gBACpB,IAAM,SAAS,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;gBAC3B,aAAa,GAAG,sEAAgB,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC;aAC7D;YACD,cAAc;SACjB;QACD,OAAO,aAAa,CAAC;IACzB,CAAC;IAES,uBAAI,GAAd;QACI,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC;QAChC,IAAI,IAAI,CAAC,IAAI,EAAE;YACX,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC;YACxD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC;SAC9D;QACD,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC;IACjC,CAAC;IACS,iCAAc,GAAxB;QACI,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,KAAK,CAAC,EAAE;YAC1B,OAAO;SACV;QACD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC;QACjC,IAAI,CAAC,GAAW,CAAC,CAAC;QAClB,IAAI,GAAG,GAAW,CAAC,CAAC;QACpB,KAAK,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YAChD,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,OAAO,EAAE;gBACpC,IAAI,CAAC,KAAK,CAAC,EAAE;oBACT,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;oBACtB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;iBACpC;qBAAM;oBACH,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;oBACpC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;iBACpC;gBACD,OAAO;aACV;SACJ;QACD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QACrD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,SAAS,CAAC;IACrC,CAAC;IAES,iCAAc,GAAxB;QACI,IAAI,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,UAAU,EAAE;YACnC,IAAM,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,EACjC,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;YAEvE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,EAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;SACtE;IACL,CAAC;IACL,eAAC;AAAD,CAAC;;;;;;;;;;;;;;AC6IL;AAAA;AAAA;AAAA,+CAA+C;AAE/C,IAAY,eAaX;AAbD,WAAY,eAAe;IACvB,uDAAK;IACL,6DAAQ;IACR,yDAAM;IACN,yDAAM;IACN,6DAAQ;IACR,+DAAS;IACT,+DAAS;IACT,mEAAW;IACX,qEAAY;IACZ,mEAAW;IACX,0EAAc;IACd,gEAAS;AACb,CAAC,EAbW,eAAe,KAAf,eAAe,QAa1B;AACD,IAAY,eAMX;AAND,WAAY,eAAe;IACvB,qDAAI;IACJ,qDAAI;IACJ,uDAAK;IACL,mDAAG;IACH,qDAAI;AACR,CAAC,EANW,eAAe,KAAf,eAAe,QAM1B;;;;;;;;;;;;;ACpQD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA4D;AACE;AACF;AACE;AACF;AACE;AACJ;AACJ;AACJ;AACgB;AACE;AAClB;AAKlD;IAKI,oBAAY,OAAgB,EAAE,WAA6B,EAAE,IAAqB;QAC9E,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IACrB,CAAC;IAEM,wBAAG,GAAV;QACI,IAAM,UAAU,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACtD,IAAI,UAAU,EAAE;YACZ,IAAM,aAAW,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC;YAC7C,UAAU,CAAC,kBAAkB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YAChD,UAAU,CAAC,QAAQ,GAAG,CAAC,CAAC;YACxB,UAAU,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;YACpD,IAAM,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC;YACjC,KAAK,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;YAC5B,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC,QAAQ,EAAE;gBACpC,UAAU,CAAC,OAAO,EAAE,CAAC;gBACrB,aAAW,CAAC,IAAI,wBAAmB;oBAC/B,IAAI,qCAA0B,EAAE,KAAK,uBAAmB,EAAE,IAAI,EAAE,IAAI;iBACvE,CAAC,CAAC;YACP,CAAC,CAAC,CAAC;YACH,KAAK,CAAC,EAAE,CAAC,EAAC,QAAQ,EAAE,CAAC,EAAC,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,KAAK,EAAE,CAAC;YACpD,aAAW,CAAC,IAAI,wBAAmB;gBAC/B,IAAI,yCAA4B,EAAE,KAAK,uBAAmB,EAAE,IAAI,EAAE,IAAI;aACzE,CAAC,CAAC;SACN;IACL,CAAC;IAEO,kCAAa,GAArB,UAAsB,IAAoB;;QACtC,IAAI,IAAI,CAAC,OAAO,IAAI,CAChB,IAAI,CAAC,OAAO,CAAC,MAAM,KAAK,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,KAAK,CAAC;YACtD,CAAC,CAAC,UAAI,CAAC,OAAO,CAAC,GAAG,0CAAE,QAAQ,CAAC,OAAe,EAAC,YAAY,CAAC,EAAE;YAC5D,OAAO,IAAI,+DAAW,EAAE,CAAC;SAC5B;QACD,QAAQ,IAAI,EAAE;YACV;gBACI,OAAO,IAAI,CAAC;YAChB;gBACI,OAAO,IAAI,wEAAe,EAAE,CAAC;YACjC;gBACI,OAAO,IAAI,0EAAgB,EAAE,CAAC;YAClC;gBACI,OAAO,IAAI,wEAAe,EAAE,CAAC;YACjC;gBACI,OAAO,IAAI,0EAAgB,EAAE,CAAC;YAClC;gBACI,OAAO,IAAI,wEAAe,EAAE,CAAC;YACjC;gBACI,OAAO,IAAI,0EAAgB,EAAE,CAAC;YAClC;gBACI,OAAO,IAAI,sEAAc,EAAE,CAAC;YAChC;gBACI,OAAO,IAAI,kEAAY,EAAE,CAAC;YAC9B;gBACI,OAAO,IAAI,8DAAU,EAAE,CAAC;YAC5B;gBACI,OAAO,IAAI,8EAAkB,EAAE,CAAC;YACpC;gBACI,OAAO,IAAI,iFAAmB,EAAE,CAAC;YACrC;gBACI,OAAO,IAAI,CAAC;SACnB;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IACL,iBAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/ED;IAAoC,kCAAS;IAoCrC,wBAAY,SAAkB,EAAE,WAAoB,EAAE,QAAc;eAChE,kBACI,SAAS,IAAM,cAAc,CAAC,SAAS,EACvC,WAAW,EACX,QAAQ,IAAO,cAAc,CAAC,iBAAiB,CAClD;IACL,CAAC;IAEM,8BAAK,GAAZ,UAAa,aAAsC,EAAE,KAAuB,EAAE,MAAwB;QAClG,IAAM,UAAU,GAAG,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;QAClC,aAAqB,CAAC,oCAAoC,CAAC,UAAU,CAAC,CAAC;QACxE,IAAI,CAAC,QAAQ,CAAC,YAAY,GAAG,UAAU,CAAC;QACxC,IAAI,CAAC,QAAQ,CAAC,UAAU,GAAG,EAAE,CAAC,QAAQ,CAAC,UAAU,CAAC;QAClD,mEAAmE;QACnE,aAAa,CAAC,WAAW,CAAC,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE,SAAS,CAAC,CAAC;IAC9D,CAAC;IAEM,2CAAkB,GAAzB,UAA0B,KAAU;QAChC,IAAI,CAAC,QAAQ,CAAC,eAAe,GAAG,KAAK,CAAC;IAC1C,CAAC;IAED,sBAAW,oCAAQ;aAKnB;YACI,OAAO,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC;QAClC,CAAC;aAPD,UAAoB,KAAa;YAC7B,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;YAC3B,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;YAC3B,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG,KAAK,CAAC;QACnC,CAAC;;;OAAA;IAKM,yCAAgB,GAAvB,UAAwB,MAAwB;QAC5C,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,MAAM,CAAC,OAAO,GAAG,CAAC,IAAI,CAAC,CAAC;IACjC,CAAC;IACM,gCAAO,GAAd;QACI,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,IAAI,CAAC,MAAM,CAAC,OAAO,GAAG,EAAE,CAAC;SAC5B;IACL,CAAC;IAxEsB,wBAAS,GAAW,4gCAuB1C,CAAC;IAEsB,gCAAiB,GAAG;QACxC,YAAY,EAAE,EAAE,CAAC,MAAM,CAAC,WAAW;QACnC,UAAU,EAAE,EAAE,CAAC,QAAQ,CAAC,UAAU;QAClC,eAAe,EAAG,IAAI;QACtB,QAAQ,EAAE,GAAG;KAChB,CAAC;IA2CN,qBAAC;CAAA,CA3E+B,EAAE,CAAC,MAAM,GA2ExC;AA3EsB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACVuB;AAElD;IAAsC,oCAAc;IA+B5C;eACI,kBAAM,EAAE,EAAE,gBAAgB,CAAC,WAAW,CAAC;IAC3C,CAAC;IA/BuB,4BAAW,GAAW,i9BA2B7C,CAAC;IAKN,uBAAC;CAAA,CAlCiC,8DAAc,GAkC/C;AAlCwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFqB;AAElD;IAAqC,mCAAc;IAiB3C;eACI,kBAAM,EAAE,EAAE,eAAe,CAAC,WAAW,CAAC;IAC1C,CAAC;IAjBuB,2BAAW,GAAW,+fAa7C,CAAC;IAKN,sBAAC;CAAA,CApBgC,8DAAc,GAoB9C;AApBuB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFsB;AAWlD;IAAqC,mCAAc;IA4E3C;eACI,kBAAM,8DAAc,CAAC,SAAS,EAAE,eAAe,CAAC,WAAW,EAAE,eAAe,CAAC,kBAAkB,CAAC;IACpG,CAAC;IA5EuB,kCAAkB,GAAG;QACzC,YAAY,EAAK,EAAE,CAAC,MAAM,CAAC,WAAW;QACtC,UAAU,EAAO,EAAE,CAAC,QAAQ,CAAC,UAAU;QACvC,eAAe,EAAE,IAAI;QACrB,QAAQ,EAAS,GAAG;QACpB,QAAQ,EAAS,GAAG;KACvB,CAAC;IAEsB,2BAAW,GAAW,8xFAgE7C,CAAC;IAKN,sBAAC;CAAA,CA/EgC,8DAAc,GA+E9C;AA/EuB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACTsB;AAalD;IAAsC,oCAAS;IA8DvC;QAAA,YACI,kBAAM,8DAAc,CAAC,SAAS,EAAE,gBAAgB,CAAC,WAAW,EAAE,gBAAgB,CAAC,kBAAkB,CAAC,SAErG;QADG,KAAI,CAAC,OAAO,GAAG,CAAC,CAAC;;IACrB,CAAC;IAED;;;;;OAKG;IACI,gCAAK,GAAZ,UAAa,aAAsC,EAAE,KAAuB,EAAE,MAAwB;QAClG,IAAM,UAAU,GAAG,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;QACnC,kEAAkE;QAClE,IAAI,CAAC,QAAQ,CAAC,YAAY,GAAG,UAAU,CAAC;QACxC,IAAI,CAAC,QAAQ,CAAC,UAAU,GAAG,EAAE,CAAC,QAAQ,CAAC,UAAU,CAAC;QAClD,iBAAM,KAAK,YAAC,aAAa,EAAE,KAAK,EAAE,MAAM,EAAE,EAAE,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;IACjE,CAAC;IAED;;;OAGG;IACI,6CAAkB,GAAzB,UAA0B,KAAU;QAChC,IAAI,CAAC,QAAQ,CAAC,eAAe,GAAG,KAAK,CAAC;IAC1C,CAAC;IAED;;;OAGG;IACI,sCAAW,GAAlB,UAAmB,KAAa;QAC5B,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;QAC3B,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;QAC3B,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG,KAAK,CAAC;IACnC,CAAC;IACD,sBAAW,sCAAQ;aAKnB;YACI,OAAO,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC;QAClC,CAAC;aAPD,UAAoB,KAAa;YAC7B,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;YAC3B,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;YAC3B,IAAI,CAAC,QAAQ,CAAC,QAAQ,GAAG,KAAK,CAAC;QACnC,CAAC;;;OAAA;IAKM,2CAAgB,GAAvB,UAAwB,MAAwB;QAC5C,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,MAAM,CAAC,OAAO,GAAG,CAAC,IAAI,CAAC,CAAC;IACjC,CAAC;IACM,kCAAO,GAAd;QACI,IAAI,IAAI,CAAC,MAAM,EAAE;YACb,IAAI,CAAC,MAAM,CAAC,OAAO,GAAG,EAAE,CAAC;SAC5B;IACL,CAAC;IAjHuB,mCAAkB,GAAG;QACzC,UAAU,EAAO,EAAE,CAAC,QAAQ,CAAC,UAAU;QACvC,eAAe,EAAE,IAAI;QACrB,QAAQ,EAAS,GAAG;QACpB,QAAQ,EAAS,EAAE;QACnB,SAAS,EAAQ,GAAG;QACpB,KAAK,EAAY,GAAG;QACpB,SAAS,EAAQ,GAAG;KACvB,CAAC;IAEsB,4BAAW,GAAW,0wDA+C7C,CAAC;IAyDV,uBAAC;CAAA,CApHqC,EAAE,CAAC,MAAM,GAoH9C;AApH4B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACfqB;AAWlD;IAAqC,mCAAc;IAoC3C;eACI,kBAAM,8DAAc,CAAC,SAAS,EAAE,eAAe,CAAC,WAAW,EAAE,eAAe,CAAC,kBAAkB,CAAC;IACpG,CAAC;IApCuB,kCAAkB,GAAG;QACzC,YAAY,EAAK,EAAE,CAAC,MAAM,CAAC,WAAW;QACtC,UAAU,EAAO,EAAE,CAAC,QAAQ,CAAC,UAAU;QACvC,eAAe,EAAE,IAAI;QACrB,QAAQ,EAAS,GAAG;KACvB,CAAC;IAEsB,2BAAW,GAAW,q9BAyB7C,CAAC;IAKN,sBAAC;CAAA,CAvCgC,8DAAc,GAuC9C;AAvCuB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACXsB;AAWlD;IAAsC,oCAAc;IA+C5C;eACI,kBAAM,8DAAc,CAAC,SAAS,EAAE,gBAAgB,CAAC,WAAW,EAAE,gBAAgB,CAAC,kBAAkB,CAAC;IACtG,CAAC;IA/CuB,mCAAkB,GAAG;QACzC,YAAY,EAAK,EAAE,CAAC,MAAM,CAAC,WAAW;QACtC,UAAU,EAAO,EAAE,CAAC,QAAQ,CAAC,UAAU;QACvC,eAAe,EAAE,IAAI;QACrB,QAAQ,EAAS,GAAG;QACpB,SAAS,EAAQ,GAAG;KACvB,CAAC;IAEsB,4BAAW,GAAW,21CAmC7C,CAAC;IAKN,uBAAC;CAAA,CAlDiC,8DAAc,GAkD/C;AAlDwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACXqB;AAUlD;IAAoC,kCAAc;IAwM1C;eACI,kBAAM,8DAAc,CAAC,SAAS,EAAE,cAAc,CAAC,WAAW,EAAE,cAAc,CAAC,kBAAkB,CAAC;IAClG,CAAC;IAxMuB,iCAAkB,GAAG;QACzC,YAAY,EAAK,EAAE,CAAC,MAAM,CAAC,WAAW;QACtC,UAAU,EAAO,EAAE,CAAC,QAAQ,CAAC,UAAU;QACvC,eAAe,EAAE,IAAI;QACrB,QAAQ,EAAS,GAAG;KACvB,CAAC;IAEsB,0BAAW,GAAW,kmPA6L7C,CAAC;IAKN,qBAAC;CAAA,CA3M+B,8DAAc,GA2M7C;AA3MsB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACVuB;AAUlD;IAAwC,sCAAc;IA6H9C;eACI,kBAAM,8DAAc,CAAC,SAAS,EAAE,kBAAkB,CAAC,WAAW,EAAE,kBAAkB,CAAC,QAAQ,CAAC;IAChG,CAAC;IA7HuB,2BAAQ,GAAG;QAC/B,YAAY,EAAK,EAAE,CAAC,MAAM,CAAC,WAAW;QACtC,UAAU,EAAO,EAAE,CAAC,QAAQ,CAAC,UAAU;QACvC,eAAe,EAAE,IAAI;QACrB,QAAQ,EAAS,GAAG;KACvB,CAAC;IAEsB,8BAAW,GAAW,+oJAkH7C,CAAC;IAKN,yBAAC;CAAA,CAhImC,8DAAc,GAgIjD;AAhI0B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACVmB;AAUlD;IAAyC,uCAAc;IAsI/C;eACI,kBAAM,8DAAc,CAAC,SAAS,EAAE,mBAAmB,CAAC,WAAW,EAAE,mBAAmB,CAAC,QAAQ,CAAC;IAClG,CAAC;IAtIuB,4BAAQ,GAAG;QAC/B,YAAY,EAAK,EAAE,CAAC,MAAM,CAAC,WAAW;QACtC,UAAU,EAAO,EAAE,CAAC,QAAQ,CAAC,UAAU;QACvC,eAAe,EAAE,IAAI;QACrB,QAAQ,EAAS,GAAG;KACvB,CAAC;IAEsB,+BAAW,GAAW,o/JA2H7C,CAAC;IAKN,0BAAC;CAAA,CAzIoC,8DAAc,GAyIlD;AAzI2B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACVkB;AAElD;IAAkC,gCAAc;IAwBxC;QAAA,YACI,kBAAM,EAAE,EAAE,YAAY,CAAC,WAAW,CAAC,SAEtC;QADG,KAAI,CAAC,OAAO,GAAG,CAAC,CAAC;;IACrB,CAAC;IAzBuB,wBAAW,GAAW,8jCAoB7C,CAAC;IAMN,mBAAC;CAAA,CA5B6B,8DAAc,GA4B3C;AA5BoB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFyB;AAWlD;IAAgC,8BAAc;IAmCtC;eACI,kBAAM,8DAAc,CAAC,SAAS,EAAE,UAAU,CAAC,WAAW,EAAE,UAAU,CAAC,kBAAkB,CAAC;IAC1F,CAAC;IAnCuB,6BAAkB,GAAG;QACzC,YAAY,EAAK,EAAE,CAAC,MAAM,CAAC,WAAW;QACtC,UAAU,EAAO,EAAE,CAAC,QAAQ,CAAC,UAAU;QACvC,eAAe,EAAE,IAAI;QACrB,QAAQ,EAAS,GAAG;QACpB,IAAI,EAAa,GAAG;KACvB,CAAC;IAEsB,sBAAW,GAAW,k4BAuB7C,CAAC;IAKN,iBAAC;CAAA,CAtC2B,8DAAc,GAsCzC;AAtCkB;;;;;;;;;;;;;ACTvB;AAAA;AAAA;IAAA;QAKY,cAAS,GAAW,CAAC,CAAC;IAmClC,CAAC;IAjCG,sBAAW,iCAAQ;aAMnB;YACI,OAAO,IAAI,CAAC,SAAS,CAAC;QAC1B,CAAC;aARD,UAAoB,CAAS;YACzB,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;YACnB,IAAI,IAAI,CAAC,UAAU,EAAE;gBACjB,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC;aAChD;QACL,CAAC;;;OAAA;IAIM,wCAAkB,GAAzB,UAA0B,KAAU;QAChC,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,IAAI,CAAC,WAAW,EAAE;YAClB,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;SACtD;IACL,CAAC;IACM,sCAAgB,GAAvB,UAAwB,MAAwB;QAC5C,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,IAAI,IAAI,CAAC,UAAU,EAAE;YACtD,IAAI,CAAC,UAAU,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YAClC,IAAI,CAAC,UAAU,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YAClC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;SAChD;IACL,CAAC;IACM,6BAAO,GAAd;;QACI,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE;YAC3C,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;YACpD,UAAI,CAAC,WAAW,0CAAE,OAAO,GAAG;YAC5B,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC;YAC7B,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;SAC/B;IACL,CAAC;IAGL,kBAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnCD;IAAiC,+BAAyB;IAYlD;QAAA,YACI,iBAAO,SAEV;QAZM,cAAQ,GAAW,EAAE,WAAW,CAAC,WAAW,CAAC;QAG7C,WAAK,GAAW,GAAG,CAAC;QACpB,QAAE,GAAW,GAAG,CAAC;QACd,iBAAW,GAA0C,EAAE,CAAC;QAGxD,eAAS,GAAuD,SAAS,CAAC;QAGhF,KAAI,CAAC,aAAa,GAAG,IAAI,CAAC;;IAC9B,CAAC;IAED,sBAAW,gCAAO;aAYlB;YACI,OAAO,IAAI,CAAC,QAAQ,CAAC;QACzB,CAAC;aAdD,UAAmB,KAA0B;YACzC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,KAAM,IAAM,EAAE,IAAI,IAAI,CAAC,WAAW,EAAE;gBAChC,IAAI,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE;oBACtB,IAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;oBACnC,IAAI,KAAK,YAAY,WAAW,EAAE;wBAC9B,KAAK,CAAC,OAAO,GAAG,KAAK,CAAC;qBACzB;iBACJ;aACJ;QACL,CAAC;;;OAAA;IAMM,2BAAK,GAAZ;QAEI,KAAM,IAAM,EAAE,IAAI,IAAI,CAAC,WAAW,EAAE;YAChC,IAAI,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE;gBACtB,IAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;gBACnC,IAAI,KAAK,YAAY,WAAW,EAAE;oBAC9B,KAAK,CAAC,KAAK,EAAE,CAAC;iBACjB;aACJ;SACJ;QAED,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;YAC/C,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;SACzB;QACD,IAAI,IAAI,CAAC,UAAU,EAAE;YACjB,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;SAC3B;IACL,CAAC;IAEM,4BAAM,GAAb;QACI,KAAM,IAAM,EAAE,IAAI,IAAI,CAAC,WAAW,EAAE;YAChC,IAAI,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE;gBACtB,IAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;gBACnC,IAAI,KAAK,YAAY,WAAW,EAAE;oBAC9B,KAAK,CAAC,MAAM,EAAE,CAAC;iBAClB;aACJ;SACJ;QACD,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,IAAI,CAAC,SAAS,EAAE;gBAChB,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;gBAC9F,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;aAC9B;SACJ;QACD,IAAI,IAAI,CAAC,UAAU,EAAE;YACjB,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC;SAC5B;IAEL,CAAC;IAEM,0CAAoB,GAA3B;QACI,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,CAAC,SAAS,CAAC,oBAAoB,EAAE,CAAC;SACzC;IACL,CAAC;IACM,8BAAQ,GAAf,UAAgB,IAAY,EAAE,KAAa,EAAE,KAAiB;QAAjB,iCAAiB;QAC1D,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;SAC/C;IACL,CAAC;IACM,8BAAQ,GAAf,UAAgB,IAAY,EAAE,KAAa;QACvC,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;SACxC;IACL,CAAC;IACM,0BAAI,GAAX,UAAY,IAAY,EAAE,KAAiB;QAAjB,iCAAiB;QACvC,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;SACpC;IACL,CAAC;IAEM,0BAAI,GAAX;QACI,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;SACzB;IACL,CAAC;IAEM,kCAAY,GAAnB,UAAoB,EAAU;QAC1B,OAAO,IAAI,CAAC,WAAW,CAAC,EAAE,CAAyB,CAAC;IACxD,CAAC;IAEM,iCAAW,GAAlB,UAAmB,EAAU;QACzB,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAM,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC;YACzC,IAAM,QAAQ,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,EAAE,EAAE,CAAC,CAAC;YAC9D,OAAO,QAAQ,CAAC;SACnB;QACD,OAAO,SAAS,CAAC;IACrB,CAAC;IAEM,sCAAgB,GAAvB,UAAwB,EAAU;QAC9B,IAAM,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;QACtC,IAAI,QAAQ,EAAE;YACV,OAAO,QAAQ,CAAC,KAAK,CAAC;SACzB;QACD,OAAO,SAAS,CAAC;IACrB,CAAC;IAEM,sCAAgB,GAAvB,UAAwB,EAAU,EAAE,KAAU;QAC1C,IAAM,QAAQ,GAAG,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;QACtC,IAAI,QAAQ,EAAE;YACV,QAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;SAC1B;IACL,CAAC;IAEM,gCAAU,GAAjB,UAAmD,IAAO,EAAE,KAAa;QACrE,8CAA8C;QAC9C,IAAM,GAAG,GAAI,IAAY,CAAC,IAAI,CAAC,CAAC;QAChC,IAAI,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,EAAE;YAClC,2CAA2C;SAC9C;aAAM;YACH,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,GAAG,IAAI,CAAC;SAC3C;QACD,IAAI,IAAI,YAAY,WAAW,EAAE;YAC7B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;SAC/B;QACD,IAAM,KAAK,GAAG,iBAAM,UAAU,YAAC,IAAI,EAAE,KAAK,CAAC,CAAC;QAC5C,IAAI,IAAI,YAAY,WAAW,EAAE;YAC7B,IAAI,CAAC,oBAAoB,EAAE,CAAC;SAC/B;QACD,OAAO,KAAY,CAAC;IACxB,CAAC;IAEM,iCAAW,GAAlB,UAAoD,QAAW;QAC3D,4BAA4B;QAC5B,8CAA8C;QAC9C,IAAM,GAAG,GAAI,QAAgB,CAAC,IAAI,CAAC,CAAC;QACpC,2CAA2C;QAC3C,OAAO,iBAAM,WAAW,YAAC,QAAQ,CAAC,CAAC;IACvC,CAAC;IAEM,+BAAS,GAAhB;QACI,KAAM,IAAM,EAAE,IAAI,IAAI,CAAC,WAAW,EAAE;YAChC,IAAI,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE;gBACtB,IAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;gBACnC,IAAI,KAAK,YAAY,WAAW,EAAE;oBAC9B,KAAK,CAAC,SAAS,EAAE,CAAC;iBACrB;aACJ;SACJ;QACD,IAAI,IAAI,CAAC,UAAU,EAAE;YACjB,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC;SACzB;QACD,IAAI,CAAC,EAAE,wBAAwB,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;IACzD,CAAC;IAEM,0CAAoB,GAA3B;QACI,KAAM,IAAM,EAAE,IAAI,IAAI,CAAC,WAAW,EAAE;YAChC,IAAI,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE;gBACtB,IAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;gBACnC,IAAI,KAAK,YAAY,WAAW,EAAE;oBAC9B,KAAK,CAAC,oBAAoB,EAAE,CAAC;iBAChC;aACJ;SACJ;QACD,IAAI,CAAC,IAAI,kBAAqB,IAAI,CAAC,CAAC;IACxC,CAAC;IAEM,oCAAc,GAArB;QACI,KAAM,IAAM,EAAE,IAAI,IAAI,CAAC,WAAW,EAAE;YAChC,IAAI,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE;gBACtB,IAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;gBACnC,IAAI,KAAK,YAAY,WAAW,EAAE;oBAC9B,KAAK,CAAC,cAAc,EAAE,CAAC;iBAC1B;aACJ;SACJ;QACD,IAAI,CAAC,IAAI,sBAAuB,IAAI,CAAC,CAAC;IAC1C,CAAC;IAEM,uCAAiB,GAAxB;QACI,KAAM,IAAM,EAAE,IAAI,IAAI,CAAC,WAAW,EAAE;YAChC,IAAI,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE;gBACtB,IAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;gBACnC,IAAI,KAAK,YAAY,WAAW,EAAE;oBAC9B,KAAK,CAAC,iBAAiB,EAAE,CAAC;iBAC7B;aACJ;SACJ;QACD,IAAI,CAAC,IAAI,0BAAyB,IAAI,CAAC,CAAC;IAC5C,CAAC;IACM,6CAAuB,GAA9B;QACI,KAAM,IAAM,EAAE,IAAI,IAAI,CAAC,WAAW,EAAE;YAChC,IAAI,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE;gBACtB,IAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;gBACnC,IAAI,KAAK,YAAY,WAAW,EAAE;oBAC9B,KAAK,CAAC,uBAAuB,EAAE,CAAC;iBACnC;aACJ;SACJ;QACD,IAAI,CAAC,IAAI,wBAAwB,IAAI,CAAC,CAAC;IAC3C,CAAC;IAEM,6BAAO,GAAd;QACI,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC;QAC1B,IAAI,CAAC,aAAa,GAAG,KAAK,CAAC;QAC3B,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;SACzB;QAED,KAAM,IAAM,EAAE,IAAI,IAAI,CAAC,WAAW,EAAE;YAChC,IAAI,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE;gBACtB,IAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;gBACnC,IAAI,KAAK,YAAY,WAAW,EAAE;oBAC9B,KAAK,CAAC,OAAO,EAAE,CAAC;iBACnB;aACJ;SACJ;QAED,IAAI,CAAC,UAAU,EAAE,CAAC;IACtB,CAAC;IAEO,+BAAS,GAAjB;QACI,IAAI,IAAI,CAAC,UAAU,EAAE;YACjB,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;SAC1B;QACD,IAAI,CAAC,GAAG,uBAAuB,CAAC;IACpC,CAAC;IA/Oa,uBAAW,GAAW,KAAK,CAAC;IAiPlD,kBAAC;CAAA,CAnPgC,EAAE,CAAC,GAAG,CAAC,kBAAkB,GAmPzD;AAnPuB;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHxB;IAA6B,2BAAgB;IAQrC,iBAAY,OAAgB;QAA5B,YACI,iBAAO,SAEV;QARM,QAAE,GAAW,IAAI,CAAC;QAGjB,eAAS,GAAgB,IAAW,CAAC;QAIzC,KAAI,CAAC,OAAO,GAAG,OAAO,CAAC;;IAC3B,CAAC;IAEM,uBAAK,GAAZ;QACI,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,CAAC;SAC1B;IACL,CAAC;IAEM,wBAAM,GAAb;QACI,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC;SAC3B;IACL,CAAC;IAEM,8BAAY,GAAnB,UAAoB,WAAwB;QACxC,IAAI,CAAC,SAAS,GAAG,WAAW,CAAC;QAC7B,IAAI,CAAC,SAAS,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;QACtC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC;QAC3B,IAAI,CAAC,SAAS,CAAC,oBAAoB,EAAE,CAAC;QACtC,IAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;QACzC,IAAI,CAAC,SAAS,CAAC,cAAc,EAAE,CAAC;QAChC,IAAI,CAAC,SAAS,CAAC,oBAAoB,EAAE,CAAC;IAC1C,CAAC;IAEM,iCAAe,GAAtB;QACI,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,CAAC,SAAS,CAAC,uBAAuB,EAAE,CAAC;YACzC,IAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YAC/C,IAAI,CAAC,SAAS,CAAC,iBAAiB,EAAE,CAAC;YACnC,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;YACtB,IAAI,CAAC,SAAS,CAAC,OAAO,GAAG,SAAS,CAAC;SACtC;IACL,CAAC;IACM,yBAAO,GAAd;QACI,IAAI,IAAI,CAAC,SAAS,EAAE;YAChB,IAAI,CAAC,eAAe,EAAE,CAAC;YACvB,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;SAC5B;QACD,IAAI,CAAC,SAAS,GAAG,IAAW,CAAC;IACjC,CAAC;IACL,cAAC;AAAD,CAAC,CAnDwB,EAAE,CAAC,GAAG,CAAC,SAAS,GAmDxC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtDqD;AACL;AAEnB;AAC+B;AAEtB;AAO3C,IAAK,YAOJ;AAPD,WAAK,YAAY;IACb,+CAAI;IACJ,qDAAO;IACP,iDAAK;IACL,qDAAO;IACP,mDAAM;IACN,+CAAI;AACR,CAAC,EAPI,YAAY,KAAZ,YAAY,QAOhB;AAED,oCAAoC;AACpC;IAA6B,2BAAY;IAmBrC,iBAAY,IAAe,EAAE,MAAc,EAAE,MAAa;QAA1D,YAEI,kBAAM,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,MAAM,CAAC,SAcrC;QA/BM,SAAG,GAAW,EAAE,CAAC;QAGxB;;WAEG;QACa,WAAK,GAAG,IAAI,GAAG,EAAiB,CAAC;QAIzC,YAAM,GAAiB,YAAY,CAAC,IAAI,CAAC;QAQ7C,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,KAAI,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC;QAC1B,KAAI,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;QAC5B,KAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,KAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,EAAE,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC;QAClC,gBAAgB;QAChB,KAAI,CAAC,GAAG,GAAG,IAAI,6CAAG,CAAC,KAAI,CAAC,CAAC;QACzB,KAAI,CAAC,eAAe,GAAG,IAAI,qEAAe,EAAE,CAAC;QAC7C,KAAI,CAAC,YAAY,GAAG,IAAI,gEAAY,CAAC,KAAI,CAAC,GAAG,EAAE,KAAI,CAAC,CAAC;QACrD,KAAI,CAAC,KAAK,GAAG,IAAI,EAAE,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC;QAChC,iDAAiD;QACjD,IAAI,0DAAe,EAAE,CAAC;;IAC1B,CAAC;IAED,sBAAW,gCAAW;aAAtB;YACG,OAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC;QAClC,CAAC;;;OAAA;IAED;;;OAGG;IACI,0BAAQ,GAAf,UAAgB,GAAW;QACvB,IAAG,GAAG,CAAC,OAAO,KAAK,SAAS,EAAC;YACzB,GAAG,CAAC,OAAO,GAAG,EAAE,CAAC;SACpB;QACD,IAAG,GAAG,CAAC,MAAM,IAAI,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,EAAC;YACjC,GAAG,CAAC,OAAO,IAAK,YAAW,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,mBAAe,GAAG,CAAC,MAAM,CAAC,OAAO,CAAG,CAAC;SACnF;QACD,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;IAChC,CAAC;IAEM,uBAAK,GAAZ;QAEI,IAAI,IAAI,CAAC,GAAG,EAAE;YACV,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;SACrD;QAED,WAAW;QACX,UAAU;QACV,IAAI,CAAC,MAAM,GAAG,YAAY,CAAC,OAAO,CAAC;QACnC,IAAI,CAAC,GAAG,CAAC,EAAE,oCAA0B,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,CAAC;QACpE,IAAI,CAAC,GAAG,CAAC,EAAE,oCAA0B,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;QAC9D,OAAO;QACP,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACjC,CAAC;IACM,uBAAK,GAAZ;QACI,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,MAAM,GAAG,YAAY,CAAC,MAAM,CAAC;YAClC,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;YACtB,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;SAC7B;IACL,CAAC;IACM,wBAAM,GAAb;QACI,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC;YACvB,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC;YAC3B,IAAI,CAAC,MAAM,GAAG,YAAY,CAAC,OAAO,CAAC;SACtC;IAEL,CAAC;IACM,uBAAK,GAAZ;QACI,IAAI,IAAI,CAAC,MAAM,KAAK,YAAY,CAAC,IAAI;YACjC,IAAI,CAAC,MAAM,KAAK,YAAY,CAAC,OAAO,EAAE;YACtC,OAAO;SACV;QACD,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;YACxB,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC;SAC7B;QACD,IAAI,CAAC,eAAe,CAAC,KAAK,EAAE,CAAC;QAC7B,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;QAC1B,IAAI,CAAC,WAAW,EAAE,CAAC;IACvB,CAAC;IACM,yBAAO,GAAd;QAEI,IAAI,CAAC,UAAU,EAAE,CAAC;QAElB,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;SAC3B;QACD,IAAI,IAAI,CAAC,KAAK,EAAE;YACZ,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE,CAAC;SACxB;QAED,yBAAyB;QAEzB,IAAI,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE;YAC7B,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;YACrD,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;YACvB,6BAA6B;SAChC;QACD,IAAI,IAAI,CAAC,GAAG,EAAE;YACV,IAAI,CAAC,GAAG,CAAC,GAAG,oCAA0B,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,CAAC;YACrE,IAAI,CAAC,GAAG,CAAC,GAAG,oCAA0B,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;YAC/D,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,CAAC;YACnB,IAAI,CAAC,GAAG,GAAG,IAAW,CAAC;SAC1B;QACD,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,UAAC,KAAK;YACrB,KAAK,CAAC,OAAO,EAAE,CAAC;QACpB,CAAC,CAAC,CAAC;IACP,CAAC;IAED,cAAc;IACP,6BAAW,GAAlB;QACI,OAAO,IAAI,CAAC,QAAQ,CAAC;IACzB,CAAC;IAEM,mCAAiB,GAAxB,UAAyB,UAA4B;QACjD,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAM,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC;YACpC,IAAM,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;YAC7D,IAAI,SAAS,EAAE;gBACX,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;aAC7C;SACJ;IACL,CAAC;IAEM,mCAAiB,GAAxB,UAAyB,UAA4B;QACjD,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAM,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC;YACpC,IAAM,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,eAAe,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;YAC7D,IAAI,SAAS,EAAE;gBACX,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;aAC7C;SACJ;IACL,CAAC;IAEM,iCAAe,GAAtB,UAAuB,OAAe,EAAE,UAA4B;QAChE,IAAM,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;QAClD,IAAI,KAAK,EAAE;YACP,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC;SACzC;IACL,CAAC;IAEO,+BAAa,GAArB,UAAsB,KAAc,EAAE,UAA4B;QAC9D,IAAI,KAAK,IAAI,IAAI,CAAC,GAAG,EAAE;YACnB,IAAI,cAAc,GAAG,UAAU,CAAC;YAChC,IAAI,WAAW,SAA8B,CAAC;YAC9C,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACf,IAAI,IAAI,CAAC,QAAQ,CAAC,UAAU,IAAI,cAAc,EAAE;oBAC5C,IAAI,cAAc,IAAI,IAAI,EAAE;wBACxB,cAAc,GAAG,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC;qBAC7C;oBACD,WAAW,GAAG,mEAAa,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;iBACtG;gBACD,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;gBAChC,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;aAC3B;YACD,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;YACjC,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;YACnC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YACrB,IAAI,cAAc,IAAI,WAAW,EAAE;gBAC/B,qEAAe,CAAC,IAAI,EAAE,WAAW,EAAE,cAAc,CAAC,CAAC;aACtD;iBAAM;gBACH,IAAI,CAAC,IAAI,yCAA4B,CAAC;gBACtC,IAAI,CAAC,IAAI,qCAA0B,CAAC;aACvC;SACJ;IACL,CAAC;IAEO,oCAAkB,GAA1B,UAA2B,CAAM;QAC7B,IAAI,CAAC,WAAW,CAAC,IAAI,wBAAmB;YACpC,IAAI,mCAAyB,EAAE,KAAK,uBAAmB,EAAE,IAAI,EAAE,IAAI;SACtE,CAAC,CAAC;QACH,OAAO;QACP,IAAI,CAAC,MAAM,GAAG,YAAY,CAAC,KAAK,CAAC;QACjC,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,CAAC,WAAW,CAAC,IAAI,wBAAmB;YACpC,IAAI,kCAA0B,EAAE,KAAK,uBAAmB,EAAE,IAAI,EAAE,IAAI;SACvE,CAAC,CAAC;IACP,CAAC;IAEO,8BAAY,GAApB,UAAqB,CAAM;QACvB,IAAI,CAAC,WAAW,CAAC,IAAI,wBAAmB;YACpC,IAAI,mCAAyB,EAAE,KAAK,uBAAmB,EAAE,IAAI,EAAE,CAAC;SACnE,CAAC,CAAC;IACP,CAAC;IAEO,6BAAW,GAAnB;QACI,IAAM,SAAS,GAAI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC;QACrC,KAAoB,UAAS,EAAT,uBAAS,EAAT,uBAAS,EAAT,IAAS,EAAE;YAA1B,IAAM,KAAK;YACZ,IAAM,UAAU,GAAG,CAAE,6CAAa,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC;YAC9C,IAAI,UAAU,EAAE;gBACZ,IAAM,IAAI,GAAU,IAAI,UAAU,CAAC,KAAK,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;gBACnD,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aACpB;SAEJ;IACL,CAAC;IAEO,6BAAW,GAAnB;QACI,OAAO;QACP,IAAM,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;QAC9C,IAAI,KAAK,EAAE;YACP,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;SACxB;QACD,IAAI,CAAC,MAAM,GAAG,YAAY,CAAC,OAAO,CAAC;IACvC,CAAC;IAEO,mCAAiB,GAAzB,UAA0B,SAAiB;QACvC,IAAI,IAAI,CAAC,GAAG,EAAE;YACV,EAAE,CAAC,GAAG,CAAC,YAAY,CAAC,MAAM,CAAC,SAAS,EAChC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,QAAQ,EACxB,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;SAClC;IAEL,CAAC;IACL,cAAC;AAAD,CAAC,CA1O4B,EAAE,CAAC,GAAG,CAAC,KAAK,GA0OxC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjQ4B;AAI7B;;;GAGG;AACH;IAAmC,iCAAI;IAInC,uBAAY,SAAiB,EAAE,MAAe;eAC1C,kBAAM,SAAS,EAAE,MAAM,CAAC;IAC5B,CAAC;IAEM,8BAAM,GAAb,UAAc,IAAS;QACX,wBAAM,CAAU;QACxB,IAAI,CAAC,UAAU,GAAG,IAAI,EAAE,CAAC,GAAG,CAAC,UAAU,CAAC,MAAa,CAAC,CAAC;QACvD,IAAM,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;QACnC,UAAU,CAAC,IAAI,GAAI,IAAI,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC;8BACI,CAAC;6BACF,CAAC;QACxC,UAAU,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC;QAChC,UAAU,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;QAClC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;QAE5B,UAAU,CAAC,EAAE,CAAC,EAAE,CAAC,GAAG,CAAC,WAAW,CAAC,cAAc,CAAC,QAAQ,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;QAEjF,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,EAAE,0BAAoB,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;QACtE,OAAQ,IAAI,CAAC;IACjB,CAAC;IAEM,iCAAS,GAAhB;;QACI,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,GAAG,0BAAoB,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC;QAC5E,UAAI,CAAC,UAAU,0CAAE,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,WAAW,CAAC,cAAc,CAAC,QAAQ,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,EAAE;QACxF,UAAI,CAAC,UAAU,0CAAE,MAAM,GAAG;QAC1B,UAAI,CAAC,UAAU,0CAAE,OAAO,GAAG;IAC/B,CAAC;IAEO,kCAAU,GAAlB,UAAmB,OAA0B,EAAE,IAAY;QACvD,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,0BAC/B;YACI,IAAI,EAAE,YAAY;YAClB,IAAI,EAAE,YAAY;YAClB,KAAK,yBAAqB;YAC1B,IAAI,EAAE,EAAC,IAAI,EAAE,WAAW,EAAE,GAAG,EAAE,IAAI,EAAC;SACvC,CAAC,CAAC;IACX,CAAC;IAEO,iCAAS,GAAjB,UAAkB,GAAiE;QAC/E,IAAI,GAAG,CAAC,IAAI,IAAI,GAAG,CAAC,IAAI,KAAK,YAAY,IAAK,IAAI,CAAC,UAAU,EAAE;YAC3D,IAAM,UAAU,GAAG,IAAI,CAAC,UAAU,CAAC;YACnC,IAAI,GAAG,CAAC,IAAI,CAAC,IAAI,KAAK,WAAW,EAAE;gBAC/B,UAAU,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aACpC;iBAAM,IAAI,GAAG,CAAC,IAAI,CAAC,IAAI,KAAK,cAAc,EAAE,EAAE,KAAK;gBAChD,UAAU,CAAC,KAAK,EAAE,CAAC;aACtB;iBAAM,IAAI,GAAG,CAAC,IAAI,CAAC,IAAI,KAAK,YAAY,EAAE,EAAE,MAAM;gBAC/C,UAAU,CAAC,SAAS,GAAG,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC;aACvC;iBAAM,IAAI,GAAG,CAAC,IAAI,CAAC,IAAI,KAAK,gBAAgB,EAAE,EAAE,OAAO;gBACpD,UAAU,CAAC,SAAS,GAAG,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC;aACvC;SAEJ;IACL,CAAC;IAGL,oBAAC;AAAD,CAAC,CA3DkC,0CAAI,GA2DtC;;;;;;;;;;;;;;AChED;AAAA;AAAA;;;GAGG;AACH;IAMI,cAAY,SAAiB,EAAE,MAAe;QAC1C,IAAI,CAAC,EAAE,GAAG,SAAS,CAAC;QACpB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,MAAM,oBAAmB,CAAC;IACnC,CAAC;IAEM,mBAAI,GAAX,UAAY,IAAS;QACjB,IAAI,IAAI,CAAC,MAAM,sBAAqB,EAAE;YAClC,OAAO;SACV;QACD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAClB,IAAI,CAAC,MAAM,sBAAoB,CAAC;QAChC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;QACrC,OAAO,IAAI,CAAC;IAChB,CAAC;IAEM,sBAAO,GAAd;QACI,IAAI,IAAI,CAAC,MAAM,sBAAqB,EAAE;YAClC,OAAO;SACV;QACD,IAAI,CAAC,SAAS,EAAE,CAAC;QACjB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QAClC,IAAI,CAAC,MAAM,GAAG,IAAW,CAAC;QAC1B,IAAI,CAAC,MAAM,oBAAmB,CAAC;IACnC,CAAC;IAED;;OAEG;IACO,qBAAM,GAAhB,UAAiB,IAAS;QACtB,EAAE;IACN,CAAC;IAED;;OAEG;IACO,wBAAS,GAAnB;QACI,EAAE;IACN,CAAC;IAEL,WAAC;AAAD,CAAC;;;;;;;;;;;;;;ACtDD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiD;AACM;AAGvD;IACI;QACI,EAAE;IACN,CAAC;IACL,gBAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACN6B;AAE9B;;;GAGG;AACH;IAAsC,oCAAI;IAItC,0BAAY,SAAiB,EAAE,MAAe;QAA9C,YACI,kBAAM,SAAS,EAAE,MAAM,CAAC,SAoB3B;QAnBG,MAAM,CAAC,2BAA2B,GAAG,IAAI,CAAC;QAC1C,IAAI,OAAO,GAAG,QAAQ,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC;QAEpD,sCAAsC;QACtC,IAAI,OAAO,IAAI,IAAI,EAAE;YACjB,IAAM,eAAe,GAAG,QAAQ,CAAC,sBAAsB,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,CAAC;YAE/E,IAAI,eAAe,IAAI,eAAe,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE;gBAChD,OAAO,GAAG,eAAe,CAAC,QAAQ,CAAC,CAAC,CAAgB,CAAC;aACxD;SACJ;QACD,sCAAsC;QACtC,IAAI,OAAO,IAAI,IAAI,EAAE;YACjB,iBAAiB;YACjB,KAAI,CAAC,MAAM,CAAC,WAAW,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC,6BAA6B,CAAC,0BAAqB,CAAC;;SAGnG;QACD,KAAI,CAAC,GAAG,GAAG,OAAO,CAAC;;IACvB,CAAC;IAES,iCAAM,GAAhB,UAAiB,IAAS;;QACtB,IAAI,IAAI,CAAC,GAAG,KAAK,SAAS,EAAE;YACxB,OAAO;SACV;QAED,IAAM,OAAO,GAAG,IAAI,CAAC,GAAkB,CAAC;QAEhC,wBAAM,CAAU;QAExB,4CAA4C;QAC5C,IAAM,gBAAgB,GAAG,MAAM,CAAC,gBAAgB,IAAK,MAAc,CAAC,sBAAsB,IAAK,MAAc,CAAC,mBAAmB,CAAC;QAClI,oCAAoC;QACpC,IAAM,WAAW,GAAG,CAAC,YAAM,CAAC,GAAG,0CAAE,QAAwB,EAAC,OAAO,CAAC,WAAW,CAAC;QAE9E,IAAI,CAAC,QAAQ,GAAG,IAAI,gBAAgB,CAAC,UAAC,SAAS;YAC3C,SAAS,CAAC,OAAO,CAAC,UAAC,QAAQ;gBACvB,IAAI,QAAQ,CAAC,IAAI,KAAK,YAAY,EAAE;oBAChC,IAAM,IAAI,GAAG,QAAQ,CAAC,MAAa,CAAC;oBACpC,IAAM,iBAAiB,GAAG,WAAW,CAAC,iBAAiB,CAAC;oBAExD,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,KAAK,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;wBAC3C,IAAI,iBAAiB,KAAK,SAAS,EAAE;4BACjC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,SAAS,CAAC;4BAC9B,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;4BAExC,OAAO;yBACV;wBACD,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC;qBAC3C;iBACJ;YACL,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,OAAO,EAAE;YAC3B,UAAU,EAAE,IAAI;YAChB,eAAe,EAAE,CAAC,OAAO,CAAC;SAC7B,CAAC,CAAC;QAEH,IAAM,aAAa,GAAG,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC;QAE3C,WAAW,CAAC,gBAAgB,CAAC,OAAO,QAAE,MAAM,CAAC,GAAG,0CAAE,QAAQ,CAAC,UAAU,CAAC,CAAC;QACvE,IAAM,YAAY,GAAQ,WAAW,CAAC,YAAY,CAAC;QAEnD,YAAY,CAAC,OAAO,GAAG,aAAa,CAAC;QAErC,OAAO,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QAE/B,UAAU,CAAC;YACP,WAAW;YACX,IAAI,OAAO,EAAE;gBAAE,OAAO,CAAC,KAAK,CAAC,OAAO,GAAG,EAAE,CAAC;aAAE;QAChD,CAAC,EAAE,EAAE,CAAC,CAAC;QAEP,OAAO;IACX,CAAC;IAES,oCAAS,GAAnB;;QACI,UAAI,CAAC,QAAQ,0CAAE,UAAU,GAAG;QAC5B,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC;IACpB,CAAC;IACL,uBAAC;AAAD,CAAC,CArFqC,0CAAI,GAqFzC;;;;;;;;;;;;;;AC3FD;AAAA;;;;;;GAMG;AACH;IAII,sBAAY,MAAa;QACrB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;QACtB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QACpB,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC/C,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,GAAG,iBAAiB,CAAC;QACpD,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;QAC3C,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;QACpC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;QACrC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,GAAG,MAAM,CAAC;QACrC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;QACtC,IAAI,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QAC3C,KAAK,CAAC,KAAK,CAAC,OAAO,GAAG,YAAY,CAAC;QACnC,KAAK,CAAC,KAAK,CAAC,aAAa,GAAG,QAAQ,CAAC;QACrC,KAAK,CAAC,KAAK,CAAC,SAAS,GAAG,QAAQ,CAAC;QACjC,KAAK,CAAC,KAAK,CAAC,KAAK,GAAG,MAAM,CAAC;QAC3B,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QAClC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACnD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,sBAAkB,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IACxE,CAAC;IAEM,iCAAU,GAAjB,UAAkB,IAAY,EAAE,IAAe;QAC3C,qCAAqC;QACrC,IAAG,IAAI,EAAE;YACL,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;YACtB,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,GAAG,OAAO,CAAC;YACvC,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YACvC,IAAG,KAAK,CAAC,aAAa,EAAE,EAAC;gBACrB,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;aAC1C;YACD,IAAI,KAAK,GAAG,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC;YAC9D,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;SAC5B;IACL,CAAC;IAEM,8BAAO,GAAd,UAAe,IAAY,EAAE,IAAe;QAExC,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,EAAC,IAAI,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC;IACxD,CAAC;IAEM,4BAAK,GAAZ;QACI,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;QACpB,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;IAC1C,CAAC;IAGO,+BAAQ,GAAhB,UAAiB,GAAQ;QACrB,IAAG,IAAI,CAAC,SAAS,IAAI,GAAG,CAAC,IAAI,KAAK,uBAAuB,EAAE;YACvD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;SACnC;IACL,CAAC;IACL,mBAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/D0C;AAO3C;IAAwC,8BAAY;IAIhD;QAAA,YACI,iBAAO,SAEV;QADG,KAAI,CAAC,UAAU,GAAG,EAAE,CAAC;;IACzB,CAAC;IAEM,yBAAI,GAAX,UAAY,IAAY,EAAE,KAAa;QACnC,IAAI,IAAI,KAAK,SAAS,EAAE;YACpB,MAAM,IAAI,KAAK,CAAC,mBAAiB,IAAI,kBAAe,CAAC,CAAC;SACzD;QACD,IAAI,KAAK,CAAC,IAAI,KAAK,SAAS,EAAE;YAC1B,MAAM,IAAI,KAAK,CAAC,mBAAiB,IAAI,4BAAyB,CAAC,CAAC;SACnE;QACD,IAAI,KAAK,CAAC,KAAK,KAAK,SAAS,EAAE;YAC3B,MAAM,IAAI,KAAK,CAAC,mBAAiB,IAAI,6BAA0B,CAAC,CAAC;SACpE;QACD,IAAM,MAAM,GAAG,iBAAM,IAAI,YAAC,IAAI,EAAE,KAAK,CAAC,CAAC;QACvC,OAAO,MAAM,CAAC;IAClB,CAAC;IAED;;;;;OAKG;IACI,4BAAO,GAAd,UAAe,KAAa,EAAG,KAAU,EAAE,OAAa;QACpD,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,yBAAoB,EAAE,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE,OAAO,EAAE,CAAE,CAAC;IAChG,CAAC;IAED;;;;OAIG;IACI,8BAAS,GAAhB,UAAiB,SAAiB,EAAE,IAAY,EAAE,KAAwB,EAAG,MAAY;QAAvC,mDAAwB;QACtE,IAAI,CAAC,KAAK,CAAC,EAAC,IAAI,EAAE,SAAS,EAAE,KAAK,SAAE,IAAI,QAAE,OAAO,EAAE,SAAS,EAAE,MAAM,WAAE,CAAC,CAAC;IAC5E,CAAC;IAEM,0BAAK,GAAZ,UAAa,GAAU;QACnB,IAAI,CAAC,IAAI,wBAAmB,GAAG,CAAC,CAAC;IACrC,CAAC;IACL,iBAAC;AAAD,CAAC,CA7CuC,0DAAY,GA6CnD;;;;;;;;;;;;;;ACpDD;AAAA;AAAA;AAAA;AAAyB;;;;;;;;;;;;;ACOzB;AAAA;AAAA;IAKI,sBAAY,GAAQ,EAAE,OAAgB;QAF9B,eAAU,GAAa,EAAE,CAAC;QAG9B,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;QACf,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC;QACrB,4GAA4G;IAChH,CAAC;IAEO,+BAAQ,GAAhB,UAAiB,OAA2B;QACxC,IAAM,EAAE,GAAG,EAAE,CAAC,WAAW,CAAC,GAAG,EAAE,CAAC;QAEhC,IAAI,OAAO,KAAK,SAAS,EAAE;YACvB,OAAO,SAAS,CAAC;SACpB;QAED,OAAO,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,OAAO,CAAC,CAAC;IACnE,CAAC;IAEM,4BAAK,GAAZ;QACI,IAAI,CAAC,KAAK,EAAE,CAAC;QACb,IAAM,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC;QACjC,IAAI,KAA4B,CAAC;QAEjC,OAAO,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;YACxB,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,CAAC;YAExC,IAAI,KAAK,EAAE;gBACP,KAAK,CAAC,OAAO,EAAE,CAAC;aACnB;SACJ;IACL,CAAC;IAEM,4BAAK,GAAZ;QAAA,iBAUC;QATG,IAAI,KAA4B,CAAC;QAEjC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,UAAC,OAAO;YAC5B,KAAK,GAAG,KAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;YAE/B,IAAI,KAAK,EAAE;gBACP,KAAK,CAAC,KAAK,EAAE,CAAC;aACjB;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAEM,6BAAM,GAAb;QAAA,iBAUC;QATG,IAAI,KAA4B,CAAC;QAEjC,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,UAAC,OAAO;YAC5B,KAAK,GAAG,KAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;YAE/B,IAAI,KAAK,EAAE;gBACP,KAAK,CAAC,IAAI,EAAE,CAAC;aAChB;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAEM,iCAAU,GAAjB,UAAkB,IAA8B;QAA9B,8BAAqB,EAAS;QAC5C,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAiB,EAAE,YAAY,EAAE,IAAI,CAAC,EAAE;YAC7D,OAAO;SACV;QAED,IAAI,IAAI,CAAC,UAAU,EAAE,EAAE;YACnB,OAAO;SACV;QAED,IAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAE1C,IAAI,KAAK,EAAE;YACP,KAAK,CAAC,KAAK,EAAE,CAAC;SACjB;IACL,CAAC;IAEM,kCAAW,GAAlB,UAAmB,IAAkB;QACjC,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAiB,EAAE,aAAa,EAAE,IAAI,CAAC,EAAE;YAC9D,OAAO;SACV;QAED,IAAI,IAAI,CAAC,UAAU,EAAE,EAAE;YACnB,OAAO;SACV;QAED,IAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAE1C,IAAI,KAAK,IAAI,KAAK,CAAC,MAAM,EAAE;YACvB,KAAK,CAAC,IAAI,EAAE,CAAC;SAChB;IACL,CAAC;IAED,4CAA4C;IACrC,gCAAS,GAAhB,UAAiB,IAAkB;QAC/B,IAAM,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,CAAC;QAE5D,IAAI,KAAK,KAAK,SAAS,IAAI,KAAK,CAAC,GAAG,KAAK,SAAS,IAAI,KAAK,CAAC,GAAG,KAAK,EAAE,EAAE;YACpE,OAAO,CAAC,IAAI,CAAC,kCAAkC,EAAE,IAAI,CAAC,CAAC;YAEvD,OAAO;SACV;QAED,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,OAAiB,EAAE,WAAW,EAAE,IAAI,CAAC,EAAE;YAC5D,OAAO;SACV;QAED,IAAI,IAAI,CAAC,UAAU,EAAE,EAAE;YACnB,OAAO;SACV;QAED,IAAI,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAExC,IAAI,KAAK,EAAE;YACP,KAAK,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;SACpB;aACI;YACD,mCAAmC;YACnC,KAAK,GAAG,EAAE,CAAC,WAAW,CAAC,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC,GAAG,EAAE,EAAE,QAAQ,EAAE,KAAK,EAAS,CAAC,CAAC;YAClI,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;YAChD,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SACtC;IACL,CAAC;IAEM,+BAAQ,GAAf;QACI,IAAM,EAAE,GAAG,MAAM,CAAC,SAAS,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;QAEpD,OAAO,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IACvC,CAAC;IAEO,iCAAU,GAAlB;QACI,OAAO,KAAK,CAAC;QACb,0CAA0C;QAC1C,IAAI,IAAI,CAAC,QAAQ,EAAE,EAAE;YACjB,mFAAmF;YACnF,yCAAyC;YACzC,6DAA6D;YAC7D,sEAAsE;YACtE,6FAA6F;YAC7F,IAAI;SACP;IACL,CAAC;IAEO,iCAAU,GAAlB,UAAmB,OAAwB,EAAE,OAAe,EAAE,IAA8B;QAA9B,8BAAqB,EAAS;QACxF,IAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,cAAc,CAAC;QAE1D,IAAI,SAAS,EAAE,EAAE,4BAA4B;YACzC,IAAM,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;YAEzC,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,0BAAoB;gBAC3C,IAAI,uBAAmB;gBACvB,IAAI,uBAAmB;gBACvB,KAAK,yBAAoB;gBACzB,IAAI,EAAE;oBACF,IAAI,EAAE,OAAO;oBACb,EAAE,EAAE,IAAI,CAAC,OAAO,IAAI,CAAC;oBACrB,GAAG,EAAE,KAAK,CAAC,GAAG;oBACd,IAAI,EAAE,IAAI,CAAC,IAAI,IAAI,OAAO;iBAC7B;aACJ,CAAC,CAAC;YAEH,OAAO,IAAI,CAAC;SACf;QAED,OAAO,KAAK,CAAC;IACjB,CAAC;IACL,mBAAC;AAAD,CAAC;;;;;;;;;;;;;;ACxKD;AAAA;AAAA;;;;;;;;;;;;GAYG;AACH,4CAA4C;AAC7B,SAAS,yBAAyB,CAAC,MAAyB,EAAE,KAAc,EAAE,SAAoB,EAAE,gBAAqB,EAAE,iBAAqB,EAAE,OAAc;IAA5D,wDAAqB;IAAE,yDAAqB;IAAE,wCAAc;IAC3K,IAAM,GAAG,GAAG,CAAC,CAAC;IAEd,IAAI,WAAW,GAAG,MAAM,CAAC,UAAU,CAAC;IACpC,IAAI,YAAY,GAAG,MAAM,CAAC,WAAW,CAAC;IAEtC,IAAI,MAAM,CAAC,UAAU,IAAI,IAAI,EAAE;QAC3B,WAAW,GAAI,MAAM,CAAC,UAA0B,CAAC,WAAW,CAAC;QAC7D,YAAY,GAAI,MAAM,CAAC,UAA0B,CAAC,YAAY,CAAC;KAClE;IAED,IAAI,gBAAgB,KAAK,EAAE,EAAE;QACzB,IAAI,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,IAAI,IAAI,EAAE;YACnD,MAAM,IAAI,KAAK,CAAC,oCAAkC,gBAAgB,MAAG,CAAC,CAAC;SAC1E;QACD,WAAW,GAAI,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAiB,CAAC,WAAW,CAAC;QACrF,YAAY,GAAI,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAiB,CAAC,YAAY,CAAC;KAC1F;IAED,IAAM,mBAAmB,GAAG,WAAW,CAAC;IACxC,IAAM,oBAAoB,GAAG,YAAY,CAAC;IAE1C,IAAM,WAAW,GAAG,mBAAmB,CAAC;IACxC,IAAM,YAAY,GAAG,oBAAoB,CAAC;IAE1C,IAAM,SAAS,GAAG,kBAAkB,CAAC,SAAS,EAAE,WAAW,EAAE,YAAY,EAAE,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;IAExG,IAAM,UAAU,GAAG,SAAS,CAAC,UAAU,CAAC;IACxC,IAAM,WAAW,GAAG,SAAS,CAAC,WAAW,CAAC;IAC1C,IAAM,YAAY,GAAG,SAAS,CAAC,YAAY,CAAC;IAC5C,IAAM,aAAa,GAAG,SAAS,CAAC,aAAa,CAAC;IAE9C,MAAM,CAAC,KAAK,CAAC,eAAe,GAAG,WAAW,CAAC;IAE3C,IAAI,MAAM,CAAC,KAAK,KAAK,UAAU,EAAE;QAC7B,MAAM,CAAC,KAAK,GAAG,UAAU,CAAC;KAC7B;IACD,IAAI,MAAM,CAAC,MAAM,KAAK,WAAW,EAAE;QAC/B,MAAM,CAAC,MAAM,GAAG,WAAW,CAAC;KAC/B;IAED,IAAM,QAAQ,GAAG,CAAC,CAAC;IACnB,MAAM,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,oBAAoB,GAAG,aAAa,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC;IAC3E,MAAM,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,mBAAmB,GAAG,YAAY,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC;IAEpE,IAAM,MAAM,GAAG,YAAY,GAAG,UAAU,CAAC;IACzC,IAAM,MAAM,GAAG,aAAa,GAAG,WAAW,CAAC;IAE3C,IAAI,YAAY,GAAG,MAAM,GAAG,iBAAiB,CAAC;IAC9C,IAAI,YAAY,GAAG,MAAM,GAAG,iBAAiB,CAAC;IAE9C,IAAI,CAAC,OAAO,EAAE;QACV,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QACvC,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;KAC1C;IAED,IAAM,CAAC,GAAG,IAAI,EAAE,CAAC,MAAM,EAAE,CAAC;IAC1B,CAAC,CAAC,QAAQ,EAAE,CAAC;IACb,CAAC,CAAC,KAAK,CAAC,MAAM,GAAG,YAAY,EAAE,MAAM,GAAG,YAAY,CAAC,CAAC;IACtD,CAAC,CAAC,MAAM,CAAC,QAAQ,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,CAAC,CAAC;IAEnC,MAAM,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;IACnC,MAAM,CAAC,KAAK,CAAC,SAAS,GAAG,YAAU,CAAC,CAAC,CAAC,SAAI,CAAC,CAAC,CAAC,SAAI,CAAC,CAAC,CAAC,SAAI,CAAC,CAAC,CAAC,SAAI,CAAC,CAAC,EAAE,SAAI,CAAC,CAAC,EAAE,MAAG,CAAC;IAC/E,MAAM,CAAC,KAAK,GAAG,UAAU,GAAG,YAAY,CAAC;IACzC,MAAM,CAAC,MAAM,GAAG,WAAW,GAAG,YAAY,CAAC;IAE3C,KAAK,CAAC,MAAM,GAAG,YAAY,CAAC;IAC5B,KAAK,CAAC,MAAM,GAAG,YAAY,CAAC;IAE5B,OAAO,EAAE,KAAK,EAAE,MAAM,CAAC,KAAK,EAAE,MAAM,EAAE,MAAM,CAAC,MAAM,EAAE,MAAM,EAAE,YAAY,EAAE,MAAM,EAAE,YAAY,EAAE,CAAC;AACtG,CAAC;AAED;;;;;;;;GAQG;AACH,SAAS,kBAAkB,CACvB,SAAoB,EACpB,WAAmB,EACnB,YAAoB,EACpB,YAAoB,EACpB,aAAqB;IAErB,IAAI,YAAY,GAAG,WAAW,CAAC;IAC/B,IAAI,aAAa,GAAG,YAAY,CAAC;IACjC,IAAI,UAAU,GAAG,YAAY,CAAC;IAC9B,IAAI,WAAW,GAAG,aAAa,CAAC;IAChC,IAAM,MAAM,GAAG,CAAC,WAAW,GAAG,UAAU,CAAC,IAAI,CAAC,CAAC;IAC/C,IAAM,MAAM,GAAG,CAAC,YAAY,GAAG,WAAW,CAAC,IAAI,CAAC,CAAC;IAEjD,QAAQ,SAAS,EAAE;QACf,KAAK,SAAS;YACV,IAAI,MAAM,GAAG,MAAM,EAAE;gBACjB,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,MAAM,CAAC,CAAC;aAClD;iBAAM;gBACH,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,GAAG,MAAM,CAAC,CAAC;aACpD;YACD,MAAM;QACV,KAAK,OAAO;YACR,IAAI,MAAM,GAAG,MAAM,EAAE;gBACjB,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,GAAG,MAAM,CAAC,CAAC;aACpD;iBAAM;gBACH,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,UAAU,GAAG,MAAM,CAAC,CAAC;aAClD;YACD,MAAM;QACV,KAAK,SAAS;YACV,IAAI,MAAM,GAAG,MAAM,EAAE;gBACjB,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,WAAW,GAAG,MAAM,CAAC,CAAC;aACjD;iBAAM;gBACH,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,YAAY,GAAG,MAAM,CAAC,CAAC;aACnD;YACD,MAAM;QACV;YACI,UAAU,GAAG,WAAW,CAAC;YACzB,WAAW,GAAG,YAAY,CAAC;YAC3B,MAAM;KACb;IACD,uBAAuB;IACvB,IAAI,UAAU,GAAG,CAAC,KAAK,CAAC,EAAE;QACtB,UAAU,IAAI,CAAC,CAAC;KACnB;IACD,IAAI,WAAW,GAAG,CAAC,KAAK,CAAC,EAAE;QACvB,WAAW,IAAI,CAAC,CAAC;KACpB;IACD,IAAI,YAAY,GAAG,CAAC,KAAK,CAAC,EAAE;QACxB,YAAY,IAAI,CAAC,CAAC;KACrB;IACD,IAAI,aAAa,GAAG,CAAC,KAAK,CAAC,EAAE;QACzB,aAAa,IAAI,CAAC,CAAC;KACtB;IACD,OAAO;QACH,UAAU;QACV,WAAW;QACX,YAAY;QACZ,aAAa;KAChB,CAAC;AACN,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrJiC;AAGlC;;;;;;;;;;;;GAYG;AACY,SAAe,YAAY,CAAC,GAAW,EAAE,IAAU,EAAE,UAAmB,EAAE,oBAA+B;;;;YAE9G,GAAG,GAAG,EAAE,CAAC,GAAU,CAAC;YAE1B,IAAI,UAAU,IAAI,GAAG,CAAC,UAAU,CAAC,EAAE;gBAC/B,sBAAO,GAAG,CAAC,UAAU,CAAC,EAAC;aAC1B;YAEK,SAAS,GAAU,EAAE,CAAC;YAE5B,sBAAO,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM;oBAC/B,IAAI,cAAc,GAAG,CAAC,CAAC;oBAEvB,IAAM,UAAU,GAAG,UAAU,KAAa;wBACtC,IAAM,CAAC,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;wBAE3C,CAAC,CAAC,KAAK,GAAG,KAAK,CAAC;wBAChB,CAAC,CAAC,GAAG,GAAG,KAAK,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,sDAAM,CAAC,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,KAAK,GAAG,CAAC,CAAC,CAAC;wBAC7D,CAAC,CAAC,gBAAgB,CAAC,MAAM,EAAE,YAAY,EAAE,KAAK,CAAC,CAAC;wBAChD,CAAC,CAAC,gBAAgB,CAAC,OAAO,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC;wBAC9C,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;oBACjC,CAAC,CAAC;oBAEF,IAAM,YAAY,GAAG,UAAmC,CAAQ;wBAC5D,WAAW,CAAC,IAAI,CAAC,CAAC;wBAClB,IAAI,oBAAoB,EAAE;4BACtB,oBAAoB,EAAE,CAAC;yBAC1B;wBACD,IAAI,UAAU,EAAE;4BACZ,IAAI,GAAG,CAAC,MAAM,CAAC,cAAc,CAAC,UAAU,CAAC,EAAE;gCACvC,GAAG,CAAC,UAAU,CAAC,GAAG,GAAG,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;gCACzC,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC;gCAElB,OAAO,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC;6BACnC;4BAED,OAAO,OAAO,CAAC,KAAK,CAAC,CAAC;yBACzB;wBACD,OAAO,CAAC,IAAI,CAAC,CAAC;oBAClB,CAAC,CAAC;oBACF,IAAM,SAAS,GAAG,UAAmC,CAAQ;wBACzD,WAAW,CAAC,IAAI,CAAC,CAAC;wBAClB,IAAI,cAAc,GAAG,CAAC,EAAE;4BACpB,MAAM,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,qBAAkB,EAAE,IAAI,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;yBAClF;6BACI;4BACD,IAAI,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE;gCACpC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;6BAC5B;4BACD,UAAU,CAAC,CAAC,CAAC,CAAC;4BACd,cAAc,EAAE,CAAC;yBACpB;oBACL,CAAC,CAAC;oBACF,IAAM,WAAW,GAAG,UAAU,OAAY;wBACtC,OAAO,CAAC,UAAU,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;wBACxC,OAAO,CAAC,mBAAmB,CAAC,MAAM,EAAE,YAAY,EAAE,KAAK,CAAC,CAAC;wBACzD,OAAO,CAAC,mBAAmB,CAAC,OAAO,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC;oBAC3D,CAAC,CAAC;oBAEF,UAAU,CAAC,CAAC,CAAC,CAAC;gBAClB,CAAC,CAAC,EAAC;;;CACN;;;;;;;;;;;;;ACrFD;AAAA;AAAe,SAAS,KAAK;IAAC,cAAc;SAAd,UAAc,EAAd,qBAAc,EAAd,IAAc;QAAd,yBAAc;;IACxC,IAAM,KAAK,GAAG,UAAU,CAAC;IACzB,QAAQ,IAAI,CAAC,MAAM,EAAE;QACjB,uCAAuC;QACvC,KAAK,CAAC,CAAC,CAAC,OAAO,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;QAC3C,uCAAuC;QACvC,KAAK,CAAC,CAAC,CAAC,OAAO,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;QACpD,uCAAuC;QACvC,KAAK,CAAC,CAAC,CAAC,OAAO,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;QAC7D,uCAAuC;QACvC,KAAK,CAAC,CAAC,CAAC,OAAO,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;QACtE,uCAAuC;QACvC,KAAK,CAAC,CAAC,CAAC,OAAO,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/E,uCAAuC;QACvC,KAAK,CAAC,CAAC,CAAC,OAAO,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;KAC3F;AACL,CAAC;AACD,EAAE;AACF,+BAA+B;AAC/B,iDAAiD;AACjD,gDAAgD;AAChD,EAAE;AACF,sDAAsD;AACtD,kDAAkD;AAClD,qDAAqD;AACrD,mDAAmD;AACnD,0DAA0D;AAC1D,SAAS;AACT,wDAAwD;AACxD,iDAAiD;AACjD,mDAAmD;AACnD,mDAAmD;AACnD,kDAAkD;AAClD,kDAAkD;AAClD,mDAAmD;AACnD,sDAAsD;AACtD,2DAA2D;AAC3D,EAAE;AACF,wDAAwD;AACxD,EAAE;AACF,UAAU;AACV,uBAAuB;AACvB,SAAS;AACT,sDAAsD;AACtD,SAAS;AACT,eAAe;AACf,6FAA6F;AAC7F,8DAA8D;AAC9D,kDAAkD;AAClD,6EAA6E;AAC7E,6FAA6F;AAC7F,UAAU;AACV,0DAA0D;AAC1D,iCAAiC;AACjC,oDAAoD;AACpD,oCAAoC;AACpC,EAAE;AACF,wCAAwC;AACxC,oBAAoB;AACpB,8CAA8C;AAC9C,qCAAqC;AACrC,sFAAsF;AACtF,mBAAmB;AACnB,gBAAgB;AAChB,4BAA4B;AAC5B,4CAA4C;AAC5C,gBAAgB;AAChB,YAAY;AACZ,iBAAiB;AACjB,kCAAkC;AAClC,YAAY;AACZ,EAAE;AACF,4BAA4B;AAC5B,8CAA8C;AAC9C,sCAAsC;AACtC,oCAAoC;AACpC,iCAAiC;AACjC,EAAE;AACF,yEAAyE;AACzE,gBAAgB;AAChB,8CAA8C;AAC9C,uFAAuF;AACvF,wCAAwC;AACxC,gBAAgB;AAChB,EAAE;AACF,oCAAoC;AACpC,gBAAgB;AAChB,sDAAsD;AACtD,8EAA8E;AAC9E,oBAAoB;AACpB,wCAAwC;AACxC,2BAA2B;AAC3B,gCAAgC;AAChC,oBAAoB;AACpB,EAAE;AACF,+DAA+D;AAC/D,oBAAoB;AACpB,4DAA4D;AAC5D,4CAA4C;AAC5C,wBAAwB;AACxB,2CAA2C;AAC3C,+BAA+B;AAC/B,oCAAoC;AACpC,wBAAwB;AACxB,oBAAoB;AACpB,iDAAiD;AACjD,uBAAuB;AACvB,gBAAgB;AAChB,EAAE;AACF,YAAY;AACZ,EAAE;AACF,gDAAgD;AAChD,qHAAqH;AACrH,YAAY;AACZ,6BAA6B;AAC7B,wBAAwB;AACxB,8DAA8D;AAC9D,4CAA4C;AAC5C,+BAA+B;AAC/B,iCAAiC;AACjC,0DAA0D;AAC1D,0JAA0J;AAC1J,oCAAoC;AACpC,qCAAqC;AACrC,oCAAoC;AACpC,uBAAuB;AACvB,wDAAwD;AACxD,wEAAwE;AACxE,QAAQ;AACR,EAAE;AACF,+EAA+E;AAC/E,uCAAuC;AACvC,+EAA+E;AAC/E,kEAAkE;AAClE,kEAAkE;AAClE,oEAAoE;AACpE,4EAA4E;AAC5E,EAAE;AACF,iBAAiB;AACjB,EAAE;AACF,sBAAsB;AACtB,QAAQ;AACR,IAAI;AACJ,8BAA8B;;;;;;;;;;;;;AChJ9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgH;AAC3D;AAcM;AAE3D;;GAEG;AACH,SAAS,0BAA0B,CAAC,SAAsB,EAAE,OAAiB;IACzE,IAAI,GAAG,GAAyB,SAAgB,CAAC;IACjD,OAAO,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;QACvB,IAAM,OAAO,GAAG,OAAO,CAAC,KAAK,EAAE,CAAC;QAChC,IAAI,GAAG,IAAI,GAAG,YAAY,gEAAW,IAAI,OAAO,EAAE;YAC9C,GAAG,GAAI,GAAmB,CAAC,YAAY,CAAC,OAAO,CAAQ,CAAC;SAC3D;aAAM;YACH,OAAO,SAAS,CAAC;SACpB;KACJ;IACD,OAAO,GAAG,CAAC;AACf,CAAC;AAED;;;;GAIG;AACH,SAAS,wBAAwB,CAAC,SAAsB,EAAE,OAAiB;IACvE,OAAO,CAAC,KAAK,EAAE,CAAC,CAAC,OAAO;IACxB,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;QACpB,OAAO;KACV;IACD,IAAM,QAAQ,GAAG,SAAS,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC;IACjD,IAAI,MAA+B,CAAC;IACpC,IAAM,SAAS,GAAG,OAAO,CAAC,KAAK,EAAE,CAAC;IAClC,IAAI,CAAC,QAAQ,EAAE;QACX,OAAO;KACV;IACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,GAAG,GAAG,QAAQ,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;QAC5D,MAAM,GAAG,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAQ,CAAC;QACvC,IAAI,MAAM,YAAY,gEAAW,IAAI,MAAM,CAAC,EAAE,KAAK,SAAS,EAAE;YAC1D,MAAM;SACT;KACJ;IACD,IAAI,MAAM,KAAK,SAAS,EAAE;QACtB,OAAO,SAAS,CAAC;KACpB;IACD,OAAO,0BAA0B,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;AACvD,CAAC;AAGM,SAAS,kBAAkB,CAAC,SAAsB,EACtB,UAA6B;IAC5D,uBAAuB;IACvB,IAAI,SAAS,IAAI,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE;QACjE,IAAI,UAAU,CAAC,CAAC,CAAC,KAAK,mEAAe,CAAC,QAAQ;YAC1C,UAAU,CAAC,CAAC,CAAC,KAAK,mEAAe,CAAC,QAAQ;YAC1C,UAAU,CAAC,CAAC,CAAC,KAAK,mEAAe,CAAC,WAAW;YAC7C,UAAU,CAAC,CAAC,CAAC,KAAK,mEAAe,CAAC,WAAW;YAC7C,UAAU,CAAC,CAAC,CAAC,KAAK,mEAAe,CAAC,YAAY;YAC9C,UAAU,CAAC,CAAC,CAAC,KAAK,mEAAe,CAAC,SAAS,EAAE;YAC7C,IAAM,OAAO,GAAG,SAAS,CAAC,OAAO,CAAC;YAClC,IAAI,OAAO,IAAI,OAAO,CAAC,eAAe,EAAE;gBACpC,IAAM,eAAe,GAAG,OAAO,CAAC,eAAe,CAAC;gBAChD,IAAM,IAAI,GAAG,eAAe,CAAC,mBAAmB,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;gBACxE,IAAI,IAAI,IAAI,IAAI,YAAY,EAAE,CAAC,GAAG,CAAC,aAAa,EAAE;oBAC9C,OAAO,IAAI,CAAC;iBACf;aACJ;SACJ;KACJ;IACD,OAAO,mBAAmB,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;AACtD,CAAC;AAEM,SAAS,mBAAmB,CAAC,SAAsB,EACtB,UAAgC;IAChE,IAAI,CAAC,UAAU,EAAE;QACb,OAAO,SAAgB,CAAC;KAC3B;SAAM,IAAI,UAAU,CAAC,MAAM,IAAI,CAAC,EAAE;QAC/B,OAAO,SAAgB,CAAC;KAC3B;SAAM;QACH,IAAM,OAAO,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC;QACpC,IAAI,OAAO,CAAC,CAAC,CAAC,KAAK,IAAI,EAAE,EAAC,QAAQ;YAC9B,OAAO,wBAAwB,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;SACvD;aAAM,EAAC,QAAQ;YACZ,OAAO,0BAA0B,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;SACzD;KACJ;AACL,CAAC;AAEM,SAAS,gBAAgB,CAAC,IAAe,EAAE,GAAW;IACzD,IAAI,CAAC,GAAW,CAAC,CAAC;IAClB,QAAQ,IAAI,EAAE;QACV;YACI,OAAO,CAAC,CAAC;QACb;YACI,OAAO,GAAG,CAAC;QACf;YACI,OAAO,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;QACzC;YACI,OAAO,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;QAC5B;YACI,sDAAsD;YACtD,IAAI,CAAC,GAAG,IAAI,GAAG,CAAC,GAAG,CAAC,EAAE;gBAClB,OAAO,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;aACjC;YACD,OAAO,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;QACzC;YACI,OAAO,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;QAC5B;YACI,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;QACxC;YACI,sDAAsD;YACtD,IAAI,CAAC,GAAG,IAAI,GAAG,CAAC,GAAG,CAAC,EAAE;gBAClB,OAAO,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;aACjC;YACD,OAAO,GAAG,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;QAC9C;YACI,OAAO,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;QAC5B;YACI,OAAO,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;QACzC;YACI,sDAAsD;YACtD,IAAI,CAAC,GAAG,IAAI,GAAG,CAAC,GAAG,CAAC,EAAE;gBAClB,OAAO,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;aACjC;YACD,OAAO,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;QACtD;YACI,OAAO,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;QAC5B;YACI,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;QACxC;YACI,sDAAsD;YACtD,IAAI,CAAC,GAAG,IAAI,GAAG,CAAC,GAAG,CAAC,EAAE;gBAClB,OAAO,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;aACjC;YACD,OAAO,GAAG,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;QAC9C;YACI,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;QAC9C;YACI,OAAO,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;QACzC;YACI,OAAO,CAAC,CAAC,EAAE,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QACjD;YACI,OAAO,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;QACzD;YACI,OAAO,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;QACzD;YACI,IAAI,GAAG,KAAK,CAAC,EAAE;gBACX,OAAO,CAAC,CAAC;aACZ;YACD,IAAI,GAAG,KAAK,CAAC,EAAE;gBACX,OAAO,CAAC,CAAC;aACZ;YACD,sDAAsD;YACtD,IAAI,CAAC,GAAG,IAAI,GAAG,CAAC,GAAG,CAAC,EAAE;gBAClB,OAAO,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;aAC5C;YACD,OAAO,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;QACjD;YACI,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;QAC7C;YACI,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QACjD;YACI,sDAAsD;YACtD,IAAI,CAAC,GAAG,IAAI,GAAG,CAAC,GAAG,CAAC,EAAE;gBAClB,OAAO,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;aAChD;YACD,OAAO,GAAG,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;QACvD;YACI,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE;gBACpB,OAAO,CAAC,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;aAC/B;iBAAM,IAAI,GAAG,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE;gBACzB,OAAO,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;aACvD;iBAAM,IAAI,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE;gBAC3B,OAAO,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,GAAG,GAAG,GAAG,KAAK,CAAC,CAAC;aAC1D;iBAAM;gBACH,OAAO,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,CAAC,GAAG,GAAG,GAAG,OAAO,CAAC,CAAC;aAC7D;QACL;YACI,CAAC,GAAG,OAAO,CAAC;YACZ,OAAO,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;QAC7C;YACI,CAAC,GAAG,OAAO,CAAC;YACZ,OAAO,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;QAC3D;YACI,CAAC,GAAG,OAAO,CAAC;YACZ,sDAAsD;YACtD,IAAI,CAAC,GAAG,IAAI,GAAG,CAAC,GAAG,CAAC,EAAE;gBAClB,OAAO,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;aAC/D;YACD,OAAO,GAAG,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;QAC3E,sBAAuB;QACvB;YACI,OAAO,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;QACxF;YACI,OAAO,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;QACxF;YACI,CAAC,GAAG,OAAO,CAAC;YACZ,sDAAsD;YACtD,OAAO,CAAC,CAAC,GAAG,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC9E,GAAG,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;QACxE;YACI,CAAC,GAAG,OAAO,CAAC;YACZ,OAAO,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC;QAC3C;YACI,CAAC,GAAG,OAAO,CAAC;YACZ,OAAO,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;QACtD;YACI,IAAI,GAAG,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE;gBAClB,OAAO,CAAC,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;aAC/B;iBAAM,IAAI,GAAG,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE;gBACzB,OAAO,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;aACvD;iBAAM,IAAI,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE;gBAC3B,OAAO,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,GAAG,GAAG,GAAG,KAAK,CAAC,CAAC;aAC1D;iBAAM;gBACH,OAAO,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,CAAC,GAAG,GAAG,GAAG,OAAO,CAAC,CAAC;aAC7D;QACL;YACI,IAAI,GAAG,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE;gBAClB,OAAO,CAAC,MAAM,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;aAC/B;iBAAM,IAAI,GAAG,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE;gBACzB,OAAO,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC;aAC3D;iBAAM,IAAI,GAAG,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE;gBAC3B,OAAO,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,CAAC,GAAG,GAAG,GAAG,KAAK,CAAC,CAAC;aAC9D;iBAAM;gBACH,OAAO,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,CAAC,GAAG,GAAG,GAAG,OAAO,CAAC,CAAC;aACjE;QACL;YACI,sDAAsD;YACtD,IAAI,CAAC,GAAG,IAAI,GAAG,CAAC,GAAG,CAAC,EAAE;gBAClB,OAAO,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;aACjC;YACD,OAAO,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;QACtD;YACI,OAAO,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;QAC5B;YACI,OAAO,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;QAC/B;YACI,OAAO,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;QAChD;YACI,OAAO,CAAC,GAAG,GAAG,CAAC;QACnB;YACI,OAAO,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC;QAC5D;YACI,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC;QACpE;YACI,OAAO,GAAG,CAAC;KAClB;AACL,CAAC;AAEM,SAAS,eAAe,CAAC,OAAgB,EAAE,WAA6B,EAAE,IAAqB;IAClG,IAAM,UAAU,GAAG,IAAI,sEAAU,CAAC,OAAO,EAAE,WAAW,EAAE,IAAI,CAAC,CAAC;IAC9D,UAAU,CAAC,GAAG,EAAE,CAAC;AACrB,CAAC;AAEM,SAAS,aAAa,CAAC,GAAmB,EAC7C,SAAuB,EACvB,KAAa,EACb,MAAc;IAEd,IAAM,CAAC,GAAW,KAAK,IAAI,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC;IAC1C,IAAM,CAAC,GAAW,MAAM,IAAI,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC;IAE5C,IAAM,OAAO,GAAG,EAAE,CAAC,aAAa,CAAC,MAAM,CAAC;QACpC,KAAK,EAAE,CAAC;QACR,MAAM,EAAE,CAAC;QACT,SAAS,EAAE,EAAE,CAAC,WAAW,CAAC,MAAM;KACnC,CAAC,CAAC;IACH,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;IACxC,OAAO,OAAO,CAAC;AACnB,CAAC;AACM,SAAS,cAAc,CAAC,GAAmB,EAAE,SAAuB,EACvE,CAAS,EAAE,CAAS;IACpB,2BAA2B;IAC3B,gCAAgC;IAChC,uCAAuC;IACvC,yBAAyB;IACzB,+CAA+C;IAC/C,YAAY;IACZ,IAAM,OAAO,GAAG,EAAE,CAAC,aAAa,CAAC,MAAM,CAAC;QACpC,KAAK,EAAE,CAAC;QACR,MAAM,EAAE,CAAC;QACT,SAAS,EAAE,EAAE,CAAC,WAAW,CAAC,MAAM;KACnC,CAAC,CAAC;IACH,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;IACxC,IAAM,MAAM,GAAG,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IACpD,OAAO,MAAa,CAAC;AAEzB,CAAC;AACM,SAAS,UAAU,CAAC,GAAmB,EAAE,SAAuB;IACnE,IAAM,CAAC,GAAG,cAAc,CAAC,GAAG,EAAE,SAAS,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAC/C,uCAAuC;IACvC,OAAO,CAAC,GAAG,CAAC,qBAAqB,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACpF,CAAC;AAEM,SAAS,QAAQ,CAAC,GAAQ;IAC7B,OAAO,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,iBAAiB,CAAC;AACrE,CAAC;AACM,SAAS,QAAQ,CAAC,GAAQ;IAC7B,OAAO,OAAO,GAAG,KAAK,QAAQ,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AAClD,CAAC;AACM,SAAS,QAAQ,CAAC,GAAQ;IAC7B,OAAO,OAAO,GAAG,KAAK,QAAQ,CAAC;AACnC,CAAC;AACM,SAAS,SAAS,CAAC,GAAQ;IAC9B,OAAO,OAAO,GAAG,KAAK,SAAS,CAAC;AACpC,CAAC;AACM,SAAS,OAAO,CAAC,GAAQ;IAC5B,OAAO,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;AAC9B,CAAC;AACD;;;;;;EAME;AACK,SAAS,YAAY,CAAC,GAAW;IAAE,cAAa;SAAb,UAAa,EAAb,qBAAa,EAAb,IAAa;QAAb,6BAAa;;IACnD,IAAI,GAAG,IAAI,IAAI;QAAE,OAAO,EAAE,CAAC;IAC3B,IAAG,IAAI,KAAK,SAAS;QAAE,OAAO,GAAG,CAAC;IAElC,IAAI,GAAG,GAAW,IAAI,CAAC,MAAM,CAAC;IAC9B,IAAI,IAAc,CAAC;IACnB,IAAI,GAAG,IAAI,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE;QACpC,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC;QACf,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC;KACrB;SACI;QACD,IAAI,GAAG,IAAI,CAAC;KACf;IAED,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;QAC1B,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,GAAG,KAAK,EAAE,GAAG,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;KACnE;IAED,OAAO,GAAG,CAAC;AACf,CAAC;;;;;;;;;;;;;AC5VD;AAAA;AAAA;;GAEG;AACI,SAAS,gBAAgB,CAAC,GAAW;IACxC,IAAM,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;IAC7C,IAAI,GAAG,GAAG,EAAE,CAAC;IAEb,IAAI,SAAS,EAAC;QACV,IAAM,UAAU,GAAG,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QAEpC,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,UAAU,GAAG,CAAC,EAAE,GAAG,CAAC,OAAO,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC,CAAC;KACrE;SAAI;QACD,IAAM,UAAU,GAAG,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QACpC,IAAM,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QACnC,IAAM,KAAK,GAAG,IAAI,CAAC,GAAG,CAClB,UAAU,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,EACzC,SAAS,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,CAC1C,CAAC;QAEF,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;QAC9B,GAAG,GAAG,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;KACjD;IAED,OAAO,GAAG,CAAC,WAAW,EAAE,CAAC;AAC7B,CAAC;;;;;;;;;;;;;ACxBD;AAAA;AAAA;AAAA;AAAA;AAAsD;AACA;AAI/C,SAAS,SAAS,CAAC,GAAW,EAAE,IAAS,EAAE,KAAS;IAAT,iCAAS;IACvD,IAAI,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;QAC5B,OAAO,GAAG,CAAC;KACd;IACD,IAAM,IAAI,GAAG,mEAAY,CAAC,0EAAgB,CAAC,GAAG,CAAC,CAAC,CAAC;IACjD,IAAI,GAAsB,CAAC;IAE3B,QAAQ,IAAI,EAAE;QACV;YACI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC;YACjB,MAAM;QACV,mBAAsB;QACtB;YACI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC;YACjB,MAAM;QACV;YACI,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC;KAC1B;IACD,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC;IACxD,IAAI,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;QACvD,GAAG,IAAI,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;KACzD;SACI;QACD,GAAG,IAAI,GAAG,CAAC;KACd;IAED,OAAO,GAAG,CAAC;AACf,CAAC;AAEM,SAAS,MAAM,CAAC,GAAW,EAAE,OAAY,EAAE,IAAU,EAAE,KAAS;IAAnC,sCAAY;IAAc,iCAAS;IACnE,IAAI,OAAO,EAAE;QACT,IAAI,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,IAAI,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE;YACxD,GAAG,GAAG,OAAO,GAAG,GAAG,CAAC;SACvB;KACJ;SACI,IAAI,IAAI,EAAE;QACX,GAAG,GAAG,SAAS,CAAC,GAAG,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;KACrC;SACI;QACD,mCAAmC;KACtC;IAED,OAAO,GAAG,CAAC;AACf,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtCD,SAAS,SAAS,CAAC,IAAS,EAAE,MAAc;IACxC,IAAI;QACA,MAAM,CAAC,IAAI,GAAG,CAAC,CAAC,OAAO,IAAI,CAAC,KAAK,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;QAErE,OAAO,MAAM,CAAC;KACjB;IACD,OAAO,CAAC,EAAE;QACN,MAAM,CAAC,IAAI,GAAG,OAAO,CAAC;QACtB,MAAM,CAAC,KAAK,sBAAmB,CAAC;QAChC,MAAM,CAAC,IAAI,GAAG,CAAC,CAAC;QAEhB,OAAO,MAAM,CAAC;KACjB;AACL,CAAC;AAED,SAAS,UAAU,CAAC,MAAsB;IACtC,IAAM,GAAG,GAAG,MAAM,CAAC;IAEnB,IAAI,GAAG,CAAC,UAAU,KAAK,CAAC,IAAI,GAAG,CAAC,MAAM,IAAI,GAAG,EAAE;QAAE,OAAO;KAAE;IAE1D,IAAM,GAAG,GAAW;QAChB,IAAI,EAAE,GAAG;QACT,KAAK,yBAAoB;QACzB,OAAO,EAAE,SAAS;QAClB,IAAI,EAAE,IAAI;KACb,CAAC;IAEF,IAAI;QACA,IAAM,QAAQ,GAAG,GAAG,CAAC,QAAQ,IAAI,GAAG,CAAC,YAAY,CAAC;QAElD,QAAQ,GAAG,CAAC,YAAY,EAAE;YACtB,KAAK,MAAM;gBACP,SAAS,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;gBACzB,MAAM;YACV;gBACI,GAAG,CAAC,IAAI,GAAG,QAAQ,CAAC;SAC3B;QAED,OAAO,GAAG,CAAC;KACd;IACD,OAAO,KAAK,EAAE;QACV,GAAG,CAAC,IAAI,GAAG,OAAO,CAAC;QACnB,GAAG,CAAC,KAAK,sBAAmB,CAAC;QAC7B,GAAG,CAAC,IAAI,GAAM,GAAG,CAAC,WAAW,WAAM,KAAO,CAAC;QAE3C,OAAO,GAAG,CAAC;KACd;AACL,CAAC;AAED,mCAAmC;AACnC,SAAS,mBAAmB,CAAoD,GAAmB,EAAE,QAA0G;IAC3M,IAAI,QAAQ,EAAE;QACV,QAAQ,CAAC,OAAO,CAAC,UAAC,KAAK;YACnB,GAAG,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QAChD,CAAC,CAAC,CAAC;QACH,QAAQ,CAAC,MAAM,GAAG,CAAC,CAAC;KACvB;IACD,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC;IAClB,GAAG,CAAC,OAAO,GAAG,IAAI,CAAC;IACnB,GAAG,CAAC,kBAAkB,GAAG,IAAI,CAAC;AAClC,CAAC;AAED;;;;;GAKG;AACH,mCAAmC;AACpB,SAAS,YAAY,CAAoD,GAAW,EAAE,OAAqB,EAAE,QAA0G;IAAjI,sCAAqB;IACtH,OAAO,IAAI,OAAO,CAAM,UAAC,OAAO,EAAE,MAAM;QACpC,IAAM,UAAU,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,OAAO,CAAC,UAAU,IAAI,CAAC,EAAE,CAAC;QAC5D,IAAM,GAAG,GAAG,IAAI,cAAc,EAAE,CAAC;QAEjC,IAAM,MAAM,GAAG,OAAO,CAAC,MAAM,IAAI,KAAK,CAAC;QAEvC,GAAG,CAAC,OAAO,GAAG,OAAO,CAAC,OAAO,IAAI,CAAC,CAAC;QACnC,GAAG,CAAC,YAAY,GAAG,OAAO,CAAC,YAAY,IAAI,MAAM,CAAC;QAElD,IAAI,QAAQ,EAAE;YACV,QAAQ,CAAC,OAAO,CAAC,UAAC,KAAK;gBACnB,GAAG,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;YAC7C,CAAC,CAAC,CAAC;SACN;QAED,GAAG,CAAC,MAAM,GAAG,UAAC,GAAkB;YAC5B,IAAM,GAAG,GAAG,UAAU,CAAC,GAAG,CAAC,MAAwB,CAAC,CAAC;YAErD,IAAI,GAAG,EAAE;gBACL,IAAI,GAAG,CAAC,KAAK,wBAAqB,EAAE;oBAChC,OAAO,MAAM,CAAC,GAAG,CAAC,CAAC;iBACtB;gBACD,mBAAmB,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;gBAEnC,OAAO,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;aAC5B;QACL,CAAC,CAAC;QAEF,4EAA4E;QAC5E,GAAG,CAAC,kBAAkB,GAAG,UAAC,GAAU;YAChC,IAAI,GAAG,KAAK,SAAS,EAAE;gBACnB,OAAO;aACV;YACD,IAAM,GAAG,GAAG,GAAG,CAAC,aAA+B,CAAC;YAEhD,IAAI,CAAC,GAAG,CAAC,UAAU,KAAK,CAAC,IAAI,GAAG,CAAC,UAAU,KAAK,CAAC,CAAC,IAAI,GAAG,CAAC,MAAM,IAAI,GAAG,EAAE;gBACrE,IAAI,UAAU,CAAC,GAAG,IAAI,UAAU,CAAC,GAAG,EAAE;oBAClC,mBAAmB,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;oBAEnC,OAAO,MAAM,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,qBAAkB,EAAE,IAAI,EAAE,CAAC,GAAG,CAAC,WAAW,IAAI,GAAG,EAAE,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;iBACzG;gBACD,UAAU,CAAC,GAAG,EAAE,CAAC;gBACjB,GAAG,CAAC,KAAK,EAAE,CAAC;gBACZ,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;gBAC5B,GAAG,CAAC,IAAI,EAAE,CAAC;aACd;QACL,CAAC,CAAC;QAEF,GAAG,CAAC,OAAO,GAAG,UAAC,GAAU;YACrB,IAAM,GAAG,GAAG,GAAG,CAAC,aAA+B,CAAC;YAEhD,IAAI,UAAU,CAAC,GAAG,IAAI,UAAU,CAAC,GAAG,EAAE;gBAClC,mBAAmB,CAAC,GAAG,EAAE,QAAQ,CAAC,CAAC;gBAEnC,OAAO,MAAM,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,qBAAkB,EAAE,IAAI,EAAE,CAAC,GAAG,CAAC,WAAW,IAAI,GAAG,EAAE,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;aACzG;YACD,UAAU,CAAC,GAAG,EAAE,CAAC;YACjB,GAAG,CAAC,KAAK,EAAE,CAAC;YACZ,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;YAC5B,GAAG,CAAC,IAAI,EAAE,CAAC;QACf,CAAC,CAAC;QAEF,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;QAC5B,GAAG,CAAC,IAAI,EAAE,CAAC;IACf,CAAC,CAAC,CAAC;AACP,CAAC;AAED;;;;;;;;GAQG;AACH,mCAAmC;AAC5B,SAAe,eAAe,CAAoD,GAAW,EAAE,IAAc,EAAE,OAAqB,EAAE,QAA0G;IAAjI,sCAAqB;;;;;;yBACnI,KAAI,CAAC,MAAM,KAAK,CAAC,GAAjB,wBAAiB;oBACV,qBAAM,YAAY,CAAC,GAAG,EAAE,OAAO,EAAE,QAAQ,CAAC;wBAAjD,sBAAO,SAA0C,EAAC;;0BAK9B,EAAJ,aAAI;;;yBAAJ,mBAAI;oBAAb,KAAK;oBACC,qBAAM,YAAY,CAAC,CAAC,KAAK,IAAI,EAAE,CAAC,GAAG,GAAG,EAAE,OAAO,EAAE,QAAQ,CAAC,CAAC,KAAK,CAAC,UAAC,KAAa,IAAO,GAAG,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;;oBAA5G,IAAI,GAAG,SAAqG;oBAElH,IAAI,IAAI,EAAE;wBACN,sBAAO,IAAI,EAAC;qBACf;;;oBALe,IAAI;;wBAQxB,sBAAO,IAAI,OAAO,CAAC,UAAC,OAAO,EAAE,MAAM,IAAO,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC;;;;CAC7D","file":"../packages/player/dist/player.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./packages/player/src/index.ts\");\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","import {AssetsType} from './IAssets'; \n// import * as IRES from './IRES';\n// import readFileSync from '../../src/utils/readFileSync';\n\nexport function getAssetType(extensionName:string){\n    switch(extensionName){\n        case 'gif':\n        case 'png':\n        case 'bmp':\n        case 'jpg':\n        case 'jpeg':\n        case 'tif':\n        case 'tiff':\n        case 'webp':\n        case 'tga':\n        case 'svg':\n        case 'svg+xml':\n            return AssetsType.Image;\n        case 'mp3':\n        case 'ogg':\n        case 'wav':\n            return AssetsType.Audio;\n        case 'mp4':\n        case 'webm':\n        case 'mov':   \n            return AssetsType.Video;\n        case 'json':\n            return AssetsType.Json;\n        default:\n            return AssetsType.Unknown;\n\n    }\n}\n// export class RES{\n\n//     private _defaultCdn:string[] = [];\n//     private _tempAnchor: HTMLAnchorElement | null = null;\n//     private _loadStrategyMap: Partial<Record<string, AbstractLoadStrategyCtor>> = {\n//         // images\n//         gif:        ImageLoadStrategy,\n//         png:        ImageLoadStrategy,\n//         bmp:        ImageLoadStrategy,\n//         jpg:        ImageLoadStrategy,\n//         jpeg:       ImageLoadStrategy,\n//         tif:        ImageLoadStrategy,\n//         tiff:       ImageLoadStrategy,\n//         webp:       ImageLoadStrategy,\n//         tga:        ImageLoadStrategy,\n//         svg:        ImageLoadStrategy,\n//         'svg+xml':  ImageLoadStrategy, // for SVG data urls\n\n//         // audio\n//         mp3:        AudioLoadStrategy,\n//         ogg:        AudioLoadStrategy,\n//         wav:        AudioLoadStrategy,\n\n//         // videos\n//         mp4:        VideoLoadStrategy,\n//         webm:       VideoLoadStrategy,\n//         mov:        VideoLoadStrategy,\n//     }\n\n//     public async getRes<K extends keyof XMLHttpRequestEventTargetEventMap>(url: string, options: Options = {}, listener?: Array<[ K , (this: XMLHttpRequestEventTarget, ev: XMLHttpRequestEventTargetEventMap[K]) => any]>): Promise < any > {\n//         const cdns = this._defaultCdn;\n//         for (const value of cdns) {\n//             const data = await readFileSync( (value || '') + url, options, listener);\n//             if (data) {\n//                 return data;\n//             }\n//         }\n//         return;\n//     }\n    \n\n// }","/* eslint-disable @typescript-eslint/explicit-function-return-type */\n/* eslint-disable @typescript-eslint/no-unused-vars */\n/* eslint-disable no-unused-vars */\nimport { VFStage } from './display/VFStage';\nimport calculateUpdatePlayerSize from './utils/CalculatePlayerSize';\nimport importScript from './utils/ImportScript';\nimport IEvent from './event/IEvent';\nimport { IVFOptions, EngineAPI } from './IVFEngine';\nimport { IVFDataV1, ScaleMode, VFStateCode, ITransitionData } from './core/model/IVFData';\nimport Config from './core/Config';\nimport { EventType } from './event/EventType';\nimport { EventLevel } from './event/EventLevel';\nimport ErrorDisplay from './error/ErrorDisplay';\nimport readFileSync from './utils/readFileSync';\n\ndeclare let VFBUILDDATE: any; // webpack全局变量，prod环境使用\n\nexport class Player implements EngineAPI {\n    /**\n     * @private\n     * @type {vf.Application}\n     */\n    private app: vf.Application;\n\n    /**\n     * @private\n     * @type {VFStage}\n     */\n    private stage?: VFStage;\n\n    /**\n     * @private\n     * @type {IVFDataV1}\n     */\n    private _data?: IVFDataV1;\n\n    /**\n     * @private\n     * @type {VFStage}\n     */\n    private _readyState: VFStateCode;\n    public get readyState(): VFStateCode {\n        return this._readyState;\n    }\n    public set readyState(value) {\n        this._readyState = value;\n        this.config.systemEvent.emit(EventType.STATUS, { code: value, level: EventLevel.STATUS, data: value });\n    }\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    private _errpanel: ErrorDisplay;\n\n    /**\n     * @private\n     * @type {Config}\n     */\n    private config: Config;\n\n    constructor(options: IVFOptions) {\n        //  1. 初始化配置\n        this.config = new Config(options);\n        const config = this.config;\n\n        // eslint-disable-next-line no-console\n        console.groupEnd();\n\n        // 2. 初始化引擎\n        // eslint-disable-next-line no-undef\n        this.app = new vf.Application({\n            backgroundColor: parseInt(config.bgcolor || '0', 16),\n            transparent: config.wmode === 'transparent',\n            antialias: true,\n            resolution: options.resolution,\n        });\n\n        this._errpanel = new ErrorDisplay(this.config);\n\n        this.initSystemEvent();\n\n        this._readyState = VFStateCode.INIT;\n\n        //  3、如果配了资源地址，则启动数据加载\n        if (this.config.src) { this.play(this.config.src); }\n    }\n\n    public async play(src?: any): Promise<void> {\n        if (this._readyState !== VFStateCode.INIT\n            && this._readyState !== VFStateCode.LOADED) {\n            this.reload();\n        }\n        this.loadData(src);\n    }\n\n    public pause(): void {\n        if (this.stage) {\n            this.stage.pause();\n        }\n    }\n\n    public resume(): void {\n        if (this.stage) {\n            this.stage.resume();\n        }\n    }\n\n    public reset(): void {\n        if (this.stage) {\n            this.stage.reset();\n        }\n    }\n\n    public message(msg: IEvent): void {\n        this.config.systemEvent.emit(EventType.ONMESSAGE, msg);\n    }\n\n    public runtimeLog(msg: IEvent): void {\n        if (this.onMessage) {\n            this.onMessage(msg);\n        }\n    }\n\n    public switchToNextScene(transition?: ITransitionData): void {\n        if (this.stage) {\n            this.stage.switchToNextScene(transition);\n        }\n    }\n\n    public switchToPrevScene(transition?: ITransitionData): void {\n        if (this.stage) {\n            this.stage.switchToPrevScene(transition);\n        }\n    }\n\n    public switchToSceneId(sceneId: string, transition?: ITransitionData): void {\n        if (this.stage) {\n            this.stage.switchToSceneId(sceneId, transition);\n        }\n    }\n\n    public dispose(removeView = false): void {\n        if (this.readyState === VFStateCode.DISABLED) {\n            return;\n        }\n        // if (vf.sound) {\n        //     vf.sound.close();\n        // }\n\n        this.config.systemEvent.removeAllListeners();\n\n        if (this.stage) {\n            this.stage.dispose();\n        }\n\n        if (this.app && this.app.stage) {\n            this.app.destroy(removeView, { children: true, texture: true, baseTexture: true });\n        }\n\n        this.onDispose();\n        this.readyState = VFStateCode.DISABLED;\n    }\n\n    /**\n     * 接口，避免写入逻辑\n     */\n    // eslint-disable-next-line handle-callback-err\n    public onError = (err: any) => {\n        //\n    };\n\n    /**\n     * 接口，避免写入逻辑\n     */\n    public onInit = () => {\n        //\n    };\n\n    /**\n     * 接口，避免写入逻辑\n     */\n    public onReady = () => {\n        //\n    };\n\n    /**\n     * 接口，避免写入逻辑\n     */\n    public onSceneCreate = () => {\n        //\n    };\n\n    /**\n     * 接口，避免写入逻辑\n     */\n    public onMessage = (msg: IEvent) => {\n        //\n    };\n\n    /**\n     * 接口，避免写入逻辑\n     */\n    public onDispose = () => {\n        //\n    };\n\n    private initSystemEvent(): void {\n        const event = this.config.systemEvent;\n\n        event.on(EventType.MESSAGE, this.sendMessage, this);\n        event.on(EventType.STATUS, this.onStatus, this);\n    }\n\n    private reload(): void {\n        this.config.systemEvent.removeAllListeners();\n\n        if (this.stage) {\n            this.stage.dispose();\n        }\n\n        if (this.app) {\n            this.app.destroy(true, { children: true, texture: true, baseTexture: true });\n        }\n\n        this.initSystemEvent();\n    }\n\n    /**\n     * 启动\n     * TODO：\n     *   1、目前是打包到一起的pixi引擎，后面需改改成按配置异步加载\n     *   2、按配置对画布做自适应布局\n     *   3、重新定义版本号的输出结构（VF标识、版本、编译时间、环境支持信息..），提到版本控制模块里\n     */\n    private async start(): Promise<void> {\n        if (!this._data) { return; }\n        const config = this.config;\n        const data = this._data;\n\n        // 0、更新配置\n        if (data.width && data.height) {\n            config.width = data.width; // 设计尺寸\n            config.height = data.height; // 设计尺寸\n        }\n        if (config.scaleMode === undefined) {\n            config.scaleMode = this._data.scaleMode || ScaleMode.NO_SCALE;\n        }\n        config.output('Config Info：', config.info);\n        // 2、初始化渲染引擎，并将渲染器的画布添加到容器（目前是PIXI）\n        const view = this.app.view;\n\n        view.width = config.width;\n        view.height = config.height;\n        view.style.zIndex = '0';\n        this.config.container.appendChild(this.app.view);\n\n        // 3、初始化基于PX容器的VF场景\n        this.stage = new VFStage(this._data, this.config, this);\n        this.stage.app = this.app;\n        this.app.stage.addChild(this.stage.container);\n\n        // 4、 适配处理\n        calculateUpdatePlayerSize(this.app.view, this.stage, this.config.scaleMode as any);\n\n        // 5、初始化API模块，并通知外部'vf[hashid] api is ready'\n        this.readyState = VFStateCode.READY;\n\n        // 6、加载场景资源\n        this.stage.start();\n    }\n\n    private async loadData(src: any): Promise<void> {\n        this.readyState = VFStateCode.LOAD;\n\n        const onStatus = this.onStatus.bind(this);\n\n        await this.config.i18n.load(this.config.cdns.default, onStatus);\n\n        if (typeof src === 'string') {\n            this._data = await readFileSync(src, { responseType: 'json' }).catch((value) => { onStatus(value); });\n        }\n        else if (typeof src === 'object') {\n            this._data = src;\n        }\n\n        const data = this._data;\n\n        if (data) {\n            if (data.conversion) {\n                if (typeof src === 'string') {\n                    const version = src.split('?')[1] || 'v=0';\n                    // tslint:disable-next-line: max-line-length\n                    const conversionPath = `${src.substr(0, src.lastIndexOf('/'))}/${data.conversion}?${version}`;\n\n                    await importScript(conversionPath).catch((e: IEvent) => {\n                        this.onStatus(e);\n                    });\n                    const vFConversion = await new (window as any).VFConversion();\n\n                    await vFConversion.analysis(this.config.conversionData, this._data);\n                }\n                else {\n                    this.onStatus({ code: 'E0005', level: EventLevel.ERROR, data: data.conversion });\n                }\n            }\n            this.readyState = VFStateCode.LOADED;\n            await this.start();\n        }\n    }\n\n    // ------------------------- 外部与钩子 ---------------------------//\n    /**\n     * 接收到服务\n     * @param msg\n     */\n    private sendMessage(msg: IEvent): void {\n        this.onMessage(msg);\n    }\n\n    /**\n     * 接收到的状态\n     * @param msg\n     */\n    private onStatus(msg: IEvent): void {\n        if (msg.level === EventLevel.ERROR || msg.level === EventLevel.WARNING) {\n            if (msg.level === EventLevel.ERROR) {\n                this._errpanel.setMessage(msg.code, msg.data);\n            }\n            msg.message = this._errpanel.getText(msg.code, msg.data);\n            if (this.onError) {\n                this.onError(msg);\n            }\n\n            return;\n        }\n        switch (msg.code) {\n            case VFStateCode.INIT:\n                if (this.onInit) {\n                    this.onInit();\n                }\n                break;\n            case VFStateCode.READY:\n                if (this.onReady) {\n                    this.onReady();\n                }\n                break;\n            case VFStateCode.SCENE_CREATE:\n                if (this.onSceneCreate) {\n                    this.onSceneCreate();\n                }\n                break;\n            default:\n                if (this.onMessage) {\n                    this.onMessage(msg);\n                }\n        }\n    }\n}\nconst w = (window as any);\n\nif (w.vf === undefined) {\n    w.vf = {};\n}\n\nw.vf.player = { Player };\n","/**\n * 信息、参数、配置对象基类\n *\n * @author 8088\n */\nimport StateEvent from '../event/StateEvent';\nimport {EventType} from '../event/EventType';\nimport {EventLevel} from '../event/EventLevel';\n\nexport default class BaseInfo{\n\n    /** 系统与对外事件 */\n    public readonly systemEvent = new StateEvent();\n\n    constructor(){\n\n    }\n\n    /**\n     * Add a listener for a given event.\n     */\n    public on(event: string, fn: any, context?: any): this {\n    \tthis.systemEvent.on(event, fn, context);\n    \treturn this;\n    }\n    public addListener(event: string, fn: Function, context?: any): this {\n    \treturn this.on(event, fn, context);\n    }\n\n    /**\n     * Remove the listeners of a given event.\n     */\n    public removeListener(event: string, fn?: Function, context?: any, once?: boolean): this{\n    \treturn this.off(event, fn, context, once);\n    }\n    public off(event: string, fn?: any, context?: any, once?: boolean): this{\n    \tthis.systemEvent.off(event, fn, context, once);\n    \treturn this;\n    }\n\n    /**\n     * 生成唯一标识ID\n     *\n     * @return 随机码\n     */\n    public createRandomId(): string {\n    \t// return String((new Date()).getTime()) + this.createRandomIdentifier(3);\n    \tvar specialChars:Array<string> = new Array('8', '9', 'A', 'B');\n    \treturn this.createRandomIdentifier(8, 15) + '-' + this.createRandomIdentifier(4, 15) + '-8' + this.createRandomIdentifier(3, 15) + '-' + specialChars[this.randomIntegerWithinRange(0, 3)] + this.createRandomIdentifier(3, 15) + '-' + this.createRandomIdentifier(12, 15);\n    }\n\n    /**\n     * 生成会话ID\n     *\n     * @return 随机码\n     */\n    public getSessionId(): string\n    {\n    \tlet _sessionId: string;\n    \tlet date:Date = new Date();\n    \t_sessionId = String(date.getTime()) + String(1000 + date.getMilliseconds()) + String(Math.floor(Math.random() * 9000) + 1000);\n    \treturn _sessionId;\n    }\n\n    /**\n     * 属性被更改后抛出changed事件\n     *\n     * @param\tpropertyName 对应已更改的属性名称\n     */\n    protected propertyChange(propertyName: string)\n    {\n    \tthis.systemEvent.emit(EventType.STATE, {\n    \t\tcode: this.getClassName(this) + this.PROPERTY_CHANGE,\n    \t\tlevel: EventLevel.STATUS,\n    \t\tdata: {name:propertyName, value:(<any> this)[propertyName]},\n    \t\t// message: 'mark:是否需要加详细的描述 打运行时日志 待定...'\n    \t});\n    }\n\n    /**\n     * 属性设置\n     * - 超出了对应支持的范围，上报此错误。\n     *\n     * @param\tpropertyName 属性名称\n     * @param\tsetValue 想要更改的值\n     */\n    protected propertyError(propertyName: string, setValue?: any)\n    {\n    \tthis.systemEvent.emit(EventType.STATE, {\n    \t\tcode: this.getClassName(this) + this.PROPERTY_SET_ERROR,\n    \t\tlevel: EventLevel.ERROR,\n    \t\tdata: {name:propertyName, value:setValue}\n    \t\t// message: 'mark:是否需要加详细的描述 打运行时日志 待定...'\n    \t});\n    }\n\n    public get info(): object {\n    \treturn {};\n    }\n\n    public output(ttl: string, obj: any) {\n        console.groupCollapsed(ttl);\n        for(const key in obj) {\n            console.log('%c' + key + ':', 'color: violet;', obj[key]);\n        }\n        console.groupEnd();\n    }\n\n\n    // Internals..\n    //\n\n    private createRandomIdentifier(length: number, radix: number = 61): string {\n    \tlet characters: Array<string> = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'];\n    \tlet id: Array<string> = [];\n    \tradix = (radix > 61) ? 61 : radix;\n    \twhile (length--) {\n    \t\tid.push(characters[this.randomIntegerWithinRange(0, radix)]);\n    \t}\n    \treturn id.join('');\n    }\n\n    private randomIntegerWithinRange(min: number, max: number): number {\n    \treturn Math.floor(Math.random() * (1 + max - min) + min);\n    }\n\n    private getClassName(value: any) {\n    \tlet regex = /function (.{1,})\\(/;\n    \tlet results = regex.exec((<any> value).constructor.toString());\n    \treturn (results && results.length > 1) ? results[1] : '';\n    }\n\n    private PROPERTY_CHANGE: string = '.Property.Changed';\n    private PROPERTY_SET_ERROR: string = '.Property.SetError';\n}\n","/**\n * 外部配置信息\n * - TODO:\n * 封装功能相关信息、参数配置 并提供默认值\n * 当有元素变化时 抛出事件\n * 当有元素异常时 抛出异常\n * - NOTE:\n * 初始化时虽然会抛出属性变化事件，但是vf并没初始化完成，不会受影响\n * 如需抛出更改之前的属性值，需要将事件改为先发 并带上老属性值和设置的value.\n * @author 8088\n */\nimport BaseInfo from './BaseInfo';\nimport {CDN, ScaleMode} from './model/IVFData';\nimport {IVFOptions} from '../IVFEngine';\nimport {Player} from '../Player';\nimport I18N from './I18N';\n\nexport default class Config extends BaseInfo {\n\n    private _container: HTMLElement;\n\n    public readonly uuid: number;\n\n    private _id: string;\n\n    private _src?: string;\n\n    private _play: boolean;\n\n    private _loop: boolean;\n\n    private _menu: boolean;\n\n    private _scaleMode?: ScaleMode;\n\n    private _align: string;\n\n    private _wmode: string;\n\n    private _bgcolor?: string;\n\n    private _vfvars: any = {};\n    \n    private _plugs: any[] = [];\n\n    private _frameRate: number;\n\n    private _width: number;\n\n    private _height: number;\n\n    private _orientation: string;\n\n    private _maxTouches: number;\n\n    private _showFPS: boolean;\n\n    private _showLog: boolean;\n\n    private _logAdvancedTrace: boolean;\n\n    private _conversionData: any;\n\n    private _debug: boolean;\n\n    private _language: string;\n\n    private _i18n: I18N;\n\n    public cdns: CDN;\n\n    constructor(options: IVFOptions) {\n        super();\n        this._container = options.container;\n        this.uuid = vf.utils.uid();\n        this._id = options.id || this.createRandomId();\n        this._src = options.src || undefined;\n        this._play = options.play === undefined ? true : Boolean(options.play);\n        this._loop = options.loop === undefined ? false : Boolean(options.loop);\n        this._menu = options.menu === undefined ? true : Boolean(options.menu);\n        this._scaleMode = options.scaleMode || undefined;\n        this._align = options.align || 'tl';\n        this._wmode = options.wmode || 'transparent';\n        this._bgcolor = options.bgcolor;\n        this._vfvars = options.vfvars || {};\n        this._frameRate = options.frameRate || 30;\n        this._width = options.width || 320;\n        this._height = options.height || 240;\n        this._orientation = options.orientation || 'auto';\n        this._maxTouches = options.maxTouches || 2;\n        this._showFPS = options.showFPS === undefined ? true : Boolean(options.showFPS);\n        this._showLog = options.showLog === undefined ? true : Boolean(options.showLog);\n        this._conversionData = options.conversionData;\n        this._debug = options.debug || false; \n        this._plugs = options.plugs || this._plugs;\n        this._logAdvancedTrace = options.logAdvancedTrace || false;\n        this.cdns = Array.isArray(options.vfvars.cdns) ? {default:options.vfvars.cdns} : options.vfvars.cdns;\n        if(this.cdns.image === undefined){\n            this.cdns.image = this.cdns.default.concat();\n        }\n        if(this.cdns.media === undefined){\n            this.cdns.media = this.cdns.default.concat();\n        }\n        if(this.cdns.wx === undefined){\n            this.cdns.wx = this.cdns.default.concat();\n        }\n        this._language = options.language || vf.utils.getSystemInfo().language;\n        this._i18n = new I18N(this._language);\n    }\n\n    public get container(): HTMLElement {\n        return this._container;\n    }\n\n    public set container(value: HTMLElement) {\n        if (this._container === value) { return; }\n        this._container = value;\n        this.propertyChange('container');\n    }\n\n    public get id(): string {\n        return this._id;\n    }\n\n    public set id(value: string) {\n        if (this._id === value) { return; }\n        this._id = value;\n        this.propertyChange('id');\n    }\n\n    public get src() {\n        return this._src;\n    }\n\n    public set src(value) {\n        if (this._src === value) { return; }\n        this._src = value;\n        this.propertyChange('src');\n    }\n\n    public get play(): boolean {\n        return this._play;\n    }\n\n    public set play(value: boolean) {\n        if (this._play === value) { return; }\n        this._play = value;\n        this.propertyChange('play');\n    }\n\n    public get loop(): boolean {\n        return this._loop;\n    }\n\n    public set loop(value: boolean) {\n        if (this._loop === value) { return; }\n        this._loop = value;\n        this.propertyChange('loop');\n    }\n\n    public get menu(): boolean {\n        return this._menu;\n    }\n\n    public set menu(value: boolean) {\n        if (this._menu === value) { return; }\n        this._menu = value;\n        this.propertyChange('menu');\n    }\n\n    public get scaleMode() {\n        return this._scaleMode;\n    }\n\n    public set scaleMode(value) {\n        if (this._scaleMode === value) { return; }\n        this._scaleMode = value\n        this.propertyChange('scaleMode');\n    }\n\n    public get align(): string {\n        return this._align;\n    }\n\n    public set align(value: string) {\n        if (this._align === value) { return; }\n        this._align = value;\n        this.propertyChange('align');\n    }\n\n    public get wmode(): string {\n        return this._wmode;\n    }\n\n    public set wmode(value: string) {\n        if (this._wmode === value) { return; }\n        this._wmode = value;\n        this.propertyChange('wmode');\n    }\n\n    public get bgcolor() {\n        return this._bgcolor;\n    }\n\n    public set bgcolor(value) {\n        if (this._bgcolor === value) { return; }\n        this._bgcolor = value;\n        this.propertyChange('bgcolor');\n    }\n\n    /**\n     * useNativeAudio : boolean\n     * cdns: string[]\n     */\n    public get vfvars() {\n        return this._vfvars;\n    }\n\n    public set vfvars(value) {\n        // if (_.isEmpty(value)) { return; }\n        // if (_.isEqual(this._vfvars, value)) { return; }\n        if(this._vfvars === value) { return; }\n        this._vfvars = value;\n        this.propertyChange('vfvars');\n    }\n\n    public get plugs() {\n        return this._plugs;\n    }\n    public set plugs(value) {\n        this._plugs = value;\n    }\n\n    public get frameRate(): number {\n        return this._frameRate;\n    }\n\n    public set frameRate(value: number) {\n        if (this._frameRate === value) { return; }\n        this._frameRate = value;\n        this.propertyChange('frameRate');\n    }\n\n    public get width(): number {\n        return this._width;\n    }\n\n    public set width(value: number) {\n        if (this._width === value) { return; }\n        this._width = value;\n        this.propertyChange('width');\n    }\n\n    public get height(): number {\n        return this._height;\n    }\n\n    public set height(value: number) {\n        if (this._height === value) { return; }\n        this._height = value;\n        this.propertyChange('height');\n    }\n\n    public get orientation(): string {\n        return this._orientation;\n    }\n\n    public set orientation(value: string) {\n        if (this._orientation === value) { return; }\n        this._orientation = value;\n        this.propertyChange('orientation');\n    }\n\n    public get maxTouches(): number {\n        return this._maxTouches;\n    }\n\n    public set maxTouches(value: number) {\n        if (this._maxTouches === value) { return; }\n        this._maxTouches = value;\n        this.propertyChange('maxTouches');\n    }\n\n    public get showFPS(): boolean {\n        return this._showFPS;\n    }\n\n    public set showFPS(value: boolean) {\n        if (this._showFPS === value) { return; }\n        this._showFPS = value;\n        this.propertyChange('showFPS');\n    }\n\n    public get showLog(): boolean {\n        return this._showLog;\n    }\n\n    public set showLog(value: boolean) {\n        if (this._showLog === value) { return; }\n        this._showLog = value;\n        this.propertyChange('showLog');\n    }\n\n    public set conversionData(value: string) {\n        if (this._conversionData === value) { return; }\n        this._conversionData = value;\n        this.propertyChange('conversionData');\n    }\n    \n    public get conversionData() {\n        return this._conversionData;\n    }\n\n    public set debug(value: boolean) {\n        if (this._debug === value) { return; }\n        this._debug = value;\n        this.propertyChange('debug');\n    }\n\n    public get debug() {\n        return this._debug;\n    }\n\n    public set logAdvancedTrace(value: boolean) {\n        if (this._logAdvancedTrace === value) { return; }\n        this._logAdvancedTrace = value;\n        this.propertyChange('logAdvancedTrace');\n    }\n\n    public get logAdvancedTrace() {\n        return this._logAdvancedTrace;\n    }\n\n    public get language(): string {\n        return this._language;\n    }\n\n    public set language(value: string) {\n        if (this._language === value) { return; }\n        this._language = value;\n        this.propertyChange('language');\n    }\n\n    public get i18n(): I18N {\n        return this._i18n;\n    }\n\n    public get info(): object {\n        return {\n            container: this.container,\n            id: this.id,\n            src: this.src,\n            play: this.play,\n            loop: this.loop,\n            menu: this.menu,\n            scaleMode: this.scaleMode,\n            align: this.align,\n            wmode: this.wmode,\n            bgcolor: this.bgcolor,\n            vfvars: this.vfvars,\n            plugs: this.plugs,\n            frameRate: this.frameRate,\n            width: this.width,\n            height: this.height,\n            orientation: this.orientation,\n            maxTouches: this.maxTouches,\n            showFPS: this.showFPS,\n            showLog: this.showLog,\n            logAdvancedTrace: this.logAdvancedTrace,\n            conversionData: this.conversionData,\n            debug: this.debug,\n            language: this.language,\n            i18n: this.i18n.info,\n        };\n    }\n}\n","/**\n * 国际化\n * - TODO:\n * 1、根据配置/默认载入对应语言数据并初始化\n * 2、外部统一通过i18n实例接口 通过 key 取信息, 支持批量取\n * 3、支持语言切换\n * @author 8088\n */\nimport BaseInfo from './BaseInfo';\nimport { readFileSyncExt } from '../utils/readFileSync';\nimport IEvent from '../event/IEvent';\nimport { VFStateCode } from './model/IVFData';\nimport { stringFormat } from '../utils/VFUtil';\nexport default class I18N extends BaseInfo {\n    private readonly lang: string = '';\n\n    private _data: any;\n\n    private _readyState: VFStateCode = VFStateCode.INIT;\n\n    constructor(language: string) {\n        super();\n        this.lang = language.toLocaleLowerCase();\n        if (this.lang.indexOf('en') !== -1) {\n            this.lang = 'en-us';\n        }\n        else {\n            this.lang = 'zh-cn';\n        }\n    }\n\n    public get readyState(): VFStateCode {\n        return this._readyState;\n    }\n    public set readyState(value) {\n        this._readyState = value;\n    }\n\n    public get info(): object {\n        return ['zh-CN', 'en-US'];\n    }\n\n    public t(key: string, param?: string[]): string {\n        const data = this._data;\n\n        if (data && data[key]) {\n            return stringFormat(data[key].message.toString(), param);\n        }\n\n        return `This message code[${key}] is not defined. \\n JSON = ${JSON.stringify(param)}`;\n    }\n\n    public async load(cdns: string[], onError: (err: any) => void): Promise<boolean> {\n        if (this.lang && this._readyState !== VFStateCode.READY) {\n            let url = '';\n\n            if (process.env.NODE_ENV === 'production') {\n                url = `vf/engine/i18n/${this.lang}.json?v=2`;\n            }\n            else {\n                url = `packages/i18n/${this.lang}.json`;\n            }\n            this._data = await readFileSyncExt(url, cdns, { responseType: 'json' }).catch((value: IEvent) => {\n                onError(value);\n            });\n            if (this._data) {\n                this._readyState = VFStateCode.READY;\n\n                return true;\n            }\n        }\n\n        return false;\n    }\n}\n","/* eslint-disable no-undef */\n/* eslint-disable no-unused-vars */\nimport {\n    IVFDataV1, IAsset, IAssetFail, IScene, ComponentType, ICustomComponent, IDisplayComponent,\n    AssetType, SceneEvent, IAction, ActionType, IActionDefineVariable, AllAction,\n} from './model/IVFData';\nimport { VFStage } from '../display/VFStage';\nimport { VFScene } from '../display/VFScene';\nimport { VariableManager } from './VariableManager';\nimport { VFComponent } from '../display/VFComponent';\nimport { ActionList } from './actionTask/ActionList';\nimport { Animation } from './animation/Animation';\nimport { EventLevel } from '../event/EventLevel';\nimport { getAssetType } from '../../../assets/Assets';\nimport { AssetsType } from '../../../assets/IAssets';\nimport importScript from '../utils/ImportScript';\nimport IEvent from '../event/IEvent';\nimport { getUrl } from '../utils/getUrl';\n\nexport class RES extends vf.utils.EventEmitter {\n    public pixiResources: { [id: string]: vf.LoaderResource } = {};\n\n    public data: IVFDataV1 = null as any;\n    public vfActions: IAction[] = [];\n    private stage: VFStage;\n\n    private _resources: IAsset[] = [];\n    private _sceneMap: { [id: string]: VFScene } = {};\n    private _loadNum = 0;\n    private _loader?: vf.Loader;\n    private _assetFails = new Map<string, IAssetFail>();\n\n    constructor(stage: VFStage) {\n        super();\n        vf.gui.Utils.setSourcePath(this.getImageAsset.bind(this) as any);\n        vf.gui.Utils.setDisplayObjectPath(this.getDisplayObject.bind(this) as any);\n        this.stage = stage;\n    }\n\n    public destroy(): void {\n        if (this.pixiResources) {\n            for (const id in this.pixiResources) {\n                if (this.pixiResources[id]) {\n                    const resource = this.pixiResources[id];\n\n                    if (resource.texture) {\n                        resource.texture.destroy(true);\n                        delete this.pixiResources[id];\n                    }\n                    else if ((resource as any).sound) {\n                        if ((resource as any).sound.media) {\n                            (resource as any).sound.destroy();\n                        }\n                        delete this.pixiResources[id];\n                    }\n                }\n            }\n        }\n        vf.utils.destroyTextureCache();\n        vf.utils.clearTextureCache();\n        if (this._loader) {\n            this._loader.destroy();\n        }\n        this.stage = undefined as any;\n        this._sceneMap = {};\n    }\n    public addResource(asset: IAsset): void {\n        this._resources.push(asset);\n    }\n\n    public async loadData(data: IVFDataV1): Promise<void> {\n        this.data = data;\n        if (this.data && this.data.assets) {\n            await this.loadAllScript(); // 先加载脚本 loadAllAsset 非同步，后续单独提取assets同步加载，此处js并不算入进度\n            await this.loadAllAsset();\n        }\n        else {\n            this.emit(SceneEvent.LoadComplete, null);\n        }\n    }\n\n    public createFirstScene(vfStage: VFStage): VFScene | null {\n        this.initGlobalVariable();\n        if (this.data.scenes && this.data.scenes.length > 0) {\n            return this.createScene(this.data.scenes[0].id, vfStage);\n        }\n\n        return null;\n    }\n\n    public createNextScene(curId: string, vfStage: VFStage): VFScene | null {\n        const nextSceneData = this.getNextSceneData(curId);\n\n        if (nextSceneData) {\n            return this.createScene(nextSceneData.id, vfStage);\n        }\n\n        return null;\n    }\n\n    public createPrevScene(curId: string, vfStage: VFStage): VFScene | null {\n        const nextSceneData = this.getPrevSceneData(curId);\n\n        if (nextSceneData) {\n            return this.createScene(nextSceneData.id, vfStage);\n        }\n\n        return null;\n    }\n\n    public createScene(id: string, vfStage: VFStage): VFScene | null {\n        const sceneData = this.getSceneData(id);\n\n        if (sceneData) {\n            let vfScene: VFScene = this._sceneMap[id];\n\n            if (vfScene == null) {\n                vfScene = new VFScene(vfStage);\n                vfScene.transition = sceneData.transition;\n            }\n            vfScene.id = id;\n            this._sceneMap[id] = vfScene;\n            if (sceneData.libId) {\n                const scene: VFComponent = this.createComponent(sceneData.libId, sceneData.id) as any;\n\n                if (scene) {\n                    scene.width = vfStage.width;\n                    scene.height = vfStage.height;\n                    vfScene.addComponent(scene);\n                }\n            }\n\n            return vfScene;\n        }\n\n        return null;\n    }\n\n    public getImageAsset(index: number | string): vf.Texture | string | undefined {\n        // base64\n        if (index.toString().substr(0, 4) === 'data') {\n            return index.toString();\n        }\n\n        const resource = this.getAsset(index);\n\n        if (resource) {\n            const assetData = this.data.assets[index];\n\n            switch (assetData.type) {\n                case AssetType.IMAGE:\n                    return resource.texture as vf.Texture;\n                case AssetType.SHEET:\n                    return resource.spritesheet;\n                default:\n                    return resource;\n            }\n        }\n\n        return undefined;\n    }\n\n    public getDisplayObject(id: string, target?: vf.gui.DisplayObject): any | undefined {\n        if (id == undefined) {\n            return undefined;\n        }\n        // 单独写组件ID为创建一个组件复制到显示对象，如果是从场景ID - ID - ID为查找\n        if (id.toString().substr(0, 4) === 'this' && target && target.parent instanceof VFComponent) {\n            const childIds = id.split('#');\n\n            childIds.shift();\n            let child = target.parent as VFComponent;\n\n            while (childIds.length > 0 && child) {\n                const id = childIds.shift() as string;\n\n                child = child.getChildById(id) as VFComponent;\n            }\n            if (child) {\n                return child;\n            }\n            this.stage.systemEvent.emitError('E0006', [id], EventLevel.WARNING);\n\n            return undefined;\n        }\n\n        return this.creategui(id);\n    }\n\n    public getAsset(index: number | string): any {\n        const assetData = this.data.assets[index];\n\n        if (assetData === undefined || assetData.id == null) {\n            this.stage.systemEvent.emitError('E0003', [index], EventLevel.WARNING);\n\n            return undefined;\n        }\n\n        return this.pixiResources[assetData.id.toString()];\n    }\n\n    private async loadAllScript(): Promise<void> {\n        const assets = this.data.assets;\n        const cdns = this.stage.config.cdns;\n        let assetsItem: IAsset;\n\n        for (const id in assets) {\n            assetsItem = assets[id];\n            if (assetsItem && assetsItem.type === AssetType.JS && assetsItem.name) {\n                const cls = await importScript(assetsItem.url, cdns, assetsItem.name).catch((e: IEvent) => {\n                    this.stage.systemEvent.error(e);\n                });\n\n                if (cls) {\n                    if (cls.isFilter) {\n                        vf.gui.Filter.list.set(assetsItem.name, cls); // 添加到滤镜列表\n                    }\n                }\n            }\n        }\n    }\n\n    private async loadAllAsset(): Promise<void> {\n        const assets = this.data.assets;\n        let assetsItem: IAsset;\n\n        for (const id in assets) {\n            if (assets[id]) {\n                assetsItem = assets[id];\n                if (assetsItem === undefined || assetsItem.type === undefined || assetsItem.url === undefined) {\n                    this.stage.systemEvent.emitError('E0001', [id]);\n                    continue;\n                }\n                if (assetsItem.url === '') {\n                    this.stage.systemEvent.emitError('E0003', [id], EventLevel.WARNING);\n                    continue;\n                }\n                if (assetsItem.type === AssetType.AUDIO && this.stage.config.vfvars.useNativeAudio) {\n                    this.stage.systemEvent.emitError('S0004', [id], EventLevel.WARNING);\n                    continue;\n                }\n                if (assetsItem.type === AssetType.JS) {\n                    continue;\n                }\n                assetsItem.id = id;\n                this.addResource(assets[id]);\n            }\n        }\n        this.loadResources();\n    }\n\n    private initGlobalVariable(): void {\n        if (this.data.global) {\n            this.stage.variableManager.addVariableConfig(VariableManager.GLOBAL_ID, this.data.global);\n            this.stage.variableManager.addVariableToGlobal(this.data.global);\n        }\n        if (this.vfActions) {\n            for (let i = 0, len: number = this.vfActions.length; i < len; i++) {\n                const action = this.vfActions[i];\n\n                if (action && action.type === ActionType.DefineVariable) {\n                    const defAction: IActionDefineVariable = action as IActionDefineVariable;\n\n                    this.stage.variableManager.addVariableDataToGlobal(defAction.varId,\n                        defAction.variableType,\n                        defAction.value);\n                }\n            }\n        }\n    }\n    private getSceneData(id: string): IScene | null {\n        if (this.data.scenes) {\n            for (let i = 0, len: number = this.data.scenes.length; i < len; i++) {\n                if (this.data.scenes[i].id === id) {\n                    return this.data.scenes[i];\n                }\n            }\n        }\n\n        return null;\n    }\n    private getNextSceneData(curId: string): IScene | null {\n        if (this.data.scenes) {\n            for (let i = 0, len: number = this.data.scenes.length; i < len; i++) {\n                if (this.data.scenes[i].id === curId) {\n                    if (i < len - 1) {\n                        return this.data.scenes[i + 1];\n                    }\n                }\n            }\n        }\n\n        return null;\n    }\n    private getPrevSceneData(curId: string): IScene | null {\n        if (this.data.scenes) {\n            for (let i = 0, len: number = this.data.scenes.length; i < len; i++) {\n                if (this.data.scenes[i].id === curId) {\n                    if (i > 0) {\n                        return this.data.scenes[i - 1];\n                    }\n                }\n            }\n        }\n\n        return null;\n    }\n\n    private createComponent(libId: string, id: string): vf.gui.DisplayObject | null {\n        const componentData = this.data.components[libId] as ICustomComponent;\n        let component: vf.gui.DisplayObject | null = null;\n\n        if (componentData) {\n            switch (componentData.type) {\n                case ComponentType.Custom:\n                    component = this.createCustomComponent(libId, id);\n                    if (componentData.interactabled !== undefined) {\n                        component.interactabled = componentData.interactabled; // 性能优化，有部分业务，并不需要自定义组件有事件功能，可提前禁用\n                    }\n                    break;\n                default:\n                    component = this.creategui(libId);\n                    break;\n            }\n        }\n\n        return component;\n    }\n\n    private creategui(id: string): vf.gui.DisplayObject | null {\n        const componentData = this.data.components[id] as ICustomComponent;\n\n        if (!componentData) {\n            return null;\n        }\n        const type: any = componentData.type;\n        // tslint:disable-next-line: new-parens\n        let ui: any;\n\n        try {\n            const cls = vf.gui.Utils.getGuiClass(type);\n\n            ui = new cls();\n        }\n        catch (e) {\n            this.stage.systemEvent.emitError('E0004', [id]);\n            throw new Error(`guiNamespace['${type}'] === undefined`);\n        }\n        if (ui) {\n            for (const key in componentData) {\n                if (key in componentData) {\n                    switch (key) {\n                        case 'id':\n                            // tslint:disable-next-line: no-string-literal\n                            ui.libId = componentData[key];\n                            break;\n                        case 'name':\n                            // tslint:disable-next-line: no-string-literal\n                            ui.libName = componentData[key];\n                            break;\n                        case 'type':\n                        case 'children':\n                        case 'animations':\n                        case 'actions':\n                        case 'libs':\n                            break;\n                        default:\n                            ui[key] = (componentData as any)[key];\n                            break;\n                    }\n                }\n            }\n        }\n\n        return ui;\n    }\n    private createCustomComponent(libId: string, id: string): vf.gui.Container {\n        const componentData = this.data.components[libId];\n        const customData = componentData as ICustomComponent;\n        const vfComponent: VFComponent = new VFComponent();\n\n        vfComponent.name = customData.name;\n        vfComponent.libId = libId;\n        vfComponent.id = id;\n\n        if (customData.props) {\n            this.stage.variableManager.addVariableConfig(libId.toString(), customData.props);\n            this.stage.variableManager.addVariableToComponent(vfComponent);\n        }\n\n        if (customData.children) {\n            for (let i = 0, len: number = customData.children.length; i < len; i++) {\n                const childData: any = customData.children[i];\n\n                if ('libId' in childData) {\n                    const childComponentData = this.data.components[childData.libId] as ICustomComponent;\n                    const child = this.createComponent(childData.libId, childData.id);\n\n                    if (child) {\n                        switch (childComponentData.type) {\n                            default:\n                                this.applyDisplayComponentProperty(child, childData);\n                                break;\n                        }\n                        vfComponent.addChild(child);\n                    }\n                }\n            }\n        }\n        if (customData.actionList && customData.actionList !== '') {\n            const actionList = new ActionList(vfComponent, customData.actionList);\n\n            vfComponent.actionList = actionList;\n        }\n        else if (libId !== undefined) {\n            const actions = this.getVfsByComponentId(libId.toString());\n\n            if (actions) {\n                const actionList = new ActionList(vfComponent, actions);\n\n                vfComponent.actionList = actionList;\n            }\n        }\n        if (customData.animations) {\n            const animation = new Animation(vfComponent, customData.animations, this.data.fps);\n\n            vfComponent.animation = animation;\n        }\n\n        return vfComponent;\n    }\n\n    private applyDisplayComponentProperty(display: vf.gui.DisplayObject, data: IDisplayComponent): void {\n        for (const key in data) {\n            if (key in data) {\n                switch (key) {\n                    // case 'id':\n                    // case 'name':\n                    case 'libId':\n                    case 'type':\n                    case 'children':\n                    case 'animations':\n                    case 'actions':\n                        break;\n                    default:\n                        if (key.indexOf('filter') === 0) {\n                            this.applyFilter(display, key, (data as any)[key]);\n                        }\n                        else {\n                            (display as any)[key] = (data as any)[key];\n                        }\n                        break;\n                }\n            }\n        }\n    }\n\n    private applyFilter(display: vf.gui.DisplayObject, filterKey: string, value: any): void {\n        const filterKeys = filterKey.split('.');\n        let target = display as any;\n\n        for (let i = 0, len: number = filterKeys.length; i < len - 1; i++) {\n            const curkey = filterKeys[i];\n\n            if (target && target[curkey]) {\n                target = target[curkey];\n            }\n        }\n        if (target) {\n            target[filterKeys[filterKeys.length - 1]] = value;\n        }\n    }\n\n    private loadResources(): void {\n        if (this._loader === undefined) {\n            this._loader = new vf.Loader();\n        }\n        const loader = this._loader;\n        const urls: any = {};\n\n        this._loadNum = 0;\n\n        for (let i = 0, len: number = this._resources.length; i < len; i++) {\n            const res = this._resources[i];\n            const id = res.id === undefined ? 'undefined' : res.id.toString();\n\n            if (urls[res.url]) {\n                urls[res.url].push(res.id);\n                continue;\n            }\n\n            if (res.type === 'audio') {\n                // 微信wechat不能直接加载audio类型\n                // eslint-disable-next-line max-len\n                loader.add(id, getUrl(res.url, this.data.baseUrl), { loadType: vf.LoaderResource.LOAD_TYPE.XHR, xhrType: 'arraybuff' });\n            }\n            else {\n                loader.add(id, getUrl(res.url, this.data.baseUrl));\n            }\n\n            urls[res.url] = [id];\n        }\n        let progressId = 0;\n        let completeId = 0;\n        let errorId = 0;\n\n        progressId = loader.onProgress.add((loader2: vf.Loader, resources: any) => {\n            this._loadNum++;\n            this.emit(SceneEvent.LoadProgress, [loader2.progress, this._loadNum, this._resources.length, resources]);\n        });\n        completeId = loader.onComplete.add((loader2: vf.Loader, resources: any) => {\n            this.pixiResources = resources;\n            if (!this.loadFailResources()) {\n                for (const key in urls) {\n                    const id = urls[key].shift();\n\n                    while (urls[key].length > 0) {\n                        this.pixiResources[urls[key].shift()] = resources[id];\n                    }\n                }\n                loader.onComplete.detach(progressId);\n                loader.onComplete.detach(completeId);\n                loader.onComplete.detach(errorId);\n                this.emit(SceneEvent.LoadComplete, [loader2, resources]);\n            }\n        });\n        errorId = loader.onError.add((error: Error, loader2: vf.Loader, loaderResource: vf.LoaderResource)=>{\n            const assetFail = this._assetFails.get(loaderResource.name);\n\n            if (assetFail) {\n                if (assetFail.count >= 4) {\n                    this._assetFails.delete(loaderResource.name);\n                    this.stage.systemEvent.emitError('404', [loaderResource.url]);\n                }\n                assetFail.count++;\n            }\n            else {\n                this._assetFails.set(loaderResource.name, { id: loaderResource.name,\n                    url: loaderResource.url,\n                    extension: loaderResource.extension, count: 1 });\n            }\n        });\n        loader.load();\n    }\n\n    /** */\n    private loadFailResources(): boolean {\n        if (this._loader === undefined) {\n            return false;\n        }\n\n        if (this._assetFails.size <= 0) {\n            return false;\n        }\n        const loader = this._loader;\n        const cdns = this.stage.config.cdns;\n\n        this._assetFails.forEach((res) => {\n            const type = getAssetType(res.extension);\n            let cdn: any[];\n\n            switch (type) {\n                case AssetsType.Image:\n                    cdn = cdns.image;\n                    break;\n                case AssetsType.Audio:\n                case AssetsType.Video:\n                    cdn = cdns.media;\n                    break;\n                default:\n                    cdn = cdns.default;\n            }\n            let url = cdn[(res.count - 1) % cdn.length];\n\n            if (res.url.indexOf('http') !== -1 || res.url.indexOf('//') === 0) {\n                url += res.url.substr(res.url.indexOf('/', res.url.indexOf('.')));\n            }\n            else {\n                url += res.url;\n            }\n            delete loader.resources[res.id];\n            loader.add(res.id, url);\n        });\n\n        return true;\n    }\n\n    private getVfsByComponentId(libId: string): AllAction[] | undefined {\n        if (this.vfActions) {\n            for (let i = 0, len: number = this.vfActions.length; i < len; i++) {\n                const action = this.vfActions[i];\n\n                if (action && action.type === ActionType.ActionList && action.value === libId) {\n                    return action.execute;\n                }\n            }\n        }\n\n        return undefined;\n    }\n}\n\n","import { IVariableData, ExpressItem, ExpressType, ExpressItemType, \n         SystemValueType, VariableType, VariableDataValue } from './model/IVFData';\nimport { FunctionTask } from './actionTask/FunctionTask';\nimport { VFComponent } from '../display/VFComponent';\nimport { getTargetComponent, isObject, isArray, isNumber, isBoolean, isString } from '../utils/VFUtil';\nimport { EventLevel } from '../event/EventLevel';\n\nexport class VariableManager {\n\n        public static GLOBAL_ID: string = 'global';\n\n        public static OPERATE_PRIORITY = {\n            '*' : 100,\n            '/' : 99,\n            '%' : 98,\n            '+' : 97,\n            '-' : 96,\n            '>=' : 95,\n            '<=' : 94,\n            '>' : 93,\n            '<' : 92,\n            '==' : 91,\n            '===' : 91,\n            '!=' : 90,\n            '!==' : 90,\n            '!' : 89,\n            '&&' : 88,\n            '||' : 87,\n            '=' : 86,\n        };\n\n        public variableConfig: {[id: string]: {[vid: string]: IVariableData}} = {};\n        public variableMap: {[id: string]: {[vid: string]: IVariableData}} = {};\n\n        private runFunctionId: number = 0;\n        private functionMap: {[name: string]: FunctionTask} = {};\n\n        constructor() {\n            //\n        }\n\n\n        /**\n         * Fisher-Yates shuffle\n         * @param arr \n         */\n        public shuffle(arr: any[]): void {\n            for (let i = arr.length - 1; i >= 0; i--) {\n                const randomIndex = Math.floor(Math.random() * (i + 1));\n                const itemAtIndex = arr[randomIndex];\n                arr[randomIndex] = arr[i];\n                arr[i] = itemAtIndex;\n            }\n        }\n        public clear(): void {\n            this.variableMap = {};\n            this.functionMap = {};\n        }\n        public getFunctionId(): number {\n            return ++this.runFunctionId;\n        }\n        \n        public getFunctionTask(name: string): FunctionTask {\n            return this.functionMap[name];\n        }\n\n        public setFunctionTask(name: string, task: FunctionTask): void {\n            this.functionMap[name] = task;\n        }\n\n        public addVariableConfig(id: string, variableData: {[id: string]: IVariableData}): void {\n            if (!this.variableConfig[id]) {\n                const normalConfig = this.normalizeVariableConfig(variableData);\n                this.variableConfig[id] = normalConfig;\n            }\n        }\n\n        public normalizeVariableConfig(variableData: {[id: string]: VariableDataValue}): {[id: string]: IVariableData} {\n            for (const id in variableData) {\n                if (variableData.hasOwnProperty(id)) {\n                    const v = variableData[id];\n                    const varV = this.createIVariableData(id, v);\n                    variableData[id] = varV;\n                }\n            }\n            return variableData;\n        }\n\n        public addVariableToGlobal(variableData: {[id: string]: IVariableData}): void {\n            const globalId: string = VariableManager.GLOBAL_ID;\n            this.variableMap[globalId] = this.deepCopy(variableData);\n\n            if (this.variableConfig[globalId]) {\n                const variables = this.variableConfig[globalId];\n                this.variableMap[globalId] = this.deepCopy(variables);\n            } else {\n                this.addVariableConfig(globalId, variableData);\n                if (this.variableConfig[globalId]) {\n                    const variables = this.variableConfig[globalId];\n                    this.variableMap[globalId] = this.deepCopy(variables);\n                } \n            }\n        }\n\n        public addVariableToComponent(component: VFComponent): void {\n            const libId = component.libId;\n            if (libId) {\n                if (this.variableConfig[libId.toString()]) {\n                    const variables = this.variableConfig[libId.toString()];\n                    this.variableMap[component.id.toString()] = this.deepCopy(variables);\n                }\n            }\n        }\n        \n        public addVariableDataToComponent(component: VFComponent, varId: string, type: VariableType, data: any): void {\n            const libId = component.libId;\n            const compId = component.id;\n            this.addVariable(libId, compId, varId, type, data);\n        }\n        public addVariableDataToGlobal(varId: string, type: VariableType, data: any): void {\n            this.addVariable(VariableManager.GLOBAL_ID, VariableManager.GLOBAL_ID, varId, type, data);\n        }\n            \n        public addVariable(libId: string, targetId: string, varId: string, type: VariableType, data: any): void {\n            const variableData: IVariableData = {\n                id: varId,\n                type,\n                value: data,\n            };\n            const variable2: IVariableData = {\n                id: varId,\n                type,\n                value: data,\n            };\n\n            let globalVarConfig = this.variableConfig[libId];\n            if (!globalVarConfig) {\n                globalVarConfig = {};\n                this.variableConfig[libId] = globalVarConfig;\n            }\n            globalVarConfig[varId] = variableData;\n            \n            let globalVarMap = this.variableMap[targetId];\n            if (!globalVarMap) {\n                globalVarMap = {};\n                this.variableMap[targetId] = globalVarMap;\n            }\n            globalVarMap[varId] = variable2;\n        }\n\n        public getGlobalVariable(id: string): IVariableData | undefined {\n            return this.getVariable(VariableManager.GLOBAL_ID, id);\n        }\n        public getVariable(hasCode: string, id: string): IVariableData | undefined {\n            const varData: {[id: string]: IVariableData} = this.variableMap[hasCode];\n            if (varData && varData[id]) {\n                return varData[id];\n            }\n        }\n        public getVariableByData(component: VFComponent, expressItem: ExpressItem): IVariableData | undefined {\n            if (expressItem[0] === ExpressItemType.PARAM_VALUE) {\n                return this.getVariable(VariableManager.GLOBAL_ID, expressItem[2]);\n            }\n            const varComponent: VFComponent  = getTargetComponent(component, expressItem[1]) as VFComponent;\n            const hashCode = varComponent ? varComponent.id.toString() : VariableManager.GLOBAL_ID;\n            const varItem = this.getVariable(hashCode, expressItem[2]);\n            return varItem;\n        }\n\n        public caculateExpress(component: VFComponent, express: ExpressType): any {\n            const stackOut: ExpressType = [];\n            const stackOperate: ExpressType = [];\n            for (let i: number = 0, len: number = express.length; i < len; i++) {\n                const expressItem = express[i];\n                switch (expressItem[0]) {\n                    case ExpressItemType.CONST:\n                    case ExpressItemType.VARIABLE:\n                    case ExpressItemType.STSTEN:\n                    case ExpressItemType.RANDOM:\n                    case ExpressItemType.PROPERTY:\n                    case ExpressItemType.ARRAY_LEN:\n                    case ExpressItemType.ARRAY_VALUE:\n                    case ExpressItemType.OBJECT_VALUE:\n                    case ExpressItemType.PARAM_VALUE:\n                    case ExpressItemType.ARRAY_FUNCTION:\n                    case ExpressItemType.COMPONENT:\n                        stackOut.push(expressItem);\n                        break;\n                    case ExpressItemType.OPERATION:\n                        switch (expressItem[1]) {\n                            case '(':\n                                stackOperate.push(expressItem);\n                                break;\n                            case ')':\n                                let v = stackOperate.pop();\n                                while ( v && v[1] !== '(') {\n                                    stackOut.push(v);\n                                    v = stackOperate.pop();\n                                }\n                                break;\n                            default:\n                                const operateStr = expressItem[1];\n                                const curPriority = (VariableManager.OPERATE_PRIORITY as any)[operateStr];\n                                if (!curPriority) {\n                                    // can not support this operation:\n                                    this.emitError(component, 'E1001', [operateStr], EventLevel.WARNING);\n                                    return 0;\n                                } else {\n                                    if (stackOperate.length > 0) {\n                                        let topOperate = stackOperate[stackOperate.length - 1];\n                                        let topOperatePriority = \n                                            (VariableManager.OPERATE_PRIORITY as any)[topOperate[1]];\n                                        if (curPriority > topOperatePriority) {\n                                            stackOperate.push(expressItem);\n                                        } else {\n                                            while (curPriority < topOperatePriority) {\n                                                stackOut.push(topOperate);\n                                                stackOperate.pop();\n                                                if (stackOperate.length > 0) {\n                                                    topOperate = stackOperate[stackOperate.length - 1];\n                                                    topOperatePriority = \n                                                        (VariableManager.OPERATE_PRIORITY as any)[topOperate[1]];\n                                                } else {\n                                                    break;\n                                                }\n                                            }\n                                            stackOperate.push(expressItem);\n                                        }\n                                    } else {\n                                        stackOperate.push(expressItem);\n                                    }\n                                }\n                                break;\n                        }\n                        break;\n                    default:\n                        break;\n                }\n            }\n            if (stackOperate.length > 0) {\n                while (stackOperate.length > 0) {\n                    const operateStr = stackOperate.pop();\n                    if (operateStr) {\n                        stackOut.push(operateStr);\n                    }\n                }\n            }\n            const value = this.caculateExpressValue(component, stackOut);\n            return value;\n        }\n        public getExpressItemValue(component: VFComponent, expressItem: ExpressItem): any {\n            let result: any;\n            switch (expressItem[0]) {\n                case ExpressItemType.CONST:\n                    result = (expressItem[1]);\n                    break;\n                case ExpressItemType.VARIABLE:\n\n                    const varItem = this.getVariableByData(component, expressItem);\n                    if (varItem) {\n                        result = (varItem.value);\n                    } else {\n                        this.emitError(component, 'E1002', [expressItem.join(',')], EventLevel.WARNING);\n                        // can not find variable:\n                    }\n                    \n                    break;\n                case ExpressItemType.STSTEN:\n                    const curDate = new Date();\n                    let systemValue = 0;\n                    switch (expressItem[1]) {\n                        case SystemValueType.TIME:\n                            systemValue = curDate.getTime();\n                            break;\n                        case SystemValueType.YEAR:\n                            systemValue = curDate.getFullYear();\n                            break;\n                        case SystemValueType.MONTH:\n                            systemValue = curDate.getMonth();\n                            break;\n                        case SystemValueType.DAY:\n                            systemValue = curDate.getDay();\n                            break;\n                        case SystemValueType.DATE:\n                            systemValue = curDate.getDate();\n                            break;\n                        default:\n                            break;\n                    }\n                    result = (systemValue);\n                    break;\n                case ExpressItemType.RANDOM:\n                    let randomValue = 0;\n                    if (expressItem.length >= 3) {\n                        const min = expressItem[1];\n                        const max = expressItem[2];\n                        randomValue = Math.round(Math.random() * (max - min)) + min;\n                    } else {\n                        randomValue = Math.random();\n                    }\n                    result = (randomValue);\n                    break;\n                case ExpressItemType.COMPONENT:\n                    const targetArr0 = expressItem[1];\n                    const targetComponent0 = getTargetComponent(component, targetArr0);\n                    result = targetComponent0;\n                    break;\n                case ExpressItemType.PROPERTY:\n                    const targetArr = expressItem[1];\n                    const targetProperty = expressItem[2];\n                    const targetComponent = getTargetComponent(component, targetArr);\n                    if (targetComponent) {\n                        result = (targetComponent as any)[targetProperty];\n                    }\n                    break;\n                case ExpressItemType.ARRAY_LEN:\n                    const arrItem = this.getVariableByData(component, expressItem);\n                    if (arrItem) {\n                        result = (arrItem.value.length);\n                    } else {\n                        this.emitError(component, 'E1002', [expressItem.join(',')], EventLevel.WARNING);\n                        // can not find variable:\n                    }\n                    break;\n                case ExpressItemType.ARRAY_VALUE:\n                    // expressItem 0:type, 1:componentId, 2: variableId, 3: index, 4?: property\n                    const arrItem1 = this.getVariableByData(component, expressItem);\n                    if (arrItem1) {\n                        const arr = arrItem1.value;\n                        let index: number = expressItem[3];\n                        if (Array.isArray(index)) {\n                            const indexVar = this.getExpressItemValue(component, index);\n                            if (isNumber(indexVar) ) {\n                                index = indexVar;\n                            } else {\n                                // can not find array index by variable:\n                                this.emitError(component, 'E1003', [index], EventLevel.WARNING);\n                                index = 0;\n                            }\n                        }\n                        result = arr[index];\n                        if (expressItem.length >= 5 && result) {\n                            result = result[expressItem[4]]; \n                        } \n                    } else {\n                        this.emitError(component, 'E1002', [expressItem.join(',')], EventLevel.WARNING);\n                        // can not find variable:\n                        \n                    }\n                    break;\n                case ExpressItemType.ARRAY_FUNCTION:\n                    const arrItem2 = this.getVariableByData(component, expressItem);\n                    if (arrItem2) {\n                        if (Array.isArray(arrItem2.value)) {\n                            const targetArray: any[] = arrItem2.value;\n                            switch (expressItem[3]) {\n                                case 'pop': // [10, [], 'arr', 'pop']\n                                    result = targetArray.pop();\n                                    break;\n                                case 'push': // [10, [], 'arr', 'push', [0, 4]]\n                                    if (expressItem.length > 4) {\n                                        const pushTarget = this.getExpressItemValue(component, expressItem[4]);\n                                        result = targetArray.push(pushTarget);\n                                    }\n                                    break;\n                                case 'shift': // [10, [], 'arr', 'shift']\n                                    result = targetArray.shift();\n                                    break;\n                                case 'unshift': // [10, [], 'arr', 'unshift', [0, 4]]\n                                    if (expressItem.length > 4) {\n                                        const unshiftTarget = this.getExpressItemValue(component, expressItem[4]);\n                                        result = targetArray.unshift(unshiftTarget);\n                                    }\n                                    break;\n                                case 'concat': // [10, [], 'arr', 'concat', [0, [1,2]]]\n                                    if (expressItem.length > 3) {\n                                        if (expressItem.length > 4) {\n                                            const concatTarget = this.getExpressItemValue(component, expressItem[4]);\n                                            result = targetArray.concat(concatTarget);\n                                        } else {\n                                            result = targetArray.concat();\n                                        }\n                                    }\n                                    break;\n                                case 'splice': // [10, [], 'arr', 'splice', [0, 1], [0,1] => $arr.splice(1,1);\n                                    if (expressItem.length === 5) {\n                                        const startValue = this.getExpressItemValue(component, expressItem[4]);\n                                        result = targetArray.splice(startValue);\n                                    } else if (expressItem.length === 6) {\n                                        const startValue = this.getExpressItemValue(component, expressItem[4]);\n                                        const deleteCount = this.getExpressItemValue(component, expressItem[5]);\n                                        result = targetArray.splice(startValue, deleteCount);\n                                    } else if (expressItem.length > 6) {\n                                        const startValue = this.getExpressItemValue(component, expressItem[4]);\n                                        const deleteCount = this.getExpressItemValue(component, expressItem[5]);\n                                        const addValue = this.getExpressItemValue(component, expressItem[6]);\n                                        result = targetArray.splice(startValue, deleteCount, addValue);\n                                    }\n                                    break;\n                                default:\n                                    // array has not function: \n                                    this.emitError(component, 'E1004', [expressItem[3]], EventLevel.WARNING);\n                                    break;\n                            }\n                        } else {\n                            // variable is not array: \n                            this.emitError(component, 'E1005', [expressItem.join(',')], EventLevel.WARNING);\n                        }\n                    } else {\n                        this.emitError(component, 'E1002', [expressItem.join(',')], EventLevel.WARNING);\n                        // can not find variable:\n                    }\n                    break;\n                case ExpressItemType.OBJECT_VALUE:\n                case ExpressItemType.PARAM_VALUE:\n                    // expressItem 0:type, 1:componentId, 2: variableId, 3: property, 4?: property\n                    const objItem = this.getVariableByData(component, expressItem);\n                    if (objItem) {\n                        let obj = objItem.value;\n                        for (let i: number = 3, len: number = expressItem.length; i < len; i++) {\n                            const key = expressItem[i];\n                            if (obj && key !== undefined) {\n                                obj = obj[key];\n                            }\n                        }\n                        result = obj;\n                    }\n                    break;\n                default:\n                    break;\n            }\n            return result;\n        }\n\n        private caculateExpressValue(component: VFComponent, stackExpress: ExpressType): any {\n            const stackOut: ExpressType = [];\n            if (stackExpress.length === 1) {\n                return this.getExpressItemValue(component, stackExpress[0]);\n            }\n            for (let i: number = 0, len: number = stackExpress.length; i < len; i++) {\n                const expres = stackExpress[i];\n                switch (expres[0]) {\n                    case ExpressItemType.OPERATION:\n                        let expItem0: ExpressItem | undefined;\n                        let expItem1: ExpressItem | undefined;\n                        if (expres[1] === '!') {\n                            expItem0 = stackOut.pop();\n                        } else {\n                            expItem1 = stackOut.pop();\n                            expItem0 = stackOut.pop();\n                        }\n                        const resultItem = this.caculateOneExpress(component, expres[1], expItem0, expItem1);\n                        stackOut.push(resultItem);\n                        break;\n                    default:\n                        stackOut.push(expres);\n                        break;\n                }\n            }\n            if (stackOut.length === 1) {\n                return stackOut[0][1];\n            } else {\n                // caculateExpressValue error'\n                this.emitError(component, 'E1006', undefined, EventLevel.WARNING);\n                return 0;\n            }\n        }\n\n        private caculateOneExpress(component: VFComponent, operateStr: string, \n                                   expItem0?: ExpressItem, expItem1?: ExpressItem): ExpressItem {\n            const resultItem: ExpressItem = [ExpressItemType.CONST, 0];\n            let result0: any;\n            let result1: any;\n            let result: any;\n            if (expItem0) {\n                result0 = this.getExpressItemValue(component, expItem0);\n            }\n            if (expItem1) {\n                result1 = this.getExpressItemValue(component, expItem1);\n            }\n            switch (operateStr) {\n                case '*' :\n                    result = result0 * result1;\n                    break;\n                case '/' :\n                    result = result0 / result1;\n                    break;\n                case '%' :\n                    result = result0 % result1;\n                    break;\n                case '+' :\n                    result = result0 + result1;\n                    break;\n                case '-' :\n                    result = result0 - result1;\n                    break;\n                case '>=' :\n                    result = result0 >= result1;\n                    break;\n                case '<=' :\n                    result = result0 <= result1;\n                    break;\n                case '>' :\n                    result = result0 > result1;\n                    break;\n                case '<' :\n                    result = result0 < result1;\n                    break;\n                case '==' :\n                    // tslint:disable-next-line: triple-equals\n                    result = result0 == result1;\n                    break;\n                case '===' :\n                    result = result0 === result1;\n                    break;\n                case '!=' :\n                    // tslint:disable-next-line: triple-equals\n                    result = result0 != result1;\n                case '!==' :\n                    result = result0 !== result1;\n                    break;\n                case '!' :\n                    result = !result0;\n                    break;\n                case '&&' :\n                    result = result0 && result1;\n                    break;\n                case '||' :\n                    result = result0 || result1;\n                    break;\n                case '=' :\n                    result = result1;\n                    if (expItem0) {\n                        switch (expItem0[0]) {\n                            case ExpressItemType.VARIABLE:\n                                const varItem = this.getVariableByData(component, expItem0);\n                                if (varItem) {\n                                    varItem.value = result;\n                                } else {\n                                    this.emitError(component, 'E1002', [expItem0.join(',')], EventLevel.WARNING);\n                                    // can not find variable:\n                                }\n                                break;\n                            case ExpressItemType.PROPERTY:\n                                const targetArr = expItem0[1];\n                                const targetProperty = expItem0[2];\n                                const targetComponent = getTargetComponent(component, targetArr);\n                                if (targetComponent) {\n                                    if (expItem0.length >= 3) {\n                                        let targetProp: any = targetComponent;\n                                        let prop: any = targetProperty;\n                                        for (let i: number = 2, len: number = expItem0.length; i < len; i++) {\n                                            prop = expItem0[i];\n                                            if (i === len - 1) {\n                                                break;\n                                            } else {\n                                                if (targetProp) {\n                                                    targetProp = targetProp[prop];\n                                                } else {\n                                                    // can not find property: \n                                                    this.emitError(component, 'E1007', [expItem0.join(',')], \n                                                                    EventLevel.WARNING);\n                                                }\n                                            }\n                                        }\n                                        if (targetProp && prop) {\n                                            targetProp[prop] = result;\n                                        } else {\n                                            // can not find property: \n                                            this.emitError(component, 'E1007', [expItem0.join(',')], \n                                                            EventLevel.WARNING);\n                                        }\n                                    } \n                                }\n                                break;\n                            case ExpressItemType.ARRAY_LEN:\n                                const arrItem = this.getVariableByData(component, expItem0);\n                                if (arrItem) {\n                                    arrItem.value.length = result;\n                                } else {\n                                    this.emitError(component, 'E1002', [expItem0.join(',')], EventLevel.WARNING);\n                                    // can not find variable:\n                                }\n                                break;\n                            case ExpressItemType.ARRAY_VALUE:\n                                // expItem0 0:type, 1:componentId, 2: variableId, 3: index, 4?: property\n                                const arrItem1 = this.getVariableByData(component, expItem0);\n                                if (arrItem1) {\n                                    const arr = arrItem1.value;\n                                    let index: number = expItem0[3] || 0;\n                                    if (Array.isArray(index)) {\n                                        const indexVar = this.getExpressItemValue(component, index);\n                                        if (isNumber(indexVar) ) {\n                                            index = indexVar;\n                                        } else {\n                                            // can not find array index by variable:\n                                            this.emitError(component, 'E1003', [index], \n                                                            EventLevel.WARNING);\n                                            index = 0;\n                                        }\n                                    }\n                                    if (expItem0.length >= 5) {\n                                        let obj = arr[index];\n                                        let key;\n                                        for (let i: number = 4, len: number = expItem0.length; i < len; i++) {\n                                            key = expItem0[i];\n                                            if (i < len - 1 && obj[key]) {\n                                                obj = obj[key];\n                                            }\n                                        }\n                                        if (obj && key !== undefined) {\n                                            obj[key] = result;\n                                        }\n                                    } else {\n                                        arr[index] = result;\n                                    }\n                                } else {\n                                    this.emitError(component, 'E1002', [expItem0.join(',')], EventLevel.WARNING);\n                                    // can not find variable:\n                                }\n                                break;\n                            case ExpressItemType.OBJECT_VALUE:\n                            case ExpressItemType.PARAM_VALUE:\n                                // expressItem 0:type, 1:componentId, 2: variableId, 3: property, 4?: property\n                                const objItem = this.getVariableByData(component, expItem0);\n                                if (objItem) {\n                                    let obj = objItem.value;\n                                    let key;\n                                    for (let i: number = 3, len: number = expItem0.length; i < len; i++) {\n                                        key = expItem0[i];\n                                        if (i < len - 1 && obj[key]) {\n                                            obj = obj[key];\n                                        }\n                                    }\n                                    if (obj && key !== undefined) {\n                                        obj[key] = result;\n                                    } else {\n                                        // 基本类型\n                                        objItem.value = result;\n                                    }\n                                }\n                                break;\n                            case ExpressItemType.CONST:\n                                // the left value can NOT be const:\n                                this.emitError(component, 'E1008', [expItem0.join(',')], EventLevel.WARNING);\n                                break;\n                            default:\n                                break;\n                        }\n                    }\n                    break;\n                default:\n                    // can not support this operation:\n                    this.emitError(component, 'E1001', [operateStr], EventLevel.WARNING);\n                    break;\n            }\n            resultItem[1] = result;\n            return resultItem;\n        }\n\n        private deepCopy(variableData: {[id: string]: IVariableData}): {[id: string]: IVariableData} {\n                const str = JSON.stringify(variableData);\n                const newVariableData = JSON.parse(str) as {[id: string]: IVariableData};\n                return newVariableData;\n        }\n\n        private isIVariableData(v: any): boolean {\n            if (isObject(v)  &&  \n               v.hasOwnProperty('type') && \n               v.hasOwnProperty('value') &&\n               ( v.type === VariableType.ARRAY ||\n                 v.type === VariableType.BOOLEAN ||\n                 v.type === VariableType.NUMBER ||\n                 v.type === VariableType.OBJECT ||\n                 v.type === VariableType.STRING)\n               ) {\n                return true;\n            }\n            return false;\n        }\n        private createIVariableData(id: string, v: any): IVariableData {\n            if (!this.isIVariableData(v)) {\n                const varData: IVariableData = {\n                    id,\n                    type: VariableType.OBJECT,\n                    value: v,\n                };\n                if (isBoolean(v)) {\n                    varData.type = VariableType.BOOLEAN;\n                } else if ( isString(v)) {\n                    varData.type = VariableType.STRING;\n                } else if ( isNumber(v)) {\n                    varData.type = VariableType.STRING;\n                } else if ( isArray(v)) {\n                    varData.type = VariableType.ARRAY;\n                } else {\n                    varData.type = VariableType.OBJECT;\n                }\n                return varData;\n            } else {\n                return v;\n            }\n        }\n        private emitError(component: VFComponent, code: string, params?: any[], level: EventLevel = EventLevel.ERROR) {\n            if (component && component.vfStage) {\n                const vfStage = component.vfStage;\n                vfStage.systemEvent.emitError(code, params, level);\n            } else {\n                throw new Error( code + ': ' + params?.join(' '));\n            }\n\n        }\n        \n    }\n\n","import { VFComponent } from '../../display/VFComponent';\nimport { IAction, ActionType, ComponentEvent, IActionSetProperty, IActionExpress,\n    IActionIFPart, IActionFunction, IActionAddEventListener, IActionPlayAnimation,\n    IActionJump, IActionArraySplice, IActionArrayConcat, IActionEmitEvent,\n    IActionSound, IActionDefineVariable, IVariableData, IActionGoto, IActionCallFunction, IActionFor } from '../model/IVFData';\nimport { BaseTask } from './core/BaseTask';\nimport { AddListenerTask } from './AddListenerTask';\nimport { SetPropertyTask } from './SetPropertyTask';\nimport { ExpressTask } from './ExpressTask';\nimport { IfTask } from './IfTask';\nimport { QueueTask } from './core/QueueTask';\nimport { DefineFunctionTask } from './DefineFunctionTask';\nimport { FunctionTask } from './FunctionTask';\nimport { CallFunctionTask } from './CallFunctionTask';\nimport { PrintTask } from './PrintTask';\nimport { SoundTask } from './SoundTask';\nimport { PlayAnimationTask } from './PlayAnimationTask';\nimport { JumpToNextSceneTask } from './JumpToNextSceneTask';\nimport { JumpToPrevSceneTask } from './JumpToPrevSceneTask';\nimport { JumpToSceneTask } from './JumpToSceneTask';\nimport { ArrayPopTask } from './ArrayPopTask';\nimport { ArrayPushTask } from './ArrayPushTask';\nimport { ArraySpliceTask } from './ArraySpliceTask';\nimport { ArrayRandomTask } from './ArrayRandomTask';\nimport { ArrayInitTask } from './ArrayInitTask';\nimport { ArrayConcatTask } from './ArrayConcatTask';\nimport { ArrayShiftTask } from './ArrayShiftTask';\nimport { ArrayUnshiftTask } from './ArrayUnshiftTask';\nimport { AddListenerCallTask } from './AddListenerCallTask';\nimport { EmitEventTask } from './EmitEventTask';\nimport { DefineVariableTask } from './DefineVariableTask';\nimport { CallProtoFunctionTask } from './CallProtoFunctionTask';\nimport { RemoveListenerTask } from './RemoveListenerTask';\nimport { ForTask } from './ForTask';\nimport { BreakTask } from './BreakTask';\nimport { WaitTask } from './WaitTask';\nimport { SetTimeoutTask } from './SetTimeoutTask';\nimport { ContainerTask } from './core/ContainerTask';\nimport { SetIntervalTask } from './SetIntervalTask';\nimport { EnterFrameTask } from './EnterFrameTask';\n\nexport class ActionList {\n        public component: VFComponent;\n        public data: IAction[] | string;\n\n        private _actionList: BaseTask[] = [];\n\n        constructor(component: VFComponent, data: IAction[] | string) {\n            this.component = component;\n            this.data = data;\n            this.parseData();\n        }\n\n        public run(): void {\n            if (this._actionList && this._actionList.length) {\n                for (let i = 0, len: number = this._actionList.length; i < len; i++) {\n                    const task = this._actionList[i];\n\n                    task.run();\n                }\n            }\n        }\n\n        public stop(): void {\n            if (this._actionList && this._actionList.length) {\n                for (let i = 0, len: number = this._actionList.length; i < len; i++) {\n                    const task = this._actionList[i];\n\n                    task.stop();\n                }\n            }\n        }\n\n        public pause(): void {\n            if (this._actionList && this._actionList.length) {\n                for (let i = 0, len: number = this._actionList.length; i < len; i++) {\n                    const task = this._actionList[i];\n\n                    task.pause();\n                }\n            }\n        }\n\n        public resume(): void {\n            if (this._actionList && this._actionList.length) {\n                for (let i = 0, len: number = this._actionList.length; i < len; i++) {\n                    const task = this._actionList[i];\n\n                    task.resume();\n                }\n            }\n        }\n\n        private parseData(): void {\n            if (this.data) {\n                if (Array.isArray(this.data)) {\n                    this.parseAST(this.data);\n                }\n            }\n        }\n\n        private addGlobalVariable(action: IActionDefineVariable): void {\n            if (this.component && this.component.vfStage) {\n                const variableManager = this.component.vfStage.variableManager;\n\n                variableManager.addVariableDataToGlobal(action.varId, action.variableType, action.value);\n            }\n        }\n        private parseAST(actions: IAction[]): void {\n            if (actions) {\n                for (let i = 0, len: number = actions.length; i < len; i++) {\n                    const task = this.parseAction(actions[i]);\n\n                    if (task) {\n                        this._actionList.push(task);\n                    }\n                }\n            }\n        }\n        private parseAction(data: IAction): BaseTask | undefined {\n            let task: BaseTask | undefined;\n\n            switch (data.type) {\n                case ActionType.Add:\n                    task = this.parseAddToStageBefore(data);\n                    break;\n                case ActionType.Added:\n                    task = this.parseAddToStage(data);\n                    break;\n                case ActionType.SetProperty:\n                    task = this.parseSetProperty(data as any);\n                    break;\n                case ActionType.Click:\n                    task = this.parseClick(data);\n                    break;\n                case ActionType.Express:\n                    task = this.parseExpress(data as any);\n                    break;\n                case ActionType.IfGroup:\n                    task = this.parseIf(data);\n                    break;\n                case ActionType.DefineFunction:\n                    task = this.parseDefineFunction(data as any);\n                    break;\n                case ActionType.CallFunction:\n                    task = this.parseCallFunction(data as any);\n                    break;\n                case ActionType.Print:\n                    task = this.parsePrint(data as any);\n                    break;\n                case ActionType.AddEventListener:\n                    task = this.parseAddEventListener(data as any);\n                    break;\n                case ActionType.RemoveEventListener:\n                    task = this.parseRemoveEventListener(data as any);\n                    break;\n                case ActionType.EmitEvent:\n                    task = this.parseEmitEvent(data as IActionEmitEvent);\n                    break;\n                case ActionType.PlaySound:\n                case ActionType.PauseSound:\n                case ActionType.ResumeSound:\n                    task = this.parseSound(data as IActionSound);\n                    break;\n                case ActionType.PlayAnimation:\n                    task = this.parsePlayAnimation(data as any);\n                    break;\n                case ActionType.JumpToNextScene:\n                    task = this.parseJumpToNextScene(data);\n                    break;\n                case ActionType.JumpToPrevScene:\n                    task = this.parseJumpToPrevScene(data);\n                    break;\n                case ActionType.JumpToScene:\n                    task = this.parseJumpToScene(data);\n                    break;\n                case ActionType.ArrayInit:\n                    task = new ArrayInitTask(this.component, data);\n                    break;\n                case ActionType.ArrayPop:\n                    task = new ArrayPopTask(this.component, data);\n                    break;\n                case ActionType.ArrayPush:\n                    task = new ArrayPushTask(this.component, data);\n                    break;\n                case ActionType.ArraySplice:\n                    task = new ArraySpliceTask(this.component, data as IActionArraySplice);\n                    break;\n                case ActionType.ArrayRandom:\n                    task = new ArrayRandomTask(this.component, data);\n                    break;\n                case ActionType.ArrayConcat:\n                    task = new ArrayConcatTask(this.component, data as IActionArrayConcat);\n                    break;\n                case ActionType.ArrayShift:\n                    task = new ArrayShiftTask(this.component, data);\n                    break;\n                case ActionType.ArrayUnshift:\n                    task = new ArrayUnshiftTask(this.component, data);\n                    break;\n                case ActionType.AddEventListenerCall:\n                    task = this.parseAddEventListenerCall(data as IActionAddEventListener);\n                    break;\n                case ActionType.DefineVariable:\n                    task = new DefineVariableTask(this.component, data as IActionDefineVariable);\n                    break;\n                case ActionType.CallProtoFunction:\n                    task = new CallProtoFunctionTask(this.component, data as IActionCallFunction);\n                    break;\n                case ActionType.GotoPlay:\n                    const gotoData0 = data as IActionGoto;\n                    const gotoPlayData: IActionCallFunction = {\n                        type: ActionType.CallProtoFunction,\n                        target: gotoData0.target,\n                        name: 'gotoPlay',\n                    };\n\n                    gotoPlayData.params = [];\n                    if (Array.isArray(gotoData0.name)) {\n                        gotoPlayData.params.push(gotoData0.name);\n                    }\n                    else {\n                        gotoPlayData.params.push([0, gotoData0.name]);\n                    }\n                    if (Array.isArray(gotoData0.frame)) {\n                        gotoPlayData.params.push(gotoData0.frame);\n                    }\n                    else {\n                        gotoPlayData.params.push([0, gotoData0.frame]);\n                    }\n                    if (Array.isArray(gotoData0.times)) {\n                        gotoPlayData.params.push(gotoData0.times);\n                    }\n                    else {\n                        gotoPlayData.params.push([0, gotoData0.times]);\n                    }\n                    task = new CallProtoFunctionTask(this.component, gotoPlayData);\n                    break;\n                case ActionType.GotoStop:\n                    const gotoData1 = data as IActionGoto;\n                    const gotoStopData: IActionCallFunction = {\n                        type: ActionType.CallProtoFunction,\n                        target: gotoData1.target,\n                        name: 'gotoStop',\n                    };\n\n                    gotoStopData.params = [];\n                    if (Array.isArray(gotoData1.name)) {\n                        gotoStopData.params.push(gotoData1.name);\n                    }\n                    else {\n                        gotoStopData.params.push([0, gotoData1.name]);\n                    }\n                    if (Array.isArray(gotoData1.frame)) {\n                        gotoStopData.params.push(gotoData1.frame);\n                    }\n                    else {\n                        gotoStopData.params.push([0, gotoData1.frame]);\n                    }\n                    task = new CallProtoFunctionTask(this.component, gotoStopData);\n                    break;\n                case ActionType.For:\n                    task = this.parseFor(data as IActionFor);\n                    break;\n                case ActionType.Break:\n                    task = new BreakTask();\n                    break;\n                case ActionType.Wait:\n                    task = new WaitTask(this.component, data);\n                    break;\n                case ActionType.SetTimeout:\n                    task = this.parseSetTimeout(data);\n                    break;\n                case ActionType.SetInterval:\n                    task = this.parseSetInterval(data);\n                    break;\n                case ActionType.EnterFrame:\n                    task = this.parseEnterFrame(data);\n                    break;\n                default:\n                    break;\n            }\n\n            return task;\n        }\n\n        private parseSubTask(task: ContainerTask, data: IAction): void {\n            if (data.execute) {\n                for (let i = 0, len: number = data.execute.length; i < len; i++) {\n                    const taskData = data.execute[i];\n                    const subTask = this.parseAction(taskData);\n\n                    if (subTask) {\n                        task.addSubTask(subTask);\n                    }\n                }\n            }\n        }\n\n        private parseAddToStageBefore(data: IAction): AddListenerTask {\n            const addAction: IActionAddEventListener = {\n                type: ActionType.AddEventListener,\n                event: ComponentEvent.Add,\n                target: [],\n            };\n            const task: AddListenerTask = new AddListenerTask(this.component, addAction);\n\n            this.parseSubTask(task, data);\n\n            return task;\n        }\n        private parseAddToStage(data: IAction): AddListenerTask {\n            const addedAction: IActionAddEventListener = {\n                type: ActionType.AddEventListener,\n                event: ComponentEvent.Added,\n                target: [],\n            };\n            const task: AddListenerTask = new AddListenerTask(this.component, addedAction);\n\n            this.parseSubTask(task, data);\n\n            return task;\n        }\n\n        private parseSetProperty(data: IActionSetProperty): SetPropertyTask {\n            const task: SetPropertyTask = new SetPropertyTask(this.component, data);\n\n            return task;\n        }\n\n        private parseClick(data: IAction): AddListenerTask | undefined {\n            const addlistenerAction: IActionAddEventListener = {\n                event: ComponentEvent.Click,\n                type: ActionType.AddEventListener,\n                target: data.target,\n            };\n            const task: AddListenerTask = new AddListenerTask(this.component, addlistenerAction);\n\n            this.parseSubTask(task, data);\n\n            return task;\n        }\n\n        private parseExpress(data: IActionExpress): ExpressTask {\n            const task: ExpressTask = new ExpressTask(this.component, data);\n\n            return task;\n        }\n\n        private parseIf(data: IAction): IfTask {\n            const task: IfTask = new IfTask(this.component);\n\n            if (data.execute) {\n                for (let i = 0, len: number = data.execute.length; i < len; i++) {\n                    const ifPart = data.execute[i];\n\n                    if (ifPart.type === ActionType.If\n                        || ifPart.type === ActionType.ElseIf\n                        || ifPart.type === ActionType.Else) {\n                        const condition = (ifPart as IActionIFPart).condition;\n                        const conditionQue = new QueueTask();\n\n                        if (ifPart.execute) {\n                            for (let j = 0, jlen: number = ifPart.execute.length; j < jlen; j++) {\n                                const subTask = this.parseAction(ifPart.execute[j]);\n\n                                if (subTask) {\n                                    conditionQue.addTask(subTask);\n                                }\n                            }\n                        }\n                        task.addCondition(condition, conditionQue);\n                    }\n                }\n            }\n\n            return task;\n        }\n\n        private parseDefineFunction(data: IActionFunction): DefineFunctionTask {\n            const funTask: FunctionTask = new FunctionTask(this.component, data.name);\n\n            this.parseSubTask(funTask, data);\n            const task: DefineFunctionTask = new DefineFunctionTask(this.component, data.name, data, funTask);\n\n            return task;\n        }\n\n        private parseCallFunction(data: IActionFunction): CallFunctionTask | undefined {\n            const task: CallFunctionTask = new CallFunctionTask(this.component, data.name, data);\n\n            return task;\n        }\n\n        private parsePrint(data: IAction): PrintTask {\n            const task: PrintTask = new PrintTask(this.component, data);\n\n            return task;\n        }\n\n        private parseAddEventListener(data: IActionAddEventListener): AddListenerTask | undefined {\n            const task: AddListenerTask = new AddListenerTask(this.component, data);\n\n            this.parseSubTask(task, data);\n\n            return task;\n        }\n\n        private parseRemoveEventListener(data: IActionAddEventListener): RemoveListenerTask | undefined {\n            const task: RemoveListenerTask = new RemoveListenerTask(this.component, data);\n\n            return task;\n        }\n\n        private parseEmitEvent(data: IActionEmitEvent): EmitEventTask | undefined {\n            const task: EmitEventTask = new EmitEventTask(this.component, data);\n\n            return task;\n        }\n        private parseAddEventListenerCall(data: IActionAddEventListener): AddListenerCallTask | undefined {\n            if (data.funName) {\n                const task: AddListenerCallTask\n                    = new AddListenerCallTask(this.component, data);\n\n                return task;\n            }\n        }\n        private parseSound(data: IActionSound): SoundTask {\n            const task = new SoundTask(this.component, data);\n\n            return task;\n        }\n        private parsePlayAnimation(data: IActionPlayAnimation): PlayAnimationTask | undefined {\n            const task: PlayAnimationTask = new PlayAnimationTask(this.component, data);\n\n            return task;\n        }\n        private parseJumpToNextScene(data: IActionJump): JumpToNextSceneTask {\n            const task: JumpToNextSceneTask = new JumpToNextSceneTask(this.component, data.transition);\n\n            return task;\n        }\n        private parseJumpToPrevScene(data: IActionJump): JumpToPrevSceneTask {\n            const task: JumpToPrevSceneTask = new JumpToPrevSceneTask(this.component, data.transition);\n\n            return task;\n        }\n        private parseJumpToScene(data: IActionJump): JumpToSceneTask {\n            const task: JumpToSceneTask = new JumpToSceneTask(this.component, data.value, data.transition);\n\n            return task;\n        }\n\n        private parseFor(data: IActionFor): ForTask {\n            const task = new ForTask(this.component, data);\n\n            this.parseSubTask(task, data);\n\n            return task;\n        }\n        private parseSetTimeout(data: IAction): SetTimeoutTask {\n            const task: SetTimeoutTask = new SetTimeoutTask(this.component, data);\n\n            this.parseSubTask(task, data);\n\n            return task;\n        }\n\n        private parseSetInterval(data: IAction): SetIntervalTask {\n            const task: SetIntervalTask = new SetIntervalTask(this.component, data);\n\n            this.parseSubTask(task, data);\n\n            return task;\n        }\n        private parseEnterFrame(data: IAction): EnterFrameTask {\n            const task: EnterFrameTask = new EnterFrameTask(this.component, data);\n\n            this.parseSubTask(task, data);\n\n            return task;\n        }\n}\n\n","/* eslint-disable no-mixed-spaces-and-tabs */\nimport { ContainerTask } from './core/ContainerTask';\nimport { TaskEvent } from './core/BaseTask';\nimport { CallFunctionTask } from './CallFunctionTask';\nimport { ActionType, IActionCallFunction, IActionAddEventListener } from '../model/IVFData';\nimport { VFComponent } from '../../display/VFComponent';\nimport { EventType } from '../../event/EventType';\nimport IEvent from '../../event/IEvent';\nimport { getTargetComponent } from '../../utils/VFUtil';\n\n\nexport class AddListenerCallTask extends ContainerTask {\n    public data: IActionAddEventListener;\n    public component: VFComponent;\n    public eventName: string;\n    public funName: string | undefined;\n    protected _component: vf.gui.DisplayObject | undefined;\n    protected _loopComplete: boolean;\n    protected system: boolean;\n    protected global: boolean;\n    protected runId: number = -1;\n    protected callfun?: CallFunctionTask;\n    protected callfunData?: IActionCallFunction;\n\n    constructor(component: VFComponent, data: IActionAddEventListener) {\n        super();\n        this._loopComplete = false;\n        this.data = data;\n        this.component = component;\n        this.eventName = data.event;\n        this.system = data.system === true;\n        this.global = data.global === true;\n        this.funName = data.funName;\n    }\n\n    public run() {\n        super.run();\n        this._loopComplete = true;\n        if (this.loopTask.tasks.length === 0 && this.component && this.funName) {\n            this.callfunData = {\n                type: ActionType.CallFunction,\n                name: this.funName,\n                params: [],\n            };\n\n            const callfunctionTask: CallFunctionTask = \n                new CallFunctionTask(this.component as any, this.funName, this.callfunData);\n            this.callfun = callfunctionTask;\n            this.loopTask.addTask(callfunctionTask);\n        }\n        if (this.loopTask) {\n            this.loopTask.on(TaskEvent.EVENT_COMPLETE, this.onLoopComplete, this);\n        }\n        if (this.component) {\n            if (this.system) {\n                const vfStage = (this.component as VFComponent).vfStage;\n                if (vfStage) {\n                    vfStage.systemEvent.on(this.eventName, this.onTriger, this);\n                }\n            } else if (this.global) {\n                const vfStage = (this.component as VFComponent).vfStage;\n                if (vfStage) {\n                    vfStage.on(this.eventName, this.onTriger, this);\n                }\n            } else {\n                this._component = getTargetComponent(this.component, this.data.target);\n                if (this._component) {\n                    this._component.on(this.eventName, this.onTriger, this);\n                }\n            }\n        }\n        this.complete();\n    }\n\n\n    public stop() {\n        this.complete();\n\n        if (this._component) {\n            if (this.system) {\n                const vfStage = (this._component as VFComponent).vfStage;\n                if (vfStage) {\n                    vfStage.systemEvent.off(this.eventName, this.onTriger, this);\n                }\n            } else if (this.global) {\n                const vfStage = (this._component as VFComponent).vfStage;\n                if (vfStage) {\n                    vfStage.off(this.eventName, this.onTriger, this);\n                }\n            } else {\n                this._component.off(this.eventName, this.onTriger, this);\n            }\n        }\n        if (this.loopTask) {\n            this.loopTask.off(TaskEvent.EVENT_COMPLETE, this.onLoopComplete);\n            this.loopTask.complete();\n        }\n\n        super.stop();\n    }\n    public break() {\n        this.complete();\n        super.break();\n    }\n\n    protected onLoopComplete() {\n        this._loopComplete = true;\n    }\n    \n    protected onSystemTriger(evt: IEvent) {\n        if (evt.code === this.eventName) {\n            this.onTriger(evt);\n        }\n    }\n\n    protected onTriger(...params: any) {\n        if (this._isPaused) {\n            return;\n        }\n        if (params && params.length > 0 && this.callfunData) {\n            this.callfunData.params = params;\n        }\n        if (this.loopTask && this._loopComplete) {\n            this._loopComplete = false;\n            this.loopTask.run();\n        }\n    }   \n}\n\n","import { ContainerTask } from './core/ContainerTask';\nimport { TaskEvent } from './core/BaseTask';\nimport { VFComponent } from '../../display/VFComponent';\nimport { EventType } from '../../event/EventType';\nimport IEvent from '../../event/IEvent';\nimport { IActionAddEventListener } from '../model/IVFData';\nimport { getTargetComponent } from '../../utils/VFUtil';\n\nexport class AddListenerTask extends ContainerTask {\n        public data: IActionAddEventListener;\n        public eventName: string;\n        public component: VFComponent;\n        protected _component: vf.gui.DisplayObject | undefined;\n        protected _loopComplete: boolean;\n        protected system: boolean;\n        protected global: boolean;\n\n        constructor(component: VFComponent, data: IActionAddEventListener) {\n            super();\n            this.component = component;\n            this._loopComplete = false;\n            this.data = data;\n            this.eventName = data.event;\n            this.system = data.system === true;\n            this.global = data.global === true;\n        }\n    \n        public run() {\n            super.run();\n            \n            this._loopComplete = true;\n            if (this.component) {\n                if (this.loopTask) {\n                    this.loopTask.on(TaskEvent.EVENT_COMPLETE, this.onLoopComplete, this);\n                }\n\n                if (this.system) {\n                    const vfStage = (this.component as VFComponent).vfStage;\n                    if (vfStage) {\n                        vfStage.systemEvent.on(this.eventName, this.onTriger, this);\n                    }\n                } else if (this.global) {\n                    const vfStage = (this.component as VFComponent).vfStage;\n                    if (vfStage) {\n                        vfStage.on(this.eventName, this.onTriger, this);\n                    }\n                } else {\n                    this._component = getTargetComponent(this.component, this.data.target);\n                    if (this._component) {\n                        this._component.on(this.eventName, this.onTriger, this);\n                    }\n                }\n            }\n            this.complete();\n        }\n\n    \n        public stop() {\n            this.complete();\n\n            if (this._component) {\n                if (this.system) {\n                    const vfStage = (this._component as VFComponent).vfStage;\n                    if (vfStage) {\n                        vfStage.systemEvent.off(this.eventName, this.onTriger, this);\n                    }\n                } else if (this.global) {\n                    const vfStage = (this._component as VFComponent).vfStage;\n                    if (vfStage) {\n                        vfStage.off(this.eventName, this.onTriger, this);\n                    }\n                } else {\n                    this._component.off(this.eventName, this.onTriger, this);\n                }\n            }\n            if (this.loopTask) {\n                this.loopTask.off(TaskEvent.EVENT_COMPLETE, this.onLoopComplete);\n                this.loopTask.complete();\n            }\n\n            super.stop();\n        }\n        public break() {\n            this.complete();\n            super.break();\n        }\n    \n        protected onLoopComplete() {\n            this._loopComplete = true;\n        }\n\n        protected onSystemTriger(evt: IEvent) {\n            if (evt.code === this.eventName) {\n                this.onTriger();\n            }\n        }\n    \n        protected onTriger() {\n            if (this._isPaused) {\n                return;\n            }\n            if (this.loopTask && this._loopComplete) {\n                this._loopComplete = false;\n                this.loopTask.run();\n            }\n        }    \n    }\n\n","import { BaseTask } from './core/BaseTask';\nimport { VFComponent } from '../../display/VFComponent';\nimport { IActionArraySplice, IActionArrayConcat } from '../model/IVFData';\n\nexport class ArrayConcatTask extends BaseTask {\n        \n        public component: VFComponent;\n        public data: IActionArrayConcat;\n\n        constructor(compontent: VFComponent, data: IActionArrayConcat) {\n            super();\n            this.component = compontent;\n            this.data = data;\n        }   \n\n        public run(): void {\n            super.run();\n            if (this.component.vfStage && this.data.target) {\n                const variableManager = this.component.vfStage.variableManager;\n                const arrItem = variableManager.getVariableByData(this.component, this.data.target);\n                const concatItem = variableManager.getVariableByData(this.component, this.data.concatArr);\n                if (arrItem && concatItem) {\n                    if (this.data.value) {\n                        arrItem.value = concatItem.value.concat(this.data.value);\n                    } else {\n                        arrItem.value = concatItem.value.concat();\n                    }\n                }\n            }\n            this.complete();\n        }\n    }\n\n","import { BaseTask } from './core/BaseTask';\nimport { VFComponent } from '../../display/VFComponent';\nimport { IAction } from '../model/IVFData';\n\nexport class ArrayInitTask extends BaseTask {\n        \n        public component: VFComponent;\n        public data: IAction;\n\n        constructor(compontent: VFComponent, data: IAction) {\n            super();\n            this.component = compontent;\n            this.data = data;\n        }   \n\n        public run(): void {\n            super.run();\n            if (this.component.vfStage && this.data.target) {\n                const variableManager = this.component.vfStage.variableManager;\n                const arrItem = variableManager.getVariableByData(this.component, this.data.target);\n                if (arrItem) {\n                    arrItem.value = this.data.value;\n                }\n            }\n            this.complete();\n        }\n    }\n\n","import { BaseTask } from './core/BaseTask';\nimport { VFComponent } from '../../display/VFComponent';\nimport { IAction } from '../model/IVFData';\n\nexport class ArrayPopTask extends BaseTask {\n        \n        public component: VFComponent;\n        public data: IAction;\n\n        constructor(compontent: VFComponent, data: IAction) {\n            super();\n            this.component = compontent;\n            this.data = data;\n        }   \n\n        public run(): void {\n            super.run();\n            if (this.component.vfStage && this.data.target) {\n                const variableManager = this.component.vfStage.variableManager;\n                const arrItem = variableManager.getVariableByData(this.component, this.data.target);\n                if (arrItem) {\n                    arrItem.value.pop();\n                }\n            }\n            this.complete();\n        }\n    }\n\n","import { BaseTask } from './core/BaseTask';\nimport { VFComponent } from '../../display/VFComponent';\nimport { IAction } from '../model/IVFData';\n\nexport class ArrayPushTask extends BaseTask {\n        \n        public component: VFComponent;\n        public data: IAction;\n\n        constructor(compontent: VFComponent, data: IAction) {\n            super();\n            this.component = compontent;\n            this.data = data;\n        }   \n\n        public run(): void {\n            super.run();\n            if (this.component.vfStage && this.data.target) {\n                const variableManager = this.component.vfStage.variableManager;\n                const arrItem = variableManager.getVariableByData(this.component, this.data.target);\n                if (arrItem) {\n                    const arr = arrItem.value;\n                    arr.push(this.data.value);\n                }\n            }\n            this.complete();\n        }\n    }\n\n","import { BaseTask } from './core/BaseTask';\nimport { VFComponent } from '../../display/VFComponent';\nimport { IAction } from '../model/IVFData';\n\nexport class ArrayRandomTask extends BaseTask {\n        \n        public component: VFComponent;\n        public data: IAction;\n\n        constructor(compontent: VFComponent, data: IAction) {\n            super();\n            this.component = compontent;\n            this.data = data;\n        }   \n\n        public run(): void {\n            super.run();\n            if (this.component.vfStage && this.data.target) {\n                const variableManager = this.component.vfStage.variableManager;\n                const arrItem = variableManager.getVariableByData(this.component, this.data.target);\n                if (arrItem) {\n                    const arr = arrItem.value;\n                    variableManager.shuffle(arr);\n                }\n            }\n            this.complete();\n        }\n    }\n\n","import { BaseTask } from './core/BaseTask';\nimport { VFComponent } from '../../display/VFComponent';\nimport { IAction } from '../model/IVFData';\n\nexport class ArrayShiftTask extends BaseTask {\n        \n        public component: VFComponent;\n        public data: IAction;\n\n        constructor(compontent: VFComponent, data: IAction) {\n            super();\n            this.component = compontent;\n            this.data = data;\n        }   \n\n        public run(): void {\n            super.run();\n            if (this.component.vfStage && this.data.target) {\n                const variableManager = this.component.vfStage.variableManager;\n                const arrItem = variableManager.getVariableByData(this.component, this.data.target);\n                if (arrItem) {\n                    arrItem.value.shift();\n                }\n            }\n            this.complete();\n        }\n    }\n\n","import { BaseTask } from './core/BaseTask';\nimport { VFComponent } from '../../display/VFComponent';\nimport { IActionArraySplice } from '../model/IVFData';\n\nexport class ArraySpliceTask extends BaseTask {\n        \n        public component: VFComponent;\n        public data: IActionArraySplice;\n\n        constructor(compontent: VFComponent, data: IActionArraySplice) {\n            super();\n            this.component = compontent;\n            this.data = data;\n        }   \n\n        public run(): void {\n            super.run();\n            if (this.component.vfStage && this.data.target) {\n                const variableManager = this.component.vfStage.variableManager;\n                const arrItem = variableManager.getVariableByData(this.component, this.data.target);\n                if (arrItem) {\n                    const value = this.data.value;\n                    if (value !== undefined) {\n                        arrItem.value.splice(this.data.start, this.data.deleteCount || 0, value);\n                    } else {\n                        arrItem.value.splice(this.data.start, this.data.deleteCount || 0);\n                    }\n                }\n            }\n            this.complete();\n        }\n    }\n\n","import { BaseTask } from './core/BaseTask';\nimport { VFComponent } from '../../display/VFComponent';\nimport { IAction } from '../model/IVFData';\n\nexport class ArrayUnshiftTask extends BaseTask {\n        \n        public component: VFComponent;\n        public data: IAction;\n\n        constructor(compontent: VFComponent, data: IAction) {\n            super();\n            this.component = compontent;\n            this.data = data;\n        }   \n\n        public run(): void {\n            super.run();\n            if (this.component.vfStage && this.data.target) {\n                const variableManager = this.component.vfStage.variableManager;\n                const arrItem = variableManager.getVariableByData(this.component, this.data.target);\n                if (arrItem) {\n                    const arr = arrItem.value;\n                    arr.unshift(this.data.value);\n                }\n            }\n            this.complete();\n        }\n    }\n\n","import { BaseTask, TaskEvent } from './core/BaseTask';\n\nexport class BreakTask extends BaseTask {\n        \n\n        constructor() {\n            super();\n        }   \n\n        public run(): void {\n            super.run();\n            this.break();\n            this.complete();\n        }\n    }\n\n","import { BaseTask, TaskEvent } from './core/BaseTask';\nimport { VFComponent } from '../../display/VFComponent';\nimport { IAction, IActionCallFunction, VariableType } from '../model/IVFData';\nimport { FunctionTask } from './FunctionTask';\nimport { VariableManager } from '../VariableManager';\nimport { getTargetComponent } from '../../utils/VFUtil';\n\nexport class CallFunctionTask extends BaseTask {\n\n        public component: VFComponent;\n        public funName: string;\n        public data: IActionCallFunction;\n        protected _component: VFComponent | undefined;\n        protected runId: number = -1;\n        protected fun?: FunctionTask;\n        protected paramIds: string[] = [];\n        constructor(compontent: VFComponent, funName: string, data: IActionCallFunction) {\n            super();\n            this.component = compontent;\n            this.funName = funName;\n            this.data = data;\n        }\n\n        public run(): void {\n            super.run();\n            this._component = getTargetComponent(this.component, this.data.target) as VFComponent;\n            if (this._component instanceof VFComponent && this._component && this._component.vfStage ) {\n                const variableManager = this._component.vfStage.variableManager;\n                let funId = this.funName;\n                this.runId = variableManager.getFunctionId();\n                funId = this._component.hashCode + this.funName;\n                // 注入参数\n                this.paramIds.length = 0;\n                if (this.data.params) {\n                    const paramValues: any[] = [];\n                    for ( let i: number = 0, len: number = this.data.params.length; i < len; i++) {\n                        const param = this.data.params[i];\n                        let paramValue = param;\n                        if (Array.isArray(param)) {\n                            const paramVar = variableManager.getExpressItemValue(this.component, param);\n                            paramValue = paramVar;\n                        }\n                        paramValues.push(paramValue);\n                    }\n                    for (let i: number = 0, len: number = paramValues.length; i < len; i++) {\n                        const paramId = funId + this.runId + 'param_' + i;\n                        this.paramIds.push(paramId);\n                        if (!variableManager.variableMap[VariableManager.GLOBAL_ID]) {\n                            variableManager.variableMap[VariableManager.GLOBAL_ID] = {};\n                        }\n                        variableManager.variableMap[VariableManager.GLOBAL_ID][paramId] = {\n                            id: paramId,\n                            type: VariableType.OBJECT,\n                            value: paramValues[i],\n                        };\n                    }\n                }\n                this.fun = variableManager.getFunctionTask(funId);\n                if (this.fun) {\n                    // 替换表达式中的参数\n                    if (this.paramIds.length) {\n                        this.fun.injectParams(this.paramIds);\n                    }\n                    this.fun.on(TaskEvent.FUNCTION_RUN_COMPLETE, this.onRunComplete, this);\n                    this.fun.runWithId(this.runId);\n                } else {\n                    this.complete();\n                }\n            } else {\n                if (this.component.vfStage) {\n                    const variableManager = this.component.vfStage.variableManager;\n                    const runTarget = this._component as any;\n                    let  funName = this.data.name;\n                    if (Array.isArray(funName)) {\n                        funName = variableManager.getExpressItemValue(this.component, funName);\n                    }\n                    const funParam = [];\n                    if (this.data.params) {\n                        for (let i: number = 0, len: number = this.data.params.length; i < len; i++) {\n                            const param = variableManager.getExpressItemValue(this.component, this.data.params[i]);\n                            funParam.push(param);\n                        }\n                    }\n                    if (runTarget && funName && runTarget[funName as string]) {\n                        // tslint:disable-next-line: ban-types\n                        (runTarget[funName as string] as Function).apply(runTarget, funParam);\n                    }\n                    \n                }\n                this.complete();\n            }\n        }\n\n        public stop(): void {\n            super.stop();\n            if (this.fun) {\n                this.fun.stopWithId(this.runId);\n            }\n            this.complete();\n        }\n\n        public break() {\n            super.break();\n            if (this.fun) {\n                this.fun.breakWithId(this.runId);\n            }\n            this.complete();\n        }\n\n        public complete(): void {\n            this.runId = 0;\n            if (this.fun) {\n                this.fun.off(TaskEvent.FUNCTION_RUN_COMPLETE,  this.onRunComplete, this);\n            }\n            // 删除参数\n            if (this.paramIds.length) {\n                if (this.component && this.component.vfStage) {\n                    const variableManager = this.component.vfStage.variableManager;\n                    for (let i: number = 0, len: number = this.paramIds.length; i < len; i++) {\n                        const paramId = this.paramIds[i];\n                        delete variableManager.variableMap[VariableManager.GLOBAL_ID][paramId];\n                    }\n                }\n            }\n            super.complete();\n        }\n\n        private onRunComplete(data: any): void {\n            if (data === this.runId) {\n                this.complete();\n            }\n        }\n    }\n\n","import { BaseTask } from './core/BaseTask';\nimport { VFComponent } from '../../display/VFComponent';\nimport { IActionPlayAnimation, IActionCallFunction } from '../model/IVFData';\nimport { getTargetComponent } from '../../utils/VFUtil';\n\nexport class CallProtoFunctionTask extends BaseTask {\n        \n        public component: VFComponent;\n        public data: IActionCallFunction;\n\n        constructor(compontent: VFComponent, data: IActionCallFunction) {\n            super();\n            this.component = compontent;\n            this.data = data;\n            \n        }   \n       \n        public get target(): any {\n            return getTargetComponent(this.component, this.data.target);\n        }\n        public run(): void {\n            super.run();\n            if (this.component.vfStage) {\n                const variableManager = this.component.vfStage.variableManager;\n                const runTarget = this.target;\n                let  funName = this.data.name;\n                if (Array.isArray(funName)) {\n                    funName = variableManager.getExpressItemValue(this.component, funName);\n                }\n                const funParam = [];\n                if (this.data.params) {\n                    for (let i: number = 0, len: number = this.data.params.length; i < len; i++) {\n                        const param = variableManager.getExpressItemValue(this.component, this.data.params[i]);\n                        funParam.push(param);\n                    }\n                }\n                if (runTarget && funName && runTarget[funName as string]) {\n                    // tslint:disable-next-line: ban-types\n                    (runTarget[funName as string] as Function).apply(runTarget, funParam);\n                }\n                \n            }\n            \n            this.complete();\n        }\n    }\n\n","import { BaseTask } from './core/BaseTask';\nimport { VFComponent } from '../../display/VFComponent';\nimport { FunctionTask } from './FunctionTask';\nimport { IAction } from '../model/IVFData';\nimport { getTargetComponent } from '../../utils/VFUtil';\n\nexport class DefineFunctionTask extends BaseTask {\n\n        public funName: string;\n        protected component: VFComponent;\n        protected fun: FunctionTask;\n        protected data: IAction;\n        protected funId: string = '';\n\n        constructor(compontent: VFComponent, funName: string, data: IAction, fun: FunctionTask) {\n            super();\n            this.component = compontent;\n            this.funName = funName;\n            this.fun = fun;\n            this.data = data;\n        }\n\n        public run(): void {\n            super.run();\n            if (this.component.vfStage) {\n                const variableManager = this.component.vfStage.variableManager;\n                let funId = this.funName;\n                const subComponent = getTargetComponent(this.component, this.data.target);\n                if (subComponent) {\n                    funId = (subComponent as VFComponent).hashCode + this.funName;\n                }\n                variableManager.setFunctionTask(funId, this.fun);\n                this.complete();\n            } else {\n                this.complete();\n            }\n            \n        }\n        public stop(): void {\n            super.stop();\n        }\n    }\n\n","import { BaseTask } from './core/BaseTask';\nimport { VFComponent } from '../../display/VFComponent';\nimport { IActionDefineVariable} from '../model/IVFData';\nimport { getTargetComponent } from '../../utils/VFUtil';\n\nexport class DefineVariableTask extends BaseTask {\n        \n        public component: VFComponent;\n        public data: IActionDefineVariable;\n\n        constructor(compontent: VFComponent, data: IActionDefineVariable) {\n            super();\n            this.component = compontent;\n            this.data = data;\n        }   \n\n        public run(): void {\n            super.run();\n            if (this.component && this.component.vfStage) {\n                const variableManager = this.component.vfStage.variableManager;\n                const targetComponent: VFComponent = getTargetComponent(this.component, \n                                                                        this.data.target) as VFComponent;\n                if (targetComponent) {\n                    variableManager.addVariableDataToComponent(targetComponent, \n                                                               this.data.varId, \n                                                               this.data.variableType,\n                                                               this.data.value);\n                } else {\n                    variableManager.addVariableDataToGlobal( \n                                                            this.data.varId, \n                                                            this.data.variableType,\n                                                            this.data.value);\n                }\n            }\n            \n\n            this.complete();\n        }\n    }\n\n","import { BaseTask } from './core/BaseTask';\nimport { VFComponent } from '../../display/VFComponent';\nimport { EventType } from '../../event/EventType';\nimport IEvent from '../../event/IEvent';\nimport { EventLevel } from '../../event/EventLevel';\nimport { IActionEmitEvent } from '../model/IVFData';\nimport { getTargetComponent } from '../../utils/VFUtil';\n\nexport class EmitEventTask extends BaseTask {\n        public data: IActionEmitEvent;\n        public eventName: string;\n        public eventData: any;\n\n        protected target: vf.utils.EventEmitter | undefined;\n        protected component: VFComponent;\n        protected system: boolean;\n        protected global: boolean;\n\n\n        constructor(component: VFComponent, data: IActionEmitEvent) {\n            super();\n            this.component = component;\n            this.data = data;\n            this.eventName = data.event;\n            this.eventData = data.eventData;\n            this.system = data.system === true;\n            this.global = data.global === true;\n        }\n    \n        public run() {\n            super.run();\n            const {component} = this;\n            if (component) {\n                const emitEventData = this.getEmitEventData();\n                if (this.system) {\n                    if (component.vfStage ){\n                        const systemEvent = component.vfStage.systemEvent;\n                        if (typeof emitEventData === 'object') {\n                            (emitEventData as IEvent).type = this.eventName;\n                            if (this.eventName !== EventType.MESSAGE) {\n                                systemEvent.emit(this.eventName, emitEventData);\n                            }\n                            systemEvent.emit(EventType.MESSAGE, emitEventData); // 外部 \n                        } else {\n                            systemEvent.emitError('S0003', [this.eventName, \n                                                            JSON.stringify(emitEventData)], EventLevel.WARNING, this);\n                        }\n                    }\n                } else if (this.global) {\n                    if (component.vfStage) {\n                        component.vfStage.emit(this.eventName, emitEventData);\n                    }\n                } else {\n                    this.target = getTargetComponent(this.component, this.data.target);\n                    if (this.target) {\n                        this.target.emit(this.eventName, emitEventData);\n                    }\n                    \n                }\n            }\n            this.complete();\n        }\n\n        public stop() {\n            this.complete();\n            super.stop();\n        }\n        public break() {\n            this.complete();\n            super.break();\n        }\n        private getEmitEventData(): any {\n            if (Array.isArray(this.eventData)) {\n                if (this.component) {\n                    const vfStage = (this.component).vfStage;\n                    if (vfStage) {\n                        const data = vfStage.variableManager.getExpressItemValue(this.component, this.eventData);\n                        return data;\n                    }\n                }\n            }\n            return this.eventData;\n        }\n    }\n\n","import { BaseTask, TaskEvent } from './core/BaseTask';\nimport { VFComponent } from '../../display/VFComponent';\nimport { IAction } from '../model/IVFData';\nimport { isNumber } from '../../utils/VFUtil';\nimport { ContainerTask } from './core/ContainerTask';\n\nexport class EnterFrameTask extends ContainerTask {\n        \n        public component: VFComponent;\n        public data: IAction;\n        private loopTaskComplete: boolean = true;\n\n        constructor(component: VFComponent, data: IAction) {\n            super();\n            this.component = component;\n            this.data = data;\n        }   \n\n        public run(): void {\n            super.run();\n\n            if (this.component) {\n                const vfStage = this.component.vfStage;\n                if (vfStage && vfStage.app) {\n                    if (this.loopTask) {\n                        this.loopTask.addListener(TaskEvent.EVENT_COMPLETE, this.onLoopComplete, this);\n                    }\n                    vfStage.app.ticker.add(this.tick, this);\n                } else {\n                    this.complete();\n                }\n            } else {\n                this.complete();\n            }\n        }\n\n        public complete(): void {\n            super.complete();\n            if (this.loopTask) {\n                this.loopTask.removeListener(TaskEvent.EVENT_COMPLETE, this.onLoopComplete, this);\n            }\n            if (this.component) {\n                const vfStage = this.component.vfStage;\n                if (vfStage && vfStage.app) {\n                    vfStage.app.ticker.remove(this.tick, this);\n                }\n            }\n        }\n        public stop(): void {\n            super.stop();\n            this.complete();\n        }\n\n        public pause(): void {\n            super.pause();\n            if (this.component) {\n                const vfStage = this.component.vfStage;\n                if (vfStage && vfStage.app) {\n                    vfStage.app.ticker.remove(this.tick, this);\n                }\n            }\n        }\n\n        public resume(): void {\n            if (this._isPaused) {\n                if (this.component) {\n                    const vfStage = this.component.vfStage;\n                    if (vfStage && vfStage.app) {\n                        vfStage.app.ticker.add(this.tick, this);\n                    }\n                }\n            }\n            super.resume();\n        }\n\n        private onLoopComplete(): void {\n            this.loopTaskComplete = true;\n        }\n        private tick(): void {\n            if (this.loopTaskComplete) {\n                if (this.loopTask) {\n                    this.loopTask.run();\n                }\n            }\n        }\n    }\n\n","import { BaseTask } from './core/BaseTask';\nimport { VFComponent } from '../../display/VFComponent';\nimport { IActionExpress } from '../model/IVFData';\n\nexport class ExpressTask extends BaseTask {\n        \n        public component: VFComponent;\n        public data: IActionExpress;\n\n        constructor(compontent: VFComponent, data: IActionExpress) {\n            super();\n            this.component = compontent;\n            this.data = data;\n        }   \n\n        public run(): void {\n            super.run();\n            if (this.component && this.component.vfStage) {\n                const variableManager = this.component.vfStage.variableManager;\n                variableManager.caculateExpress(this.component, this.data.express);\n            }\n            this.complete();\n        }\n    }\n\n","import { BaseTask, TaskEvent } from './core/BaseTask';\nimport { VFComponent } from '../../display/VFComponent';\nimport { IActionFor, VariableType } from '../model/IVFData';\nimport { ContainerTask } from './core/ContainerTask';\nimport { VariableManager } from '../VariableManager';\nimport { injectParamsToQueueTask } from './core/ActionListUtils';\n\nexport class ForTask extends ContainerTask {\n    \n    public component: VFComponent;\n    public data: IActionFor;\n    private _totalTimes: number = 0;\n    private _curTimes: number = 0;\n    private _paramId: string = '';\n    private _paramIds: string[] = [];\n    constructor(compontent: VFComponent, data: IActionFor) {\n        super();\n        this.component = compontent;\n        this.data = data;\n    }\n\n    public run() {\n        super.run();\n        this._totalTimes = this.getforin();\n        this._curTimes = -1;\n        if (this.loopTask) {\n            this.loopTask.on(TaskEvent.EVENT_COMPLETE, this.onLoopComplete, this);\n            this.loopTask.on(TaskEvent.EVENT_FAIL, this.onLoopComplete, this);\n        }\n        this.addParams();\n        this.runFor();\n    }\n\n    public break() {\n        this._isRunning = false;\n        if (this.loopTask) {\n            this.loopTask.stop();\n        }\n        this.complete();\n    }\n    public complete(): void {\n        this.removeParams();\n        super.complete();\n    }\n\n    public injectParams(paramIds: string[]): void {\n        if (paramIds && paramIds.length) {\n            this._paramIds = paramIds;\n        }\n    }\n\n    private runFor(): void {\n        if (this._totalTimes > 0 && this._curTimes < this._totalTimes - 1) {\n            if (this.loopTask) {\n                this._curTimes++;\n                if (this.component && this.component.vfStage) {\n                    const variableManager = this.component.vfStage.variableManager;\n                    const paramI = variableManager.getGlobalVariable(this._paramId);\n                    if (paramI) {\n                        paramI.value = this._curTimes;\n                    }\n                }\n                this.loopTask.run();\n            } else {\n                this.complete();\n            }\n        } else {\n            this.complete();\n        }\n    }\n    private getforin(): number {\n        if (this.component.vfStage) {\n            const variableManager = this.component.vfStage.variableManager;\n            const forin = variableManager.getExpressItemValue(this.component, this.data.forin);\n            if (Array.isArray(forin)) {\n                return forin.length;\n            } else {\n                return parseInt(forin, 10);\n            }\n        }\n        return 0;\n    }\n    private onLoopComplete() {\n        this.runFor();\n    }\n    private addParams(): void {\n        if (this.component && this.component.vfStage) {\n            const variableManager = this.component.vfStage.variableManager;\n            const paramValues: any[] = [];\n            const runId = variableManager.getFunctionId();\n            const paramId = runId + '_for';\n            this._paramId = paramId;\n            if (!variableManager.variableMap[VariableManager.GLOBAL_ID]) {\n                variableManager.variableMap[VariableManager.GLOBAL_ID] = {};\n            }\n            variableManager.variableMap[VariableManager.GLOBAL_ID][paramId] = {\n                id: paramId,\n                type: VariableType.OBJECT,\n                value: 0,\n            };\n            ///\n            if (this.loopTask) {\n                const paramIds: string[] = this._paramIds.concat([this._paramId]);\n                injectParamsToQueueTask(this.loopTask, paramIds);\n            }\n        }\n    }\n    private removeParams(): void {\n        if (this.component && this.component.vfStage) {\n            const variableManager = this.component.vfStage.variableManager;\n            const paramId = this._paramId;\n            delete variableManager.variableMap[VariableManager.GLOBAL_ID][paramId];\n        }\n    }\n}\n","import { ContainerTask } from './core/ContainerTask';\nimport { TaskEvent, BaseTask } from './core/BaseTask';\nimport { ExpressTask } from './ExpressTask';\nimport { ExpressItemType, ExpressType, ExpressItem } from '../model/IVFData';\nimport { IfTask } from './IfTask';\nimport { QueueTask } from './core/QueueTask';\nimport { SetPropertyTask } from './SetPropertyTask';\nimport { PlayAnimationTask } from './PlayAnimationTask';\nimport { SoundTask } from './SoundTask';\nimport { CallFunctionTask } from './CallFunctionTask';\nimport { PrintTask } from './PrintTask';\nimport { injectParamsToQueueTask } from './core/ActionListUtils';\n\n\nexport class FunctionTask extends ContainerTask {\n        public funName: string;\n\n        protected _component: vf.gui.DisplayObject;\n        protected _loopComplete: boolean;\n        protected callTargets: number[] = [];\n\n        constructor(compontent: vf.gui.DisplayObject, funName: string) {\n            super();\n            this._loopComplete = false;\n            this._component = compontent;\n            this.funName = funName;\n        }\n    \n        public injectParams(paramIds: string[]): void {\n            if (this.loopTask) {\n                injectParamsToQueueTask(this.loopTask, paramIds);\n            }\n        }\n\n        \n        public runWithId(id: number): void {\n            if (!this._isRunning) {\n                this.callTargets.push(id);\n                this.run();\n            }\n        }\n\n        public stopWithId(id: number): void {\n            const index = this.callTargets.indexOf(id);\n            if (index >= 0) {\n                if (index > 0) {\n                    this.callTargets.splice(index, 1);\n                } else {\n                    this.callTargets.splice(index, 1);\n                    if (this._isRunning) {\n                        this.loopTask.stop();\n                    }\n                }\n            }\n        }\n\n        public breakWithId(id: number): void {\n            const index = this.callTargets.indexOf(id);\n            if (index >= 0) {\n                if (index > 0) {\n                    this.callTargets.splice(index, 1);\n                } else {\n                    this.callTargets.splice(index, 1);\n                    if (this._isRunning) {\n                        this.loopTask.break();\n                    }\n                }\n            }\n        }\n        public run() {\n            super.run();\n            this._loopComplete = true;\n            if (this.loopTask) {\n                this.loopTask.on(TaskEvent.EVENT_COMPLETE, this.onLoopComplete, this);\n                this.loopTask.on(TaskEvent.EVENT_BREAK, this.onBreak, this);\n            }\n            if (this.callTargets.length > 0) {\n                this.loopTask.run();\n            } else {\n                this.complete();\n            }\n        }\n\n    \n        public stop() {\n            this.complete();\n            super.stop();\n        }\n        public break() {\n            this.complete();\n            super.break();\n        }\n    \n        public complete() {\n            this.callTargets.length = 0;\n            this.loopTask.off(TaskEvent.EVENT_COMPLETE, this.onLoopComplete, this);\n            this.loopTask.off(TaskEvent.EVENT_BREAK, this.onBreak, this);\n            super.complete();\n        }\n        protected onLoopComplete() {\n            if (this.callTargets.length > 0) {\n                const callId = this.callTargets[0];\n                this.callTargets.shift();\n                this._isRunning = false;\n                this.emit(TaskEvent.FUNCTION_RUN_COMPLETE, callId);\n            }\n            if (this.callTargets.length > 0) {\n                this.loopTask.run();\n            } else {\n                this.complete();\n            }\n        }\n   \n    }\n\n","import { BaseTask, TaskEvent } from './core/BaseTask';\nimport { VFComponent } from '../../display/VFComponent';\nimport { ExpressType } from '../model/IVFData';\nimport { QueueTask } from './core/QueueTask';\n\nexport class IfTask extends BaseTask {\n        \n        public component: VFComponent;\n        public conditions: ExpressType[] = [];\n        public conditionsRun: QueueTask[] = [];\n        public elseRun?: QueueTask;\n        private curRun?: QueueTask;\n\n        constructor(compontent: VFComponent) {\n            super();\n            this.component = compontent;\n        }   \n\n        public addCondition(condition: ExpressType, run: QueueTask): void {\n            if (condition && condition.length) {\n                this.conditions.push(condition);\n                this.conditionsRun.push(run);\n            } else {\n                this.addElse(run);\n            }\n        }\n        public addElse(run: QueueTask): void {\n            this.elseRun = run;\n        }\n\n        public run(): void {\n            super.run();\n            this.curRun = this.findTask();\n            if (this.curRun) {\n                this.curRun.on(TaskEvent.EVENT_COMPLETE, this.onTaskComplete, this);\n                this.curRun.on(TaskEvent.EVENT_BREAK, this.onTaskBreak, this);\n                this.curRun.run();\n            } else {\n                this.complete();\n            }\n        }\n        private findTask(): QueueTask | undefined {\n            if (this.component.vfStage) {\n                const variableManager = this.component.vfStage.variableManager;\n                for (let i: number = 0, len: number = this.conditions.length; i < len; i++) {\n                    const condition = this.conditions[i];\n                    const result = variableManager.caculateExpress(this.component, condition);\n                    if (result) {\n                        return this.conditionsRun[i];\n                    }\n                }\n                if (this.elseRun) {\n                    return this.elseRun;\n                }\n            }\n            \n        }\n        private onTaskComplete(data: any): void {\n            if (this.curRun) {\n                this.curRun.off(TaskEvent.EVENT_COMPLETE, this.onTaskComplete, this);\n            }\n            this.complete();\n        }\n        private onTaskBreak(data: any): void {\n            this.break();\n            this.complete();\n        }\n    }\n\n","import { BaseTask } from './core/BaseTask';\nimport { VFComponent } from '../../display/VFComponent';\nimport { ITransitionData } from '../model/IVFData';\n\nexport class JumpToNextSceneTask extends BaseTask {\n        \n        public component: VFComponent;\n        public transition?: ITransitionData;\n\n        constructor(compontent: VFComponent, transition?: ITransitionData) {\n            super();\n            this.component = compontent;\n            this.transition = transition;\n        }   \n\n        public run(): void {\n            super.run();\n            const vfStage = this.component.vfStage;\n            if (vfStage) {\n                vfStage.switchToNextScene(this.transition);\n                this.complete();\n            } else {\n                this.complete();\n            }\n        }\n    }\n\n","import { BaseTask } from './core/BaseTask';\nimport { VFComponent } from '../../display/VFComponent';\nimport { ITransitionData } from '../model/IVFData';\n\nexport class JumpToPrevSceneTask extends BaseTask {\n        \n        public component: VFComponent;\n        public transition?: ITransitionData;\n\n        constructor(compontent: VFComponent, transition?: ITransitionData) {\n            super();\n            this.component = compontent;\n            this.transition = transition;\n        }   \n\n        public run(): void {\n            super.run();\n            const vfStage = this.component.vfStage;\n            if (vfStage) {\n                vfStage.switchToPrevScene(this.transition);\n                this.complete();\n            } else {\n                this.complete();\n            }\n        }\n    }\n\n","import { BaseTask } from './core/BaseTask';\nimport { VFComponent } from '../../display/VFComponent';\nimport { ITransitionData } from '../model/IVFData';\n\nexport class JumpToSceneTask extends BaseTask {\n        \n        public component: VFComponent;\n        public sceneId: string;\n        public transition?: ITransitionData;\n\n        constructor(compontent: VFComponent, sceneId: string, transition?: ITransitionData) {\n            super();\n            this.component = compontent;\n            this.sceneId = sceneId;\n            this.transition = transition;\n        }   \n\n        public run(): void {\n            super.run();\n            const vfStage = this.component.vfStage;\n            if (vfStage) {\n                vfStage.switchToSceneId(this.sceneId, this.transition);\n                this.complete();\n            } else {\n                this.complete();\n            }\n            \n        }\n    }\n\n","import { BaseTask } from './core/BaseTask';\nimport { VFComponent } from '../../display/VFComponent';\nimport { IActionPlayAnimation } from '../model/IVFData';\nimport { getTargetComponent } from '../../utils/VFUtil';\n\nexport class PlayAnimationTask extends BaseTask {\n        \n        public component: VFComponent;\n        public data: IActionPlayAnimation;\n        protected _component: VFComponent | undefined;\n\n        constructor(compontent: VFComponent, data: IActionPlayAnimation) {\n            super();\n            this.component = compontent;\n            this.data = data;\n            \n        }   \n       \n        public run(): void {\n            super.run();\n            this._component = getTargetComponent(this.component, this.data.target) as VFComponent;\n            const name = this.getValue();\n            const times = this.getTimes();\n            if (this._component && this._component.vfStage) {\n                this._component.play(name, times);\n            }\n            \n            this.complete();\n        }\n\n        private getValue(): any {\n            if (Array.isArray(this.data.name)) {\n                if (this._component && this.component.vfStage) {\n                    const variableManager = this.component.vfStage.variableManager;\n                    return variableManager.getExpressItemValue(this._component, this.data.name);\n                }\n                \n            } \n            return this.data.name;\n        }\n        private getTimes(): any {\n            if (Array.isArray(this.data.times)) {\n                if (this._component && this.component.vfStage) {\n                    const variableManager = this.component.vfStage.variableManager;\n                    return variableManager.getExpressItemValue(this._component, this.data.times);\n                }\n                \n            } \n            return this.data.times;\n        }\n    }\n\n","import { BaseTask } from './core/BaseTask';\nimport trace from '../../utils/Trace';\nimport { IAction } from '../model/IVFData';\nimport { VFComponent } from '../../display/VFComponent';\n\nexport class PrintTask extends BaseTask {\n        public data: IAction;\n        private component: VFComponent;\n        constructor(component: VFComponent, data: IAction) {\n            super();\n            this.component = component;\n            this.data = data;\n        }\n\n        public run(): void {\n            // mark: 运行日志统一移到日志模块处理\n            if(this.component.vfStage?.config.debug) trace(this.getValue());\n            this.complete();\n        }\n\n        private getValue(): any {\n            if (Array.isArray(this.data.value)) {\n                if (this.component.vfStage) {\n                    const variableManager = this.component.vfStage.variableManager;\n                    return variableManager.getExpressItemValue(this.component, this.data.value);\n                }\n                \n            } \n            return this.data.value;\n        }\n    }\n\n","import { BaseTask } from './core/BaseTask';\nimport { VFComponent } from '../../display/VFComponent';\nimport { IActionAddEventListener } from '../model/IVFData';\nimport { getTargetComponent } from '../../utils/VFUtil';\n\n\nexport class RemoveListenerTask extends BaseTask {\n        public data: IActionAddEventListener;\n        public eventName: string;\n        public component: VFComponent;\n        protected _component: vf.gui.DisplayObject | undefined;\n        protected _loopComplete: boolean;\n        protected system: boolean;\n        protected global: boolean;\n\n        constructor(component: VFComponent, data: IActionAddEventListener) {\n            super();\n            this._loopComplete = false;\n            this.component = component;\n            this.data = data;\n            this.eventName = data.event;\n            this.system = data.system === true;\n            this.global = data.global === true;\n        }\n    \n        public run() {\n            super.run();\n            if (this.component) {\n                if (this.system) {\n                    const vfStage = (this.component as VFComponent).vfStage;\n                    if (vfStage) {\n                        vfStage.systemEvent.off(this.eventName);\n                    }\n                } else if (this.global) {\n                    const vfStage = (this.component as VFComponent).vfStage;\n                    if (vfStage) {\n                        vfStage.off(this.eventName);\n                    }\n                } else {\n                    this._component = getTargetComponent(this.component, this.data.target);\n                    if (this._component) {\n                        this._component.off(this.eventName);\n                    }\n                }\n            }\n            this.complete();\n        }   \n    }\n\n","import { BaseTask, TaskEvent } from './core/BaseTask';\nimport { VFComponent } from '../../display/VFComponent';\nimport { IAction, IActionInterval } from '../model/IVFData';\nimport { isNumber } from '../../utils/VFUtil';\nimport { ContainerTask } from './core/ContainerTask';\n\nexport class SetIntervalTask extends ContainerTask {\n        \n        public component: VFComponent;\n        public data: IActionInterval;\n        private timeoutHandler?: vf.gui.Scheduler;\n        private lastTimes: number = 0;\n        private loopTaskComplete: boolean = true;\n        private intervalComplete: boolean = true;\n        private _timeout: number = 0;\n        private _times: number = 1;\n        constructor(component: VFComponent, data: IActionInterval) {\n            super();\n            this.component = component;\n            this.data = data;\n        }   \n\n        private get timeout(): number {\n            let time: number = 0;\n            if (Array.isArray(this.data.value)) {\n                if (this.component && this.component.vfStage) {\n                    const variableManager = this.component.vfStage.variableManager;\n                    time = variableManager.getExpressItemValue(this.component, this.data.value);\n                }\n            } else {\n                time = this.data.value;\n            }\n            if (!isNumber(time)) {\n                time = 1;\n            }\n            return time;\n        }\n\n        private get times(): number {\n            let times: number = 0;\n            if (Array.isArray(this.data.times)) {\n                if (this.component && this.component.vfStage) {\n                    const variableManager = this.component.vfStage.variableManager;\n                    times = variableManager.getExpressItemValue(this.component, this.data.times);\n                }\n                \n            } else {\n                if (this.data.times === undefined) {\n                    times = 0;\n                } else {\n                    times = this.data.times;\n                }\n                \n            }\n            if (!isNumber(times)) {\n                times = 0;\n            }\n            return times;\n        }\n\n        public run(): void {\n            super.run();\n            this._timeout = this.timeout;\n            this._times = this.times;\n            this.lastTimes = this._times;\n            if (this.loopTask) {\n                this.loopTask.addListener(TaskEvent.EVENT_COMPLETE, this.onLoopComplete, this);\n            }\n            \n            this.runOnce(this._timeout, this._times);\n        }\n\n        public complete(): void {\n            \n            super.complete();\n            if (this.timeoutHandler) {\n                this.timeoutHandler.stop();\n                this.timeoutHandler = undefined;\n            }\n            if (this.loopTask) {\n                this.loopTask.removeListener(TaskEvent.EVENT_COMPLETE, this.onLoopComplete, this);\n            }\n        }\n\n        public stop(): void {\n            super.stop();\n            this.complete();\n        }\n\n        public resume(): void {\n            if (this._isPaused) {\n                if (this.loopTaskComplete && this.intervalComplete) {\n                    this.checkComplete(this._timeout, this._times);\n                }\n            }\n            super.resume();\n        }\n        private onLoopComplete(): void {\n            this.loopTaskComplete = true;\n            if (this.intervalComplete) {\n                this.checkComplete(this._timeout, this._times);\n            }\n        }\n\n        private runOnce(timeout: number, times: number): void {  \n            this.intervalComplete = false;\n            if (this.timeoutHandler === undefined) {\n                this.timeoutHandler = vf.gui.Scheduler.setTimeout(timeout, () => {\n                    this.intervalComplete = true;\n                    if (this.timeoutHandler) {\n                        this.timeoutHandler.stop();\n                    }\n    \n                    if (this.loopTaskComplete && this.intervalComplete) {\n                        this.checkComplete(timeout, times);\n                    }\n                });\n            } else {\n                this.timeoutHandler.restart();\n            }\n            \n            \n        }\n\n        private checkComplete(timeout: number, times: number): void {\n            if (this._isPaused || this._isCompleted) {\n                return;\n            }\n            let isComplete: boolean = false;\n            if (times > 0) {\n                if (this.lastTimes > 0) {\n                    isComplete =  false;\n                } else {\n                    isComplete =  true;\n                }\n            } else {\n                isComplete =  false;\n            }\n\n            if (isComplete) {\n                this.complete();\n            } else {\n                this.lastTimes--;\n                if (this.loopTask) {\n                    this.loopTaskComplete = false;\n                    this.runOnce(timeout, times);\n                    this.loopTask.run();\n                    \n                } else {\n                    this.complete();\n                }\n            }\n        }\n    }\n\n","import { BaseTask } from './core/BaseTask';\nimport { VFComponent } from '../../display/VFComponent';\nimport { IActionSetProperty } from '../model/IVFData';\nimport { getTargetComponent } from '../../utils/VFUtil';\n\nexport class SetPropertyTask extends BaseTask {\n        \n        public component: VFComponent;\n        public data: IActionSetProperty;\n\n        constructor(compontent: VFComponent, data: IActionSetProperty) {\n            super();\n            this.component = compontent;\n            this.data = data;\n        }   \n\n        public run(): void {\n            super.run();\n            const component = getTargetComponent(this.component, this.data.target);\n            if (component) {\n                (component as any)[this.data.property] = this.getValue();\n            }\n            this.complete();\n        }\n\n        private getValue(): any {\n            if (Array.isArray(this.data.value)) {\n                if (this.component.vfStage) {\n                    const variableManager = this.component.vfStage.variableManager;\n                    return variableManager.getExpressItemValue(this.component, this.data.value);\n                }\n                \n            } \n            return this.data.value;\n        }\n    }\n\n","import { BaseTask, TaskEvent } from './core/BaseTask';\nimport { VFComponent } from '../../display/VFComponent';\nimport { IAction } from '../model/IVFData';\nimport { isNumber } from '../../utils/VFUtil';\nimport { ContainerTask } from './core/ContainerTask';\n\nexport class SetTimeoutTask extends ContainerTask {\n        \n        public component: VFComponent;\n        public data: IAction;\n        private timeoutHandler?: vf.gui.Scheduler;\n\n        constructor(component: VFComponent, data: IAction) {\n            super();\n            this.component = component;\n            this.data = data;\n        }   \n\n        private get timeout(): number {\n            let time: number = 0;\n            if (Array.isArray(this.data.value)) {\n                if (this.component && this.component.vfStage) {\n                    const variableManager = this.component.vfStage.variableManager;\n                    time = variableManager.getExpressItemValue(this.component, this.data.value);\n                }\n                \n            } else {\n                time = this.data.value;\n            }\n            if (!isNumber(time)) {\n                time = 1;\n            }\n            return time;\n        }\n\n        public run(): void {\n            super.run();\n            const timeout = this.timeout;\n            this.timeoutHandler = vf.gui.Scheduler.setTimeout(timeout, () => {\n                if (this.timeoutHandler) {\n                    this.timeoutHandler.stop();\n                    this.timeoutHandler = undefined;\n                }\n                if (this.loopTask) {\n                    this.loopTask.run();\n                }   \n            });\n\n            this.complete();\n        }\n    }\n\n","import { BaseTask } from './core/BaseTask';\nimport { VFComponent } from '../../display/VFComponent';\nimport { IActionSound, ActionType } from '../model/IVFData';\n\nexport class SoundTask extends BaseTask {\n        public component: VFComponent;\n        public readonly data: IActionSound;\n        public readonly dataType: number;\n\n        constructor(compontent: VFComponent, actionData: IActionSound) {\n            super();\n            this.component = compontent;\n            this.dataType = actionData.type;\n            this.data = actionData;\n        }\n\n        public run(): void {\n            super.run();\n            if (this.component.vfStage) {\n                const soundManager = this.component.vfStage.soundManager;\n                const variableManager = this.component.vfStage.variableManager;\n                let data: any;\n\n                try {\n                    data = variableManager.getExpressItemValue(this.component, this.data.value);\n                }\n                catch (e) {\n                    vf.utils.deprecation('5.2.1-v14', 'Please use the new sound API');\n                }\n\n                if (data.assetId === undefined) {\n                    console.log('execute sound failed, missing assetId');\n\n                    return;\n                }\n                if (data.trackId === undefined) {\n                    console.log('execute sound failed, missing trackId');\n\n                    return;\n                }\n                data.mode = data.mode || 'sound';\n                let soundId: number | string | undefined;\n\n                if (Array.isArray(data.assetId)) {\n                    const soundIdVar = variableManager.getExpressItemValue(this.component, data.assetId);\n\n                    if (soundIdVar && soundIdVar.value !== undefined) {\n                        soundId = soundIdVar.value;\n                    }\n                    else {\n                        soundId = soundIdVar;\n                    }\n                }\n                else {\n                    soundId = data.assetId;\n                }\n                data.assetId = soundId as number;\n                switch (this.dataType) {\n                    case ActionType.PlaySound:\n                        soundManager.playSound(data);\n                        break;\n                    case ActionType.PauseSound:\n                        soundManager.pauseSound(data);\n                        break;\n                    case ActionType.ResumeSound:\n                        soundManager.resumeSound(data);\n                        break;\n                }\n                this.complete();\n            }\n            else {\n                this.complete();\n            }\n        }\n}\n\n","import { BaseTask, TaskEvent } from './core/BaseTask';\nimport { VFComponent } from '../../display/VFComponent';\nimport { IAction } from '../model/IVFData';\nimport { isNumber } from '../../utils/VFUtil';\n\nexport class WaitTask extends BaseTask {\n        \n    public component: VFComponent;\n    public data: IAction;\n    private timeoutHandler?: vf.gui.Scheduler;\n\n    constructor(component: VFComponent, data: IAction) {\n        super();\n        this.component = component;\n        this.data = data;\n    }   \n\n    private get timeout(): number {\n        let time: number = 0;\n        if (Array.isArray(this.data.value)) {\n            if (this.component && this.component.vfStage) {\n                const variableManager = this.component.vfStage.variableManager;\n                time = variableManager.getExpressItemValue(this.component, this.data.value);\n            }\n            \n        } else {\n            time = this.data.value;\n        }\n        if (!isNumber(time)) {\n            time = 1;\n        }\n        return time;\n    }\n\n    public run(): void {\n        super.run();\n        const timeout = this.timeout;\n        this.timeoutHandler = vf.gui.Scheduler.setTimeout(timeout, () => {\n            if (this.timeoutHandler) {\n                this.timeoutHandler.stop();\n                this.timeoutHandler = undefined;\n            }\n            \n            this.complete();\n        });\n    }\n}\n\n","import { QueueTask } from './QueueTask';\nimport { BaseTask } from './BaseTask';\nimport { ExpressTask } from '../ExpressTask';\nimport { IfTask } from '../IfTask';\nimport { SetPropertyTask } from '../SetPropertyTask';\nimport { PlayAnimationTask } from '../PlayAnimationTask';\nimport { SoundTask } from '../SoundTask';\nimport { CallFunctionTask } from '../CallFunctionTask';\nimport { PrintTask } from '../PrintTask';\nimport { ExpressType, ExpressItem, ExpressItemType } from '../../model/IVFData';\nimport { ForTask } from '../ForTask';\nimport { CallProtoFunctionTask } from '../CallProtoFunctionTask';\nimport { AddListenerTask } from '../AddListenerTask';\nimport { AddListenerCallTask } from '../AddListenerCallTask';\nimport { RemoveListenerTask } from '../RemoveListenerTask';\nimport { EmitEventTask } from '../EmitEventTask';\n\nexport function injectParamsToQueueTask(queue: QueueTask, paramIds: string[]): void {\n    const tasks = queue.tasks;\n    if (tasks) {\n        for (let i: number = 0, len: number = tasks.length; i < len; i++) {\n            injectParamsToTask(tasks[i], paramIds);\n        }\n    }\n}\nfunction injectParamsToTask(task: BaseTask, paramIds: string[]): void {\n    if (task instanceof ExpressTask) {\n        const express = (task).data.express;\n        modifyParamValue(express, paramIds);\n    } else if (task instanceof IfTask) {\n        const conditions = task.conditions;\n        for (let j: number = 0, jlen: number = conditions.length; j < jlen; j++) {\n            const exp = conditions[j];\n            modifyParamValue(exp, paramIds);\n        }\n        if (task.conditionsRun) {\n            const conditionRun = task.conditionsRun;\n            for (let i: number = 0, len: number = conditionRun.length; i < len; i++) {\n                const oneRun = conditionRun[i];\n                injectParamsToQueueTask(oneRun, paramIds);\n            }\n        }\n        if (task.elseRun) {\n            injectParamsToQueueTask(task.elseRun, paramIds);\n        }\n    } else if (task instanceof SetPropertyTask) {\n        if (task.data.value && Array.isArray(task.data.value)) {\n            modiyExpressItemParamValue(task.data.value, paramIds);\n        }\n    } else if (task instanceof PlayAnimationTask) {\n        if (task.data.name && Array.isArray(task.data.name)) {\n            modiyExpressItemParamValue(task.data.name as any, paramIds);\n        }\n        if (task.data && task.data.target) {\n            modiyExpressItemParamValue(task.data.target, paramIds);\n        }\n    } else if (task instanceof SoundTask) {\n        if (task.data.assetId && Array.isArray(task.data.assetId)) {\n            modiyExpressItemParamValue(task.data.assetId, paramIds);\n        }\n    } else if (task instanceof CallFunctionTask) {\n        if (task.data && task.data.params) {\n            modifyParamValue(task.data.params, paramIds);\n        }\n        if (task.data && task.data.target) {\n            modiyExpressItemParamValue(task.data.target, paramIds);\n        }\n    } else if (task instanceof PrintTask) {\n        if (task.data && task.data.value) {\n            modiyExpressItemParamValue(task.data.value, paramIds);\n        }\n    } else if (task instanceof ForTask) {\n        task.injectParams(paramIds);\n    } else if (task instanceof AddListenerTask ||\n        task instanceof AddListenerCallTask ||\n        task instanceof RemoveListenerTask ||\n        task instanceof EmitEventTask ||\n        task instanceof CallProtoFunctionTask) {\n\n        if (task.data && task.data.target) {\n            modiyExpressItemParamValue(task.data.target, paramIds);\n        }\n    }\n}\nfunction modifyParamValue(express: ExpressType, paramIds: any[]): void {\n    if (!express || !Array.isArray(express)) {\n        return;\n    }\n    for (let j: number = 0, jlen: number = express.length; j < jlen; j++) {\n        const expressItem = express[j];\n        modiyExpressItemParamValue(expressItem, paramIds);\n    }\n}\nfunction modiyExpressItemParamValue(expressItem: ExpressItem, paramIds: any[]): void {\n    if (expressItem[0] === ExpressItemType.PARAM_VALUE) {\n        const paramIndex = expressItem[1];\n        if (paramIds.length > paramIndex) {\n            expressItem[2] = paramIds[paramIndex];\n        }\n    } else if (expressItem[0] === ExpressItemType.ARRAY_VALUE) {\n        // expressItem 0:type, 1:componentId, 2: variableId, 3: index, 4?: property\n        if (Array.isArray(expressItem[3])) {\n            modiyExpressItemParamValue(expressItem[3], paramIds);\n        }\n    }\n}\n","export enum TaskEvent {\n    EVENT_COMPLETE = 'EVENT_COMPLETE',\n    EVENT_FAIL = 'EVENT_FAIL',\n    EVENT_BREAK = 'EVENT_BREAK',\n    FUNCTION_RUN_COMPLETE = 'FUNCTION_RUN_COMPLETE',\n}\nexport class BaseTask extends vf.utils.EventEmitter {\n\n    protected _isRunning: boolean = false;\n    protected _isPaused: boolean = false;\n    protected _isCompleted: boolean = false;\n    protected _isFailed: boolean = false;\n    protected _asynchronous: boolean = false;\n\n    constructor() {\n        super();\n    }\n\n    public run(): void {\n        this._isRunning = true;\n        this._isCompleted = false;\n        this._isFailed = false;\n    }\n\n    public stop(): void {\n        this._isRunning = false;\n    }\n\n    public pause(): void {\n        this._isPaused = true;\n    }\n\n    public resume(): void {\n        this._isPaused = false;\n    }\n    public break() {\n        this._isRunning = false;\n        this.emit(TaskEvent.EVENT_BREAK);\n    }\n\n    public complete(): void {\n        this._isRunning = false;\n        this._isCompleted = true;\n        this.emit(TaskEvent.EVENT_COMPLETE);\n    }\n\n    public fail(type: string, data: any = null): void {\n        this._isRunning = false;\n        this._isFailed = true;\n        this.emit(TaskEvent.EVENT_FAIL, data);\n    }\n\n    public get asynchronous(): boolean {\n        return this._asynchronous;\n    }\n\n    public get isRunning(): boolean {\n        return this._isRunning;\n    }\n\n    public get isCompleted(): boolean {\n        return this._isCompleted;\n    }\n    public get isFailed(): boolean {\n        return this._isFailed;\n    }\n\n    public get isPaused(): boolean {\n        return this._isPaused;\n    }\n}\n\n","import { BaseTask, TaskEvent } from './BaseTask';\nimport { QueueTask } from './QueueTask';\n\nexport class ContainerTask extends BaseTask {\n\n        protected loopTask: QueueTask;\n\n        constructor() {\n            super();\n            this.loopTask = new QueueTask();\n            this.loopTask.on(TaskEvent.EVENT_BREAK, this.onBreak, this);\n        }\n    \n        public addSubTask(task: BaseTask) {\n            if (this.loopTask) {\n                this.loopTask.addTask(task);\n                if (this.loopTask.asynchronous) {\n                    this._asynchronous = true;\n                }\n            }\n        }\n    \n        public stop() {\n            super.stop();\n            if (this.loopTask) {\n                this.loopTask.off(TaskEvent.EVENT_BREAK);\n                this.loopTask.stop();\n            }\n        }\n    \n        public break() {\n            super.break();\n            if (this.loopTask) {\n                this.loopTask.off(TaskEvent.EVENT_BREAK);\n                this.loopTask.break();\n            }\n        }\n\n        public pause(): void {\n            super.pause();\n            if (this.loopTask) {\n                this.loopTask.pause();\n            }\n        }\n\n        public resume(): void {\n            super.resume();\n            if (this.loopTask) {\n                this.loopTask.resume();\n            }\n        }\n\n        protected onBreak(data: any) {\n            this.break();\n        }\n    }\n\n","import { BaseTask, TaskEvent } from './BaseTask';\n\nexport class QueueTask extends BaseTask {\n\n        private _tasks: BaseTask[] = [];\n        private _currentTask: BaseTask = null as any;\n        private _curTaskIndex: number = 0;\n\n        constructor() {\n            super();\n        }\n        \n        public get tasks(): BaseTask[] {\n            return this._tasks;\n        }\n\n        public run(): void {\n            if (this.isRunning) {\n                return;\n            }\n            this._curTaskIndex = 0;\n            super.run();\n            this._nextTask();\n        }\n\n        public stop(): void {\n            super.stop();\n\n            if (this._currentTask) {\n                this.clearEvent(this._currentTask);\n                this._currentTask.stop();\n                this._currentTask = null as any;\n            }\n            this._curTaskIndex = Number.MAX_VALUE;\n            this.off(TaskEvent.EVENT_COMPLETE);\n            this.off(TaskEvent.EVENT_BREAK);\n            this.off(TaskEvent.EVENT_FAIL);\n            this.complete();\n        }\n\n        public pause(): void {\n            super.pause();\n            if (this._tasks) {\n                for (let i: number = 0, len: number = this._tasks.length; i < len; i++) {\n                    this._tasks[i].pause();\n                }\n            }\n        }\n\n        public resume(): void {\n            super.resume();\n            if (this._tasks) {\n                for (let i: number = 0, len: number = this._tasks.length; i < len; i++) {\n                    this._tasks[i].resume();\n                }\n            }\n        }\n\n        public break(): void {\n            super.break();\n\n            if (this._currentTask) {\n                this.clearEvent(this._currentTask);\n                this._currentTask.break();\n                this._currentTask = null as any;\n            }\n            this._curTaskIndex = Number.MAX_VALUE;\n            this.off(TaskEvent.EVENT_COMPLETE);\n            this.off(TaskEvent.EVENT_BREAK);\n            this.off(TaskEvent.EVENT_FAIL);\n            this.complete();\n        }\n\n        public addTask(task: BaseTask): BaseTask {\n            if (task) {\n                if (task.asynchronous) {\n                    this._asynchronous = true;\n                }\n                if (this._tasks.indexOf(task) < 0) {\n                    this._tasks.push(task);\n                } else {\n                    throw new Error('duplicate task');\n                }\n            } else {\n                throw new Error('ArgumentError');\n            }\n            return task;\n        }\n        private _nextTask(prevTask?: BaseTask): void {\n\n            let task: BaseTask = null as any;\n            if (this._curTaskIndex < this._tasks.length) {\n                task = this._tasks[this._curTaskIndex];\n            }\n            if (task) {\n                this._currentTask = task;\n                this._currentTask.on(TaskEvent.EVENT_COMPLETE, this.onOneTaskComplete, this);\n                this._currentTask.on(TaskEvent.EVENT_FAIL, this.onOneTaskFail, this);\n                this._currentTask.on(TaskEvent.EVENT_BREAK, this.onOneTaskBreak, this);\n\n                this._currentTask.run();\n            } else {\n                this.complete();\n            }\n        }\n\n        private clearEvent(task: BaseTask): void {\n            if (task) {\n                task.off(TaskEvent.EVENT_COMPLETE, this.onOneTaskComplete, this);\n                task.off(TaskEvent.EVENT_FAIL, this.onOneTaskFail, this);\n                task.off(TaskEvent.EVENT_BREAK, this.onOneTaskBreak, this);\n            }\n        }\n\n        private onOneTaskBreak(data: any): void {\n            if (this._currentTask) {\n                this.clearEvent(this._currentTask);\n                this.emit(TaskEvent.EVENT_BREAK);\n                this.complete();\n            }\n        }\n\n        private onOneTaskFail(data: any): void {\n            if (this._currentTask) {\n                this.clearEvent(this._currentTask);\n                this.fail(data.type, data.data);\n            } else {\n                // debug\n                throw new Error('no task');\n            }\n        }\n\n        private onOneTaskComplete(data: any): void {\n            this.clearEvent(this._currentTask);\n            this._curTaskIndex++;\n            this._nextTask(this._currentTask);\n        }\n    }\n\n","import { AnimationClip } from './AnimationClip';\nimport { VFComponent } from '../../display/VFComponent';\nimport { IAnimation, ITimeline, TimelineType, IFrame, ISubAnimation, AnimationEvent, AnimationStatus } from '../model/IVFData';\nimport { Timeline } from './Timeline';\nimport { NumberFrame } from './NumberFrame';\nimport { BooleanFrame } from './BooleanFrame';\nimport { StringFrame } from './StringFrame';\nimport { ColorFrame } from './ColorFrame';\nimport { Frame } from './Frame';\nimport { EventTimeline } from './EventTimeline';\nimport { EventFrame } from './EventFrame';\n\nexport class Animation {\n\n        private animationMap: {[name: string]: AnimationClip[]} = {};\n        private animationConfig: {[name: string]: {loop?: boolean, totalTime: number, autoPlay?: boolean}} = {};\n\n        private status: number = AnimationStatus.STOP;\n        private curAnimationClips: AnimationClip[] = [];\n\n        private realFPS: boolean = false;\n        private curTime: number = 0;\n        private lastTime: number = 0;\n        private curPlayTime: number = 0;\n        private startTime: number = 0;\n        private passedTime: number = 0;\n        private component: VFComponent;\n        private data: IAnimation[];\n        private minDeltaT: number = 33;\n        private deltaT: number = 0;\n        private fps: number = 30;\n        private curAnimatinName: string = '';\n        private curAnimatinDuration: number = 0;\n        private curAnimatinDurationTime: number = 0;\n        private curAnimationTimes: number = 0;\n        private curAnimationTotalTime: number = 0;\n        private _curPlayTimes: number = 0;\n\n        constructor(component: VFComponent, data: IAnimation[], fps: number = 30) {\n            this.component = component;\n            this.data = data;\n            if (fps > 0) {\n                this.fps = fps;\n            }\n            this.minDeltaT = Math.ceil(1000 / this.fps);\n            this.deltaT = 0;\n            this.parseData();\n        }\n\n        public addAnimationClip(clip: AnimationClip): void {\n            const name = clip.name;\n            let animations = this.animationMap[name];\n            if (animations == null) {\n                animations = [];\n                this.animationMap[name] = animations;\n            }\n            animations.push(clip);\n        }\n\n        public getPauseData(): {animation: string, frame: number, times: number} | undefined {\n            if (this.status === AnimationStatus.PLAYING) {\n                return {\n                    animation: this.curAnimatinName,\n                    frame: Math.round(this.curPlayTime * this.fps / 1000),\n                    times: this.curAnimationTimes <= 0 ? \n                                this.curAnimationTimes : \n                                (this.curAnimationTimes - this._curPlayTimes),\n                };\n            }\n            return undefined;\n        }\n        public playDefaultAnimation(): void {\n            if (this.status === AnimationStatus.PLAYING) {\n                return;\n            }\n            for ( const name in this.animationConfig) {\n                if (this.animationConfig[name]) {\n                    const config = this.animationConfig[name];\n                    if (config.autoPlay) {\n                        this.play(name, config.loop ? -1 : 1);\n                        break;\n                    }\n                }\n            }\n        }\n\n        public gotoPlay(name: string, frameIndex: number, times: number = 1): void  {\n            if (this.status === AnimationStatus.PLAYING) {\n                this.stop();\n            }\n            const config = this.animationConfig[name];\n            if (config) {\n                this.curAnimatinDuration = config.totalTime;\n            } else {\n                // tslint:disable-next-line: no-console\n                console.warn('can not find animation:', name);\n                return;\n            }\n            this.curAnimatinName = name;\n            this.curAnimationClips = this.animationMap[name];\n            this.curAnimationTimes = times;\n            this.curAnimationTotalTime = Math.round(this.curAnimatinDuration * \n                                                    this.curAnimationTimes * (1000 / this.fps));\n            this.curAnimatinDurationTime = Math.round(this.curAnimatinDuration * 1000 / this.fps);\n            this.curPlayTime = frameIndex * (1000 / this.fps);\n            this.deltaT = 0;\n            this.setCurTime(this.curPlayTime);\n            this.status = AnimationStatus.PLAYING;\n            this.startTime = new Date().getTime();\n            this.curTime = this.startTime;\n            this.lastTime = this.startTime;\n            this.startTime -= this.curPlayTime;\n            this._curPlayTimes = 0;\n            vf.Ticker.shared.add(this.tick, this);\n        }\n        public gotoStop(name: string, frameIndex: number): void {\n            if (this.status === AnimationStatus.PLAYING) {\n                this.stop();\n            }\n            const config = this.animationConfig[name];\n            if (config) {\n                this.curAnimatinDuration = config.totalTime;\n            } else {\n                // tslint:disable-next-line: no-console\n                console.warn('can not find animation:', name);\n                return;\n            }\n\n            this.curAnimationClips = this.animationMap[name];\n            this.curAnimationTimes = 1;\n            this.curAnimationTotalTime = Math.round(this.curAnimatinDuration * \n                                                    this.curAnimationTimes * (1000 / this.fps));\n            this.curAnimatinDurationTime = Math.round(this.curAnimatinDuration * 1000 / this.fps);\n            this.curPlayTime = frameIndex * (1000 / this.fps);\n            this.deltaT = 0;\n            this.setCurTime(this.curPlayTime);\n            this.status = AnimationStatus.STOP;\n            this.startTime = new Date().getTime();\n            this.curTime = this.startTime;\n            this.lastTime = this.startTime;\n            this.startTime -= this.curPlayTime;\n            this._curPlayTimes = 0;\n            this.tick();\n        }\n\n        public play(name: string, times: number = 1): void {\n           this.gotoPlay(name, 0, times);\n        }\n\n        public stop(): void {\n            vf.Ticker.shared.remove(this.tick, this);\n            this.status = AnimationStatus.STOP;\n            this.skipNextEvent();\n        }\n\n        protected set curPlayTimes(v: number) {\n            if (v !== this._curPlayTimes) {\n                this._curPlayTimes = v;\n                if (this.component) {\n                    this.component.emit(AnimationEvent.AnimationLoopComplete, v);\n                    if (this.curAnimationTimes > 0 && this._curPlayTimes >= this.curAnimationTimes) {\n                        this.component.emit(AnimationEvent.AnimationComplete);\n                    }\n                }\n            }\n        }\n        protected tick(): void {\n            const curTime = new Date().getTime();\n            this.curTime = curTime;\n            const dt = this.curTime - this.lastTime;\n            this.curPlayTime += dt;\n            if (this.realFPS) {\n                this.deltaT += dt;\n                if (this.deltaT < this.minDeltaT) {\n                    this.lastTime = this.curTime;\n                    this.passedTime = this.curTime - this.startTime;\n\n                    if (this.curAnimationTimes > 0 && \n                        this.passedTime > this.curAnimationTotalTime) {\n                        this.stop();\n                    }\n                    this.curPlayTimes = Math.floor(this.passedTime / this.curAnimatinDurationTime);\n                    return;\n                }\n                while (this.deltaT > this.minDeltaT) {\n                    this.deltaT -= this.minDeltaT;\n                }\n            }\n            if (this.curPlayTime > this.curAnimatinDurationTime) {\n                if (this.curAnimationTimes < 0 || // 循环播放\n                    this.curAnimationTimes > 1 && this._curPlayTimes < this.curAnimationTimes - 1) { // 非最后一次播放\n                    this.curPlayTime = this.curPlayTime % this.curAnimatinDurationTime;\n                }\n            }\n            this.setCurTime(this.curPlayTime);\n\n            this.lastTime = this.curTime;\n            this.passedTime = this.curTime - this.startTime;\n\n            if (this.curAnimationTimes > 0 && \n                this.passedTime > this.curAnimationTotalTime) {\n                this.stop();\n            }\n            this.curPlayTimes = Math.floor(this.passedTime / this.curAnimatinDurationTime);\n            \n        }\n\n        protected setCurTime(curTime: number): void { \n            if (this.curAnimationClips) {\n                for (let i: number = 0, len: number = this.curAnimationClips.length; i < len; i++) {\n                    const clip = this.curAnimationClips[i];\n                    clip.curTime = curTime;\n                }\n            }\n        }\n\n        protected skipNextEvent(): void {\n            if (this.curAnimationClips) {\n                for (let i: number = 0, len: number = this.curAnimationClips.length; i < len; i++) {\n                    const clip = this.curAnimationClips[i];\n                    clip.skipNextEvent();\n                }\n            }\n        }\n        //  parse\n        private parseData(): void {\n            if (this.component && this.data) {\n                for (let i: number = 0, len: number = this.data.length; i < len; i++) {\n                    this.parseAnimation(this.data[i]);\n                }\n            }\n        }\n\n        private parseAnimation(anim: IAnimation): void {\n            const name = anim.name;\n            const totalTime = anim.duration || 0;\n            const loop = anim.loop;\n            const autoPlay = anim.autoPlay;\n\n            const config = {\n                loop,\n                totalTime,\n                autoPlay,\n            };\n            this.animationConfig[name] = config;\n            let duration: number = 0;\n            for (const key in anim.children) {\n                if (anim.children[key]) {\n                    const ac = this.parseAnimationClip( key, name, anim.children[key]);\n                    if (ac && ac.totalTime > duration) {\n                        duration = ac.totalTime;\n                    }\n                }\n            }\n\n            if (!anim.duration || anim.duration <= 0) {\n                anim.duration = duration;\n                config.totalTime = duration;\n            }\n        }\n\n        private parseAnimationClip(componentId: string, animName: string, \n                                   subAnimation: ISubAnimation): AnimationClip | undefined {\n            const childId = componentId;\n            let component: vf.gui.DisplayObject;\n            if (childId === TimelineType.EVENT) {\n                component = this.component;\n            } else {\n                component = this.component.getChildById(childId);\n            }\n            if (component) {\n                const animClip = new AnimationClip(animName);\n                animClip.name = animName;\n                animClip.fps = this.fps;\n                animClip.target = component;\n                animClip.totalTime = subAnimation.duration || 0;\n                animClip.loop = !!subAnimation.loop;\n                let duration: number = 0;\n                for (let i: number = 0, len: number = subAnimation.timelines.length; i < len; i++) {\n                    const timelineData = subAnimation.timelines[i];\n                    const timeline = this.parseTimeline(timelineData, subAnimation.duration);\n                    if (timeline) {\n                        animClip.timelines.push(timeline);\n                        if (timeline.totalTime > duration) {\n                            duration = timeline.totalTime;\n                        }\n                    }\n                }\n                \n                if (!animClip.totalTime || animClip.totalTime <= 0) {\n                    animClip.totalTime = duration;\n                }\n                this.addAnimationClip(animClip);\n                return animClip;\n            }\n        }\n\n        private parseTimeline(data: ITimeline, duration: number = -1): Timeline<any> {\n            let timeline: Timeline<any>;\n\n            switch (data.type) {\n                case TimelineType.X:\n                case TimelineType.Y:\n                case TimelineType.SCALE_X:\n                case TimelineType.SCALE_Y:\n                case TimelineType.ROTATION:\n                case TimelineType.SKEW_X:\n                case TimelineType.SKEW_Y:\n                case TimelineType.ALPHA:\n                case TimelineType.PROGRESS:\n                case TimelineType.ALPHA:\n                case TimelineType.VOLUME:\n                case TimelineType.FITERBLUR:   \n                    timeline = new Timeline<number>();\n                    this.parseFrames(timeline, data.frames, NumberFrame);\n                    break;\n                case TimelineType.VISIBLE:\n                case TimelineType.ENABLED:\n                    timeline = new Timeline<boolean>();\n                    this.parseFrames(timeline, data.frames, BooleanFrame);\n                    break;\n                case TimelineType.TEXT:\n                case TimelineType.PLAY:\n                    timeline = new Timeline<string>();\n                    this.parseFrames(timeline, data.frames, StringFrame);\n                    break;\n                case TimelineType.COLOR:\n                    timeline = new Timeline<number>();\n                    this.parseFrames(timeline, data.frames, ColorFrame);\n                    break;\n                case TimelineType.EVENT:\n                    timeline = new EventTimeline();\n                    this.parseFrames(timeline, data.frames, EventFrame);\n                    break;\n                default:\n                    timeline = new Timeline<number>();\n                    this.parseFrames(timeline, data.frames, NumberFrame);\n                    break;\n            }\n            if (timeline) {\n                timeline.type = data.type;\n                timeline.loop = !!data.loop;\n                if (data.frames && data.frames.length) {\n                    timeline.totalTime = data.frames[data.frames.length - 1].frame;\n                } else {\n                    timeline.totalTime = 0;\n                }\n                \n            }\n            return timeline;\n        }\n        private parseFrames(timeline: Timeline<any>, data: IFrame[], frameClass: new () => Frame<any>): void {\n            for (let i: number = 0, len: number = data.length; i < len; i++) {\n                const frameData = data[i];\n                const frame = new frameClass();\n                frame.time = frameData.frame;\n                frame.curve = frameData.curve;\n                frame.value = frameData.value;\n                timeline.frames.push(frame);\n            }\n        }\n    }\n\n","import { Timeline } from './Timeline';\nimport { TimelineType, IEventData } from '../model/IVFData';\nimport { VFComponent } from '../../display/VFComponent';\nimport { EventTimeline } from './EventTimeline';\n\nexport class AnimationClip {\n\n        private get targetDisplay(): vf.gui.DisplayObject {\n            return this.target as vf.gui.DisplayObject;\n        }\n\n        public set curTime(v: number) {\n            this._curTime = v;\n            this._curFrame = this._curTime * this.fps / 1000;\n            if (this.loop) {\n                this._curFrame = this._curFrame % this.totalTime;\n            }\n            for (let i = 0, len = this.timelines.length; i < len; i++) {\n                this.timelines[i].globalTime = this._curFrame;\n            }\n            this.applyTimeline();\n        }\n\n        public name: string;\n        public timelines: Array<Timeline<any>> = [];\n        public fps: number = 30;\n        public target: any;\n        public totalTime: number = 0;\n        public loop: boolean = false;\n        private _curTime: number = 0;\n        private _curFrame: number = 0;\n        constructor(name: string) {\n            this.name = name;\n        }\n\n        public skipNextEvent(): void {\n            for (let i = 0, len = this.timelines.length; i < len; i++) {\n                const timeline = this.timelines[i];\n                if (timeline instanceof EventTimeline) {\n                    timeline.skipNextEmit();\n                }\n            }\n        }\n        private applyTimeline(): void {\n            if (this.target == null) {\n                return;\n            }\n            for (let i: number = 0, len: number = this.timelines.length; i < len; i++) {\n                const timeline = this.timelines[i];\n                const targetDisplay = this.targetDisplay;\n                const curValue = timeline.curValue;\n                switch (timeline.type) {\n                    case TimelineType.X:\n                        targetDisplay.x = curValue;\n                        break;\n                    case TimelineType.Y:\n                        targetDisplay.y = curValue;\n                        break;\n                    case TimelineType.SCALE_X:\n                        targetDisplay.scaleX = curValue;\n                        break;\n                    case TimelineType.SCALE_Y:\n                        targetDisplay.scaleY = curValue;\n                        break;\n                    case TimelineType.ROTATION:\n                        targetDisplay.rotation = curValue;\n                        break; \n                    case TimelineType.VISIBLE:\n                        targetDisplay.visible = curValue;\n                        break;\n                    case TimelineType.ALPHA:\n                        targetDisplay.alpha = curValue;\n                        break;\n                    case TimelineType.TEXT:\n                        (targetDisplay as vf.gui.Label).text = curValue;\n                        break;\n                    case TimelineType.ENABLED:\n                        targetDisplay.enabled = curValue;\n                        break;\n                    case TimelineType.FITERBLUR:\n                        targetDisplay.filterBlur = curValue;\n                        break;\n                    case TimelineType.EVENT:\n                        const events = curValue as IEventData[];\n                        if (events) {\n                            for (let j: number = 0, jlen: number = events.length; j < jlen; j++) {\n                                const event = events[j];\n                                (targetDisplay as VFComponent).emit(event.type, event.data);\n                            }\n                        }\n                        break;\n                    default:\n                        if (timeline.type.indexOf('filter') === 0) {\n                            this.applyFilter(targetDisplay, timeline.type, curValue);\n                        } else {\n                            (targetDisplay as any)[timeline.type] = curValue;\n                        }\n                        break;\n                    \n                }\n            }\n        }\n        private applyFilter(display: vf.gui.DisplayObject, filterKey: string, value: any): void {\n            const filterKeys = filterKey.split('.');\n            let target = display as any;\n            for (let i: number = 0, len: number = filterKeys.length; i < len - 1 ; i++) {\n                const curkey = filterKeys[i];\n                if (target && target[curkey]) {\n                    target = target[curkey];\n                }\n            }\n            if (target) {\n                target[filterKeys[filterKeys.length - 1]] = value;\n            }\n            \n        }\n    }\n\n","import { Frame } from './Frame';\n\nexport class BooleanFrame extends Frame<boolean> {\n\n        constructor() {\n            super();\n        }\n\n        public getValue(progress: number, value: boolean): boolean {\n            return this.value;\n        }\n    }\n\n","import { Frame } from './Frame';\n\nexport class ColorFrame extends Frame<number> {\n\n        constructor() {\n            super();\n        }\n\n        public getValue(progress: number, value: number): number {\n            const rgbData = this.changeColor2RGB(this.value);\n            const rgbValue = this.changeColor2RGB(value);\n            const resultArr = [\n                rgbData[0] + (rgbValue[0] - rgbValue[0]) * progress,\n                rgbData[1] + (rgbValue[1] - rgbValue[1]) * progress,\n                rgbData[2] + (rgbValue[2] - rgbValue[2]) * progress,\n            ];\n            return this.changeRGB2Color(resultArr);\n        }\n\n        protected changeColor2RGB(color: number): number[] {\n            // tslint:disable-next-line: no-bitwise\n            const r = (color >> 16) & 0xFF;\n            // tslint:disable-next-line: no-bitwise\n            const g = (color >> 8) & 0xFF;\n            // tslint:disable-next-line: no-bitwise\n            const b = (color >> 0) & 0xFF;\n            return [r, g, b];\n        }\n        protected changeRGB2Color(rgb: number[]): number {\n            return rgb[0] * 0x10000 + rgb[1] * 0x100 + rgb[2];\n        } \n    }\n\n","import { Frame } from './Frame';\nimport { IEventData } from '../model/IVFData';\n\nexport class EventFrame extends Frame<IEventData[]> {\n\n        constructor() {\n            super();\n        }\n\n        public getValue(progress: number, value: IEventData[]): IEventData[] {\n            return this.value;\n        }\n    }\n\n","import { Timeline } from './Timeline';\nimport { IEventData } from '../model/IVFData';\nimport { EventFrame } from './EventFrame';\n\nexport class EventTimeline extends Timeline<IEventData[]> {\n    \n    private nextFrame?: EventFrame;\n    private nextFrameIndex: number = 0;\n    private skipEmit: boolean = false;\n    constructor() {\n        super();\n        this._curValue = [];\n    }\n\n    public skipNextEmit(): void {\n        //\n        this.lastTime = 0;\n        this.nextFrame = undefined;\n    }\n\n    protected getProgress(cur: number, min: number, max: number, curve: number[] | null = null): number {\n        return cur;\n    }\n\n    protected updateCurFrame(): void {\n        if (this.frames.length === 0) {\n            return;\n        }\n    }\n    protected updateCurValue(): void {\n        this._curValue.length = 0;\n        if (this.frames.length === 0) {\n            return;\n        }\n        if (this.nextFrame === undefined) {\n            this.nextFrame = this.frames[0];\n            this.nextFrameIndex = 0;\n        }\n        \n        if (this.curTime >= this.lastTime) {\n            if (this.curTime > this.nextFrame.time) {\n                this.findEvents(this.nextFrameIndex, false);\n            }\n        } else {\n            this.findEvents(0, true);\n        }\n    }\n\n    private findEvents(startIndex: number, turnBack: boolean = false): void {\n        if (turnBack) {\n            for (let i = this.nextFrameIndex, len: number = this.frames.length; i < len; i++) {\n                const frame = this.frames[i];\n                this.addEvent(frame);\n            }\n        }\n        for (let i = startIndex, len: number = this.frames.length; i < len; i++) {\n            const frame = this.frames[i];\n            if (frame.time < this.curTime && (turnBack || frame.time >= this.lastTime) ) {\n                this.addEvent(frame);\n            } else if (frame.time > this.curTime) {\n                this.nextFrame = frame;\n                this.nextFrameIndex = i;\n                break;\n            }\n            this.nextFrameIndex = Number.MAX_VALUE;\n        }\n    }\n    private addEvent(frame: EventFrame): void {\n        if (frame.value) {\n            for (let j: number = 0, jlen: number = frame.value.length; j < jlen; j++) {\n                this._curValue.push(frame.value[j]);\n            }\n        }\n    }\n}\n","\n    export class Frame<T> {\n\n        public time: number = -1;\n        public curve?: number[] = [];\n        public value: T  = null as any;\n\n        constructor() {\n            //\n        }\n\n        public getValue(progress: number, value: T): T {\n            return null as any;\n        }\n    }\n\n","import { Frame } from './Frame';\n\nexport class NumberFrame extends Frame<number> {\n\n        constructor() {\n            super();\n        }\n\n        public getValue(progress: number, value: number): number {\n            return this.value + (value - this.value) * progress;\n        }\n    }\n","import { Frame } from './Frame';\n\nexport class StringFrame extends Frame<string> {\n\n        constructor() {\n            super();\n        }\n\n        public getValue(progress: number, value: string): string {\n            return this.value;\n        }\n    }\n\n","import { TimelineType } from '../model/IVFData';\nimport { Frame } from './Frame';\nimport { getCurveProgress } from '../../utils/VFUtil';\n\nexport class Timeline<T> {\n\n        public set defaultValue(value: T) {\n            this._defaultValue = value;\n            this._curValue = value;\n        }\n        public get curValue(): T {\n            return this._curValue;\n        }\n\n        public set globalTime(v: number) {\n            this._globalTime = v;\n            this.tick();\n            this._lastGlobalTime = v;\n        }\n\n        public type: TimelineType = null as any;\n        public frames: Array<Frame<T>> = [];\n        public curTime: number = 0;\n        public lastTime: number = 0;\n        public loop: boolean = false;\n        public totalTime: number = 0;\n        protected _defaultValue: T = null as any;\n        protected _globalTime: number = 0;\n\n        protected _lastGlobalTime: number = 0; \n        protected _lastFrame: Frame<T> | null = null as any;\n        protected _curFrame: Frame<T> | null = null;\n        protected _nextFrame: Frame<T> = null as any;\n        protected _times: number = -1;\n\n        protected _curValue: T = null as any;\n\n        constructor() {\n            //\n        }\n\n        protected getProgress(cur: number, min: number, max: number, curve: number[] | null = null): number {\n            let lineProgress: number = 0;\n            let curveProgress: number = 0;\n            if (max === min) {\n                lineProgress =  0;\n            } else {\n                lineProgress =  (cur - min) / (max - min);\n            }\n            curveProgress = lineProgress;\n            if (curve && curve.length) {\n                if (curve.length === 1) {\n                    const curveType = curve[0];\n                    curveProgress = getCurveProgress(curveType, lineProgress);\n                }\n                // todo bezier\n            }\n            return curveProgress;\n        }\n\n        protected tick(): void {\n            this.curTime = this._globalTime;\n            if (this.loop) {\n                this._times = Math.floor(this.curTime / this.totalTime);\n                this.curTime = this.curTime - this.totalTime * this._times;\n            }\n            this.updateCurFrame();\n            this.updateCurValue();\n            this.lastTime = this.curTime;\n        }\n        protected updateCurFrame(): void {\n            if (this.frames.length === 0) {\n                return;\n            }\n            this._lastFrame = this._curFrame;\n            let i: number = 0;\n            let len: number = 0;\n            for (i = 0, len = this.frames.length; i < len; i++) {\n                if (this.frames[i].time > this.curTime) {\n                    if (i === 0) {\n                        this._curFrame = null;\n                        this._nextFrame = this.frames[i];\n                    } else {\n                        this._curFrame = this.frames[i - 1];\n                        this._nextFrame = this.frames[i];\n                    }\n                    return;\n                }\n            }\n            this._curFrame = this.frames[this.frames.length - 1];\n            this._nextFrame = this._curFrame;\n        }\n\n        protected updateCurValue(): void {\n            if (this._curFrame && this._nextFrame) {\n                const p = this.getProgress(this.curTime, this._curFrame.time, \n                                           this._nextFrame.time, this._curFrame.curve);\n\n                this._curValue = this._curFrame.getValue(p, this._nextFrame.value);\n            }\n        }\n    }\n\n","\nexport interface IVFDataV1 {\n    name: string;\n    version: string;\n    width: number;\n    height: number;\n    fps: number;\n    scaleMode: ScaleMode;\n    loadMode: LoadMode;\n    baseUrl: string;\n    conversion: string;\n    global?: { [id: string]: IVariableData };\n    assets: { [id: string]: IAsset };\n    components: { [id: string]: AllComponent };\n scenes: IScene[];\n}\n\nexport const enum ScaleMode {\n    SHOW_ALL = 'showAll',\n    NO_SCALE = 'noScale',\n    COVER = 'cover',\n    CONTAIN = 'contain',\n}\nexport const enum LoadMode {\n    SINGLE = 'single',\n    ALL = 'all',\n}\n\nexport const enum VariableType {\n    NUMBER = 'number',\n    STRING = 'string',\n    BOOLEAN = 'boolean',\n    ARRAY = 'array',\n    OBJECT = 'object',\n}\n// tslint:disable-next-line: array-type\nexport type VariableDataValue = number | string | boolean | Array<any> | any;\nexport interface IVariableData {\n    id?: string;\n    type: VariableType;\n    value: VariableDataValue;\n}\n\nexport interface CDN{\n    default:string[];\n    image:string[];\n    media:string[];\n    wx:string[];\n}\n\nexport const enum AssetType {\n    IMAGE = 'image',\n    SOUND = 'sound',\n    SHEET = 'sheet',\n    SVG = 'svg',\n    FONT = 'font',\n    AUDIO = 'audio',\n    VIDEO = 'video',\n    JS = 'js',\n}\nexport interface IAsset {\n    id?: string;\n    name?: string;\n    type: AssetType;\n    url: string;\n}\n/**\n * 加载失败项\n */\nexport interface IAssetFail {\n    id: string;\n    url: string;\n    extension:string;\n    count:number;\n}\n\n/**\n * 其他类型查阅 https://vipkid-edu.github.io/vf-gui/play/#example/TestLabel 控件\n */\nexport const enum ComponentType {\n    // CUSTOM\n    Custom = 'custom',\n}\nexport interface IComponent {\n    id: string;\n    name: string;\n    type?: ComponentType;\n    resourceIds?: number[];\n    libId?: number;\n    interactabled?: any;\n}\nexport interface IDisplayComponent extends IComponent {\n    x: number;\n    y: number;\n    scaleX: number;\n    scaleY: number;\n    alpha: number;\n    color: number | undefined;\n    visible: boolean;\n\n    rotation: any;\n    width: number;\n    height: number;\n\n}\n\nexport interface IImage extends vf.gui.Image {\n\n}\nexport interface IText extends vf.gui.Label {\n\n}\nexport interface IRadio extends vf.gui.CheckBox {\n\n}\nexport interface IRect extends vf.gui.Rect {\n\n}\nexport interface IAnimation {\n    name: string;\n    duration?: number;\n    autoPlay?: boolean;\n    loop?: boolean;\n    children: { [id: string]: ISubAnimation };\n}\nexport interface ISubAnimation {\n    duration?: number;\n    loop?: boolean;\n    timelines: ITimeline[];\n}\nexport interface ITimeline {\n    type: TimelineType;\n    loop?: boolean;\n    frames: IFrame[];\n}\nexport interface IEventData {\n    type: string;\n    data?: any;\n}\nexport const enum TimelineType {\n    X = 'x',\n    Y = 'y',\n    SCALE_X = 'scaleX',\n    SCALE_Y = 'scaleY',\n    ROTATION = 'rotation',\n    COLOR = 'color',\n    ALPHA = 'alpha',\n    VISIBLE = 'visible',\n    TEXT = 'text',\n    PROGRESS = 'progress',\n    SKEW_X = 'skewX',\n    SKEW_Y = 'skewY',\n    PLAY = 'play',\n    VOLUME = 'volume',\n    ENABLED = 'enabled',\n    FITERBLUR = 'filterBlur',\n    EVENT = 'event',\n}\nexport const enum CurveType {\n    None,\n    Linear,\n    EaseOutQuad,\n    EaseInQuad,\n    EaseInOutQuad,\n    EaseInCubic,\n    EaseOutCubic,\n    EaseInOutCubic,\n    EaseInQuart,\n    EaseOutQuart,\n    EaseInOutQuart,\n    EaseInQuint,\n    EaseOutQuint,\n    EaseInOutQuint,\n    EaseInSine,\n    EaseOutSine,\n    EaseInOutSine,\n    EaseInExpo,\n    EaseOutExpo,\n    EaseInOutExpo,\n    EaseInCirc,\n    EaseOutCirc,\n    EaseInOutCirc,\n    EaseOutBounce,\n    EaseInBack,\n    EaseOutBack,\n    EaseInOutBack,\n    Elastic,\n    EaseOutElastic,\n    EaseOutElasticTmp,\n    SwingFromTo,\n    SwingFrom,\n    SwingTo,\n    Bounce,\n    BouncePast,\n    EaseFromTo,\n    EaseFrom,\n    EaseTo,\n    Sinusoidal,\n    Reverse,\n    Wobble,\n    Spring,\n}\nexport interface IFrame {\n    frame: number;\n    value: any;\n    curve?: number[];\n}\n\nexport interface ICustomComponent extends IDisplayComponent {\n    children?: AllComponent[];\n    animations?: IAnimation[];\n    props?: { [id: string]: IVariableData };\n    actionList?: AllAction[] | string;\n}\n\nexport const enum TransitionType {\n    NONE = 'none',\n    FADE_OUT = 'fadeOut',\n    CIRCLE_WIPE = 'circleWipe',\n    CROSS_ZOOM = 'crossZoom',\n    DOOM_SCREEN = 'doomScreen',\n    HEART_WIPE = 'heartWipe',\n    LINEAR_BLUR = 'linearBlur',\n    PAGE_CURL = 'pageCurl',\n    TO_TEAR = 'toTear',\n    WIND = 'wind',\n    PAGE_FLIP_RIGHT = 'pageFlipRight',\n    PAGE_FLIP_LEFT = 'pageFlipLeft',\n}\nexport interface ITransitionData {\n    type: TransitionType;\n    duration: number;\n}\nexport interface IScene {\n    id: string;\n    libId: string;\n    transition?: ITransitionData;\n}\n\nexport type AllComponent = (IComponent | IDisplayComponent | ICustomComponent |\n    IRadio | IImage | IText | IRect);\n\n/// actionList ////////////////////////////////\n\nexport enum ExpressItemType {\n    CONST,     // 常量\n    VARIABLE,  // 变量\n    RANDOM,    // 随机值\n    STSTEN,    // 系统数值\n    PROPERTY,  // 组件属性\n    OPERATION, // 运算符\n    ARRAY_LEN,     // 数组长度\n    ARRAY_VALUE,   // 数组取值\n    OBJECT_VALUE,  // 对象取值\n    PARAM_VALUE,   // 参数取值\n    ARRAY_FUNCTION, // 数组 pop push shift unshift concat splice\n    COMPONENT, // 组件，仅在trace中使用\n}\nexport enum SystemValueType {\n    TIME,\n    YEAR,\n    MONTH,\n    DAY,\n    DATE,\n}\nexport type ExpressItem = any[];   // 表达式的项\nexport type ExpressType = ExpressItem[]; // 表达式\n\n/** 通用状态 */\nexport const enum VFStateCode {\n    INIT = 'init',\n    LOAD = 'load',\n    LOADED = 'loaded',\n    READY = 'ready',\n    DISABLED = 'disabled',\n    SCENE_CREATE = 'sceneCreate',\n}\n\nexport const enum ActionType {\n        Print,\n        Add,\n        Added,\n        Remove,\n        SetProperty,\n        Click,\n        Express,\n        IfGroup,\n        If,\n        ElseIf,\n        Else,\n        DefineFunction,\n        CallFunction,\n        AddEventListener,\n        RemoveEventListener,\n        EmitEvent,\n        PlaySound,\n        PlayAnimation,\n        JumpToNextScene,\n        JumpToPrevScene,\n        JumpToScene,\n        ArrayInit,\n        ArrayPop,\n        ArrayPush,\n        ArraySplice,\n        ArrayRandom,\n        ArrayConcat,\n        ArrayShift,\n        ArrayUnshift,\n        AddEventListenerCall,\n        CallProtoFunction,\n        GotoPlay,\n        GotoStop,\n        PauseSound,\n        ResumeSound,\n        Comment,\n        ActionList,\n        DefineVariable,\n        For,\n        Break,\n        Wait,\n        SetTimeout,\n        SetInterval,\n        EnterFrame,\n    }\nexport const enum ComponentEvent {\n    Add = 'Add',\n    Added = 'Added',\n    Remove = 'Remove',\n    Removed = 'Removed',\n    Click = 'click',\n}\n\nexport const enum SceneEvent {\n    TransitionStart = 'TransitionStart',\n    TransitionEnd = 'TransitionEnd',\n    LoadProgress = 'LoadProgress',\n    LoadComplete = 'LoadComplete',\n}\nexport const enum AnimationEvent {\n    AnimationComplete = 'AnimationComplete',\n    AnimationLoopComplete = 'AnimationLoopComplete',\n}\n\nexport const enum AnimationStatus {\n    STOP,\n    PLAYING,\n}\n\n\nexport interface IActionSetProperty extends IAction {\n        property: string;\n        value: any;\n    }\nexport interface IActionPlayAnimation extends IAction {\n        name: string | ExpressItem;\n        times?: number;\n    }\nexport interface IActionExpress extends IAction {\n        express: ExpressType;\n    }\nexport interface IActionIFPart extends IAction {\n        condition: ExpressType;\n    }\nexport interface IActionFunction extends IAction {\n        name: string;\n    }\nexport interface IActionAddEventListener extends IAction {\n        event: string;\n        system?: boolean;\n        global?: boolean;\n        funName?: string;\n    }\nexport interface IActionEmitEvent extends IAction {\n        event: string;\n        system?: boolean;\n        global?: boolean;\n        eventData?: any;\n    }\nexport interface IActionJump extends IAction {\n        transition?: ITransitionData;\n    }\nexport interface IActionArraySplice extends IAction {\n        start: number;\n        deleteCount: number;\n    }\nexport interface IActionArrayConcat extends IAction {\n        concatArr: ExpressItem;\n    }\nexport interface IActionCallFunction extends IAction {\n        name: string | ExpressItem;\n        params?: ExpressItem[];\n    }\nexport interface IActionSound extends IAction {\n        assetId: number | string | any[];\n        trackId: string;\n        time?: number;\n        offset?: number;\n        length?: number;\n        mode?: 'sound' | 'effect';\n    }\nexport interface IActionGoto extends IAction {\n        name: string | ExpressItem;\n        frame: number| ExpressItem;\n        times?: number | ExpressItem;\n    }\nexport interface IActionDefineVariable extends IAction {\n        variableType: VariableType;\n        varId: string;\n    }\nexport interface IActionFor extends IAction {\n        forin: ExpressItem;\n    }\nexport type AllAction = (IAction | IActionSetProperty | IActionExpress | IActionFunction\n    | IActionAddEventListener | IActionPlayAnimation);\n\nexport interface IAction {\n    type: ActionType;\n    execute?: AllAction[];\n    target?: string[];\n    value?: any;\n}\n\nexport interface IActionSetProperty extends IAction {\n    property: string;\n    value: any;\n}\nexport interface IActionPlayAnimation extends IAction {\n    name: string | ExpressItem;\n    times?: number;\n}\nexport interface IActionExpress extends IAction {\n    express: ExpressType;\n}\nexport interface IActionIFPart extends IAction {\n    condition: ExpressType;\n}\nexport interface IActionFunction extends IAction {\n    name: string;\n}\nexport interface IActionAddEventListener extends IAction {\n    event: string;\n    system?: boolean;\n    global?: boolean;\n    funName?: string;\n}\nexport interface IActionEmitEvent extends IAction {\n    event: string;\n    system?: boolean;\n    global?: boolean;\n    eventData?: any;\n}\nexport interface IActionJump extends IAction {\n    transition?: ITransitionData;\n}\nexport interface IActionArraySplice extends IAction {\n    start: number;\n    deleteCount: number;\n}\nexport interface IActionArrayConcat extends IAction {\n    concatArr: ExpressItem;\n}\nexport interface IActionCallFunction extends IAction {\n    name: string | ExpressItem;\n    params?: ExpressItem[];\n}\nexport interface IActionGoto extends IAction {\n    name: string | ExpressItem;\n    frame: number | ExpressItem;\n    times?: number | ExpressItem;\n}\nexport interface IActionDefineVariable extends IAction {\n    variableType: VariableType;\n    varId: string;\n}\nexport interface IActionInterval extends IAction {\n    times?: number | ExpressItem;\n}\n\n","/* eslint-disable no-unused-vars */\nimport {VFStage} from '../../display/VFStage';\nimport { ITransitionData, TransitionType, SceneEvent } from '../model/IVFData';\nimport { ITransition } from './ITransition';\nimport { CrossFadeFilter } from './filters/CrossFadeFilter';\nimport { CircleFadeFilter } from './filters/CircleFadeFilter';\nimport { CrossZoomFilter } from './filters/CrossZoomFilter';\nimport { DoomScreenFilter } from './filters/DoomScreenFilter';\nimport { HeartWipeFilter } from './filters/HeartWipeFilter';\nimport { LinearBlurFilter } from './filters/LinearBlurFilter';\nimport { PageCurlFilter } from './filters/PageCurlFilter';\nimport { ToTearFilter } from './filters/ToTearFilter';\nimport { WindFilter } from './filters/WindFilter';\nimport { PageFlipLeftFilter } from './filters/PageFlipLeftFilter';\nimport { PageFlipRightFilter } from './filters/PageFlipRightFilter';\nimport { FadeoutTran } from './trans/FadeoutTran';\nimport trace from '../../utils/Trace';\nimport { EventType } from '../../event/EventType';\nimport { EventLevel } from '../../event/EventLevel';\n\nexport class Transition {\n\n    private vfStage: VFStage;\n    private prevTexture: vf.RenderTexture;\n    private data: ITransitionData;\n    constructor(vfStage: VFStage, prevTexture: vf.RenderTexture, data: ITransitionData) {\n        this.vfStage = vfStage;\n        this.prevTexture = prevTexture;\n        this.data = data;\n    }\n\n    public run(): void {\n        const transition = this.getTransition(this.data.type);\n        if (transition) {\n            const systemEvent = this.vfStage.systemEvent;\n            transition.setPreviousTexture(this.prevTexture);\n            transition.progress = 0;\n            transition.applyTranisition(this.vfStage.container);\n            const tween = this.vfStage.tween;\n            tween.setObject(transition);\n            tween.once(vf.gui.Tween.Event.complete, () => {\n                transition.dispose();\n                systemEvent.emit(EventType.STATUS, {\n                    code: SceneEvent.TransitionEnd, level: EventLevel.STATUS, data: null,\n                });\n            });\n            tween.to({progress: 1}, this.data.duration).start();\n            systemEvent.emit(EventType.STATUS, {\n                code: SceneEvent.TransitionStart, level: EventLevel.STATUS, data: null,\n            });\n        }\n    }\n\n    private getTransition(type: TransitionType): ITransition | null {\n        if (this.vfStage && (\n            this.vfStage.scaleX !== 1 || this.vfStage.scaleY !== 1 ||\n            !(this.vfStage.app?.renderer.context as any).webGLVersion)) {\n            return new FadeoutTran();\n        }\n        switch (type) {\n            case TransitionType.NONE:\n                return null;\n            case TransitionType.FADE_OUT:\n                return new CrossFadeFilter();\n            case TransitionType.CIRCLE_WIPE:\n                return new CircleFadeFilter();\n            case TransitionType.CROSS_ZOOM:\n                return new CrossZoomFilter();\n            case TransitionType.DOOM_SCREEN:\n                return new DoomScreenFilter();\n            case TransitionType.HEART_WIPE:\n                return new HeartWipeFilter();\n            case TransitionType.LINEAR_BLUR:\n                return new LinearBlurFilter();\n            case TransitionType.PAGE_CURL:\n                return new PageCurlFilter();\n            case TransitionType.TO_TEAR:\n                return new ToTearFilter();\n            case TransitionType.WIND:\n                return new WindFilter();\n            case TransitionType.PAGE_FLIP_LEFT:\n                return new PageFlipLeftFilter();\n            case TransitionType.PAGE_FLIP_RIGHT:\n                return new PageFlipRightFilter();\n            default:\n                return null;\n        }\n        return null;\n    }\n}\n\n","import { ITransition } from '../ITransition';\n\n\nexport interface AbstractFilterUniforms {\n        filterMatrix: vf.Matrix;\n        resolution: number;\n        previousTexture: vf.RenderTexture;\n        progress: number;\n    }\n\nexport class AbstractFilter extends vf.Filter implements ITransition {\n\n        public static readonly vertexSrc: string = `\n            precision highp float;\n            \n            attribute vec2 aVertexPosition;\n            attribute vec2 aTextureCoord;\n            attribute vec4 aColor;\n            \n            uniform mat3 projectionMatrix;\n            uniform mat3 filterMatrix;\n            uniform vec4 inputSize;\n            uniform vec4 outputFrame;\n            uniform float resolution;\n            \n            varying vec2 vTextureCoord;\n            varying vec2 vFilterCoord;\n            \n            void main(void){\n                gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n                // filterMatrix.xy = ((vTextureCoord * inputSize.xy) + outputFrame.xy) / outputFrame.zw;\n                vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy / resolution;\n                // vFilterCoord = (((vTextureCoord * inputSize.xy) + outputFrame.xy) / outputFrame.zw) * aTextureCoord / resolution;\n                vTextureCoord = aTextureCoord ;\n            }\n        `;\n\n        private static readonly crossFadeUniforms = {\n            filterMatrix: vf.Matrix.TEMP_MATRIX,\n            resolution: vf.settings.RESOLUTION,\n            previousTexture:  null,\n            progress: 0.0,\n        };\n\n        private target?: vf.DisplayObject;\n\n        constructor(vertexSrc?: string, fragmentSrc?: string, uniforms?: any) {\n            super(\n                vertexSrc   || AbstractFilter.vertexSrc,\n                fragmentSrc,\n                uniforms    || AbstractFilter.crossFadeUniforms,\n            );\n        }\n\n        public apply(filterManager: vf.systems.FilterSystem, input: vf.RenderTexture, output: vf.RenderTexture) {\n            const maskMatrix = new vf.Matrix();\n            (filterManager as any).calculateNormalizedScreenSpaceMatrix(maskMatrix);\n            this.uniforms.filterMatrix = maskMatrix;\n            this.uniforms.resolution = vf.settings.RESOLUTION;\n            // super.apply(filterManager, input, output, false); // 这样写ipad下会报错\n            filterManager.applyFilter(this, input, output, undefined);\n        }\n\n        public setPreviousTexture(value: any): void {\n            this.uniforms.previousTexture = value;\n        }\n        \n        public set progress(value: number) {\n            value = Math.min(1, value);\n            value = Math.max(0, value);\n            this.uniforms.progress = value;\n        }\n        public get progress(): number {\n            return this.uniforms.progress;\n        }\n\n        public applyTranisition(target: vf.DisplayObject): void {\n            this.target = target;\n            this.target.filters = [this];\n        }\n        public dispose(): void {\n            if (this.target) {\n                this.target.filters = [];\n            }\n        }\n    }\n\n","import { AbstractFilter } from './AbstractFilter';\n\nexport class CircleFadeFilter extends AbstractFilter {\n\n        private static readonly fragmentSrc: string = `\n            precision mediump float;\n            uniform sampler2D uSampler;\n            uniform sampler2D previousTexture;\n            uniform float progress;\n\n            uniform highp vec4 inputSize;\n            uniform highp vec4 outputFrame;\n\n            varying vec2 vFilterCoord;\n            varying vec2 vTextureCoord;\n\n            void main()\n            {\n                float m = outputFrame.z / 2000.0;\n                float t = inputSize.y / inputSize.x;\n                vec2 circle = vFilterCoord - 0.5;\n                circle.y = circle.y * t;\n                float d = length(circle);\n                float p2 = progress * progress;\n                if(d > p2) {\n                    gl_FragColor = texture2D(previousTexture, vFilterCoord);\n                } else {\n                    gl_FragColor = texture2D(uSampler, vTextureCoord);\n                }\n                gl_FragColor = vec4(m, 0.0, 0.0, 1.0);\n            }\n        `;\n\n        constructor() {\n            super('', CircleFadeFilter.fragmentSrc);\n        }\n    }\n\n","import { AbstractFilter } from './AbstractFilter';\n\nexport class CrossFadeFilter extends AbstractFilter {\n\n        private static readonly fragmentSrc: string = `\n            precision mediump float;\n            uniform sampler2D uSampler;\n            uniform sampler2D previousTexture;\n            uniform float progress;\n            varying vec2 vFilterCoord;\n            varying vec2 vTextureCoord;\n            void main()\n            {\n                vec4 col = texture2D(previousTexture, vFilterCoord);\n                vec4 col2 = texture2D(uSampler, vTextureCoord);\n                gl_FragColor = vec4(mix(col, col2, progress));\n            }\n        `;\n\n        constructor() {\n            super('', CrossFadeFilter.fragmentSrc);\n        }\n    }\n\n","import { AbstractFilter } from './AbstractFilter';\n\n\nexport interface CrossZoomFilterUniforms {\n        filterMatrix: vf.Matrix;\n        resolution: number;\n        previousTexture: vf.RenderTexture;\n        progress: number;\n        strength: number;\n    }\n\nexport class CrossZoomFilter extends AbstractFilter {\n\n        private static readonly linearBlurUniforms = {\n            filterMatrix:    vf.Matrix.TEMP_MATRIX,\n            resolution:      vf.settings.RESOLUTION,\n            previousTexture: null,\n            progress:        0.0,\n            strength:        0.4,\n        };\n\n        private static readonly fragmentSrc: string = `\n            #ifdef GL_ES\n            precision highp float;\n            #endif\n            uniform sampler2D uSampler;\n            uniform sampler2D previousTexture;\n            uniform float progress;\n            uniform float resolution;\n            uniform float strength;\n            \n            varying vec2 vTextureCoord;\n            varying vec2 vFilterCoord;\n            \n            const float PI = 3.141592653589793;\n            \n            float Linear_ease(in float begin, in float change, in float duration, in float time) {\n                return change * time / duration + begin;\n            }\n            \n            float Exponential_easeInOut(in float begin, in float change, in float duration, in float time) {\n                if (time == 0.0)\n                    return begin;\n                else if (time == duration)\n                    return begin + change;\n                time = time / (duration / 2.0);\n                if (time < 1.0)\n                    return change / 2.0 * pow(2.0, 10.0 * (time - 1.0)) + begin;\n                return change / 2.0 * (-pow(2.0, -10.0 * (time - 1.0)) + 2.0) + begin;\n            }\n            \n            float Sinusoidal_easeInOut(in float begin, in float change, in float duration, in float time) {\n                return -change / 2.0 * (cos(PI * time / duration) - 1.0) + begin;\n            }\n            \n            float random(in vec3 scale, in float seed) {\n                return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n            }\n            \n            vec3 crossFade(in vec2 uv1, in vec2 uv2, in float dissolve) {\n                return mix(texture2D(previousTexture, uv1).rgb, texture2D(uSampler, uv2).rgb, dissolve);\n            }\n            \n            void main() {\n            \n                vec2 center = vec2(Linear_ease(0.25, 0.5, 1.0, progress), 0.5);\n                float dissolve = Exponential_easeInOut(0.0, 1.0, 1.0, progress);\n            \n                float strength = Sinusoidal_easeInOut(0.0, strength, 0.5, progress);\n                \n                vec3 color = vec3(0.0);\n                float total = 0.0;\n                vec2 toCenter = center - vTextureCoord;\n        \n                float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n            \n                for (float t = 0.0; t <= 40.0; t++) {\n                    float percent = (t + offset) / 40.0;\n                    float weight = 4.0 * (percent - percent * percent);\n                    vec2 p = toCenter * percent * strength;\n                    color += crossFade(vFilterCoord + p, vTextureCoord + p, dissolve) * weight;\n                    total += weight;\n                }\n                gl_FragColor = vec4(color / total, 1.0);\n            }\n        `;\n\n        constructor() {\n            super(AbstractFilter.vertexSrc, CrossZoomFilter.fragmentSrc, CrossZoomFilter.linearBlurUniforms);\n        }\n    }\n\n","/* eslint-disable no-unused-vars */\nimport { ITransition } from '../ITransition';\nimport { AbstractFilter } from './AbstractFilter';\n\n\nexport interface DoomScreenFilterUniforms {\n        resolution: number;\n        previousTexture: vf.RenderTexture;\n        progress: number;\n        barWidth: number;\n        amplitude: number;\n        noise: number;\n        frequency: number;\n    }\n\nexport class DoomScreenFilter extends vf.Filter implements ITransition {\n\n        private static readonly linearblurUniforms = {\n            resolution:      vf.settings.RESOLUTION,\n            previousTexture: null,\n            progress:        0.0,\n            barWidth:        10,\n            amplitude:       2.0,\n            noise:           0.1,\n            frequency:       1.0,\n        };\n\n        private static readonly fragmentSrc: string = `\n            #ifdef GL_ES\n            precision highp float;\n            #endif\n            \n            uniform sampler2D uSampler;\n            uniform sampler2D previousTexture;\n            uniform float progress;\n            uniform float resolution;\n            \n            uniform int barWidth;\n            uniform float amplitude;\n            uniform float noise;\n            uniform float frequency;\n            \n            varying vec2 vTextureCoord;\n            varying vec2 vFilterCoord;\n            \n            float rand(int num) {\n                return fract(mod(float(num) * 67123.313, 12.0) * sin(float(num) * 10.3) * cos(float(num)));\n            }\n            \n            float wave(int num) {\n                float fn = float(num) * frequency * 0.1  * float(barWidth);\n                return cos(fn * 0.5) * cos(fn * 0.13) * sin((fn+10.0) * 0.3) / 2.0 + 0.5;\n            }\n            \n            float pos(int num) {\n                return noise == 0.0 ? wave(num) : mix(wave(num), rand(num), noise);\n            }\n            \n            void main() {\n                int bar = int(vFilterCoord.x) / barWidth;\n                float scale = 1.0 + pos(bar) * amplitude;\n                float phase = progress * scale;\n                float posY = vFilterCoord.y / resolution;\n                vec2 p;\n                vec4 c;\n                if (phase + posY < 1.0) {\n                    p = vec2(vFilterCoord.x, vFilterCoord.y + mix(0.0, resolution, phase)) / resolution;\n                    c = texture2D(previousTexture, p);\n                } else {\n                    p = vTextureCoord.xy / resolution;\n                    c = texture2D(uSampler, p);\n                }\n                gl_FragColor = c;\n            }\n        `;\n\n        private target?: vf.DisplayObject;\n        constructor() {\n            super(AbstractFilter.vertexSrc, DoomScreenFilter.fragmentSrc, DoomScreenFilter.linearblurUniforms);\n            this.padding = 0;\n        }\n\n        /**\n         * @param {vf.FilterManager} filterManager\n         * @param {vf.RenderTarget} input\n         * @param {vf.RenderTarget} output\n         * @override\n         */\n        public apply(filterManager: vf.systems.FilterSystem, input: vf.RenderTexture, output: vf.RenderTexture) {\n            const maskMatrix = new vf.Matrix();\n            // filterManager.calculateNormalizedScreenSpaceMatrix(maskMatrix);\n            this.uniforms.filterMatrix = maskMatrix;\n            this.uniforms.resolution = vf.settings.RESOLUTION;\n            super.apply(filterManager, input, output, vf.CLEAR_MODES.NO);\n        }\n\n        /**\n         * 设置前置纹理\n         * @param value\n         */\n        public setPreviousTexture(value: any): void {\n            this.uniforms.previousTexture = value;\n        }\n\n        /**\n         * 设置变化进度\n         * @param {number} value\n         */\n        public setProgress(value: number): void {\n            value = Math.min(1, value);\n            value = Math.max(0, value);\n            this.uniforms.progress = value;\n        }\n        public set progress(value: number) {\n            value = Math.min(1, value);\n            value = Math.max(0, value);\n            this.uniforms.progress = value;\n        }\n        public get progress(): number {\n            return this.uniforms.progress;\n        }\n\n        public applyTranisition(target: vf.DisplayObject): void {\n            this.target = target;\n            this.target.filters = [this];\n        }\n        public dispose(): void {\n            if (this.target) {\n                this.target.filters = [];\n            }\n        }\n}\n    \n\n","import { AbstractFilter } from './AbstractFilter';\n\n\nexport interface HeartWipeFilterUniforms {\n        filterMatrix: vf.Matrix;\n        resolution: number;\n        previousTexture: vf.RenderTexture;\n        progress: number;\n        strength: number;\n    }\n\nexport class HeartWipeFilter extends AbstractFilter {\n\n        private static readonly linearBlurUniforms = {\n            filterMatrix:    vf.Matrix.TEMP_MATRIX,\n            resolution:      vf.settings.RESOLUTION,\n            previousTexture: null,\n            progress:        0.0,\n        };\n\n        private static readonly fragmentSrc: string = `\n            #ifdef GL_ES\n            precision highp float;\n            #endif\n            \n            uniform sampler2D uSampler;\n            uniform sampler2D previousTexture;\n            uniform float progress;\n            uniform float resolution;\n            \n            varying vec2 vTextureCoord;\n            varying vec2 vFilterCoord;\n            \n            bool inHeart (vec2 p, vec2 center, float size) {\n                if (size == 0.0) return false;\n                vec2 o = (p-center)/(1.6*size);\n                return pow(o.x*o.x+o.y*o.y-0.3, 3.0) < o.x*o.x*pow(o.y, 3.0);\n            }\n            \n            void main() {\n                vec2 p1 = vFilterCoord.xy / resolution;\n                vec2 p2 = vTextureCoord.xy / resolution;\n                float m = inHeart(p1, vec2(0.5, 0.4), progress) ? 1.0 : 0.0;\n                gl_FragColor = mix(texture2D(previousTexture, p1), texture2D(uSampler, p2), m);\n            }\n        `;\n\n        constructor() {\n            super(AbstractFilter.vertexSrc, HeartWipeFilter.fragmentSrc, HeartWipeFilter.linearBlurUniforms);\n        }\n    }\n\n","import { AbstractFilter } from './AbstractFilter';\n\n\nexport interface LinearBlurFilterUniforms {\n        filterMatrix: vf.Matrix;\n        resolution: number;\n        previousTexture: vf.RenderTexture;\n        progress: number;\n        intensity: number;\n    }\n\nexport class LinearBlurFilter extends AbstractFilter {\n\n        private static readonly linearBlurUniforms = {\n            filterMatrix:    vf.Matrix.TEMP_MATRIX,\n            resolution:      vf.settings.RESOLUTION,\n            previousTexture: null,\n            progress:        0.0,\n            intensity:       0.1,\n        };\n\n        private static readonly fragmentSrc: string = `\n            #ifdef GL_ES\n            precision highp float;\n            #endif\n            \n            uniform sampler2D uSampler;\n            uniform sampler2D previousTexture;\n            uniform float progress;\n            uniform float resolution;\n            uniform float intensity;\n            \n            varying vec2 vTextureCoord;\n            varying vec2 vFilterCoord;\n            \n            const int PASSES = 8;\n            \n            void main() {\n                vec2 p1 = vFilterCoord.xy;\n                vec2 p2 = vTextureCoord.xy;\n                vec4 c1 = vec4(0.0), c2 = vec4(0.0);\n                float disp = intensity*(0.5-distance(0.5, progress));\n                for (int xi=0; xi<PASSES; ++xi) {\n                        float x = float(xi) / float(PASSES) - 0.5;\n                    for (int yi=0; yi<PASSES; ++yi) {\n                        float y = float(yi) / float(PASSES) - 0.5;\n                        vec2 v = vec2(x,y);\n                        float d = disp;\n                        c1 += texture2D(previousTexture, p1 + d*v);\n                        c2 += texture2D(uSampler, p2 + d*v);\n                    }\n                }\n                c1 /= float(PASSES*PASSES);\n                c2 /= float(PASSES*PASSES);\n                gl_FragColor = mix(c1, c2, progress);\n            }\n        `;\n\n        constructor() {\n            super(AbstractFilter.vertexSrc, LinearBlurFilter.fragmentSrc, LinearBlurFilter.linearBlurUniforms);\n        }\n    }\n\n","import { AbstractFilter } from './AbstractFilter';\n\n\nexport interface PageCurlFilterUniforms {\n        filterMatrix: vf.Matrix;\n        resolution: number;\n        previousTexture: vf.RenderTexture;\n        progress: number;\n    }\n\nexport class PageCurlFilter extends AbstractFilter {\n\n        private static readonly linearBlurUniforms = {\n            filterMatrix:    vf.Matrix.TEMP_MATRIX,\n            resolution:      vf.settings.RESOLUTION,\n            previousTexture: null,\n            progress:        0.0,\n        };\n\n        private static readonly fragmentSrc: string = `\n            #ifdef GL_ES\n            precision highp float;\n            #endif\n            \n            uniform sampler2D uSampler;\n            uniform sampler2D previousTexture;\n            uniform float progress;\n            uniform float resolution;\n            \n            varying vec2 vTextureCoord;\n            varying vec2 vFilterCoord;\n            \n            const float MIN_AMOUNT = -0.16;\n            const float MAX_AMOUNT = 1.3;\n            float amount = progress * (MAX_AMOUNT - MIN_AMOUNT) + MIN_AMOUNT;\n            \n            const float PI = 3.141592653589793;\n            \n            const float scale = 512.0;\n            const float sharpness = 3.0;\n            \n            float cylinderCenter = amount;\n            float cylinderAngle = 2.0 * PI * amount;\n            \n            const float cylinderRadius = 1.0 / PI / 2.0;\n            \n            vec3 hitPoint(float hitAngle, float yc, vec3 point, mat3 rrotation)\n            {\n                float hitPoint = hitAngle / (2.0 * PI);\n                point.y = hitPoint;\n                return rrotation * point;\n            }\n            \n            vec4 antiAlias(vec4 color1, vec4 color2, float distanc)\n            {\n                distanc *= scale;\n                if (distanc < 0.0) return color2;\n                if (distanc > 2.0) return color1;\n                float dd = pow(1.0 - distanc / 2.0, sharpness);\n                return ((color2 - color1) * dd) + color1;\n            }\n            \n            float distanceToEdge(vec3 point)\n            {\n                float dx = abs(point.x > 0.5 ? 1.0 - point.x : point.x);\n                float dy = abs(point.y > 0.5 ? 1.0 - point.y : point.y);\n                if (point.x < 0.0) dx = -point.x;\n                if (point.x > 1.0) dx = point.x - 1.0;\n                if (point.y < 0.0) dy = -point.y;\n                if (point.y > 1.0) dy = point.y - 1.0;\n                if ((point.x < 0.0 || point.x > 1.0) && (point.y < 0.0 || point.y > 1.0)) {\n                    return sqrt(dx * dx + dy * dy);\n                }\n                return min(dx, dy);\n            }\n            \n            vec4 seeThrough(float yc, vec2 p, mat3 rotation, mat3 rrotation)\n            {\n                float hitAngle = PI - (acos(yc / cylinderRadius) - cylinderAngle);\n                vec3 point = hitPoint(hitAngle, yc, rotation * vec3(p, 1.0), rrotation);\n                if (yc <= 0.0 && (point.x < 0.0 || point.y < 0.0 || point.x > 1.0 || point.y > 1.0))\n                {\n                    return texture2D(uSampler, vTextureCoord);\n                }\n            \n                if (yc > 0.0) return texture2D(previousTexture, p);\n            \n                vec4 color = texture2D(previousTexture, point.xy);\n                vec4 tcolor = vec4(0.0);\n            \n                return antiAlias(color, tcolor, distanceToEdge(point));\n            }\n            \n            vec4 seeThroughWithShadow(float yc, vec2 p, vec3 point, mat3 rotation, mat3 rrotation)\n            {\n                float shadow = distanceToEdge(point) * 30.0;\n                shadow = (1.0 - shadow) / 3.0;\n            \n                if (shadow < 0.0) shadow = 0.0; else shadow *= amount;\n            \n                vec4 shadowColor = seeThrough(yc, p, rotation, rrotation);\n                shadowColor.r -= shadow;\n                shadowColor.g -= shadow;\n                shadowColor.b -= shadow;\n            \n                return shadowColor;\n            }\n            \n            vec4 backside(float yc, vec3 point)\n            {\n                vec4 color = texture2D(previousTexture, point.xy);\n                float gray = (color.r + color.b + color.g) / 15.0;\n                gray += (8.0 / 10.0) * (pow(1.0 - abs(yc / cylinderRadius), 2.0 / 10.0) / 2.0 + (5.0 / 10.0));\n                color.rgb = vec3(gray);\n                return color;\n            }\n            \n            vec4 behindSurface(float yc, vec3 point, mat3 rrotation)\n            {\n                float shado = (1.0 - ((-cylinderRadius - yc) / amount * 7.0)) / 6.0;\n                shado *= 1.0 - abs(point.x - 0.5);\n            \n                yc = (-cylinderRadius - cylinderRadius - yc);\n            \n                float hitAngle = (acos(yc / cylinderRadius) + cylinderAngle) - PI;\n                point = hitPoint(hitAngle, yc, point, rrotation);\n            \n                if (yc < 0.0 && point.x >= 0.0 && point.y >= 0.0 && \n                    point.x <= 1.0 && point.y <= 1.0 && (hitAngle < PI || amount > 0.5))\n                {\n                    shado = 1.0 - (sqrt(pow(point.x - 0.5, 2.0) + pow(point.y - 0.5, 2.0)) / (71.0 / 100.0));\n                    shado *= pow(-yc / cylinderRadius, 3.0);\n                    shado *= 0.5;\n                }\n                else\n                {\n                    shado = 0.0;\n                }\n                return vec4(texture2D(uSampler, vTextureCoord).rgb - shado, 1.0);\n            }\n            \n            void main()\n            {\n                const float angle = 30.0 * PI / 180.0;\n                float c = cos(-angle);\n                float s = sin(-angle);\n            \n                mat3 rotation = mat3( c, s, 0, -s, c, 0, 0.12, 0.258, 1);\n                c = cos(angle);\n                s = sin(angle);\n            \n                mat3 rrotation = mat3(\tc, s, 0, -s, c, 0, 0.15, -0.5, 1);\n            \n                vec3 point = rotation * vec3(vFilterCoord, 1.0);\n            \n                float yc = point.y - cylinderCenter;\n            \n                if (yc < -cylinderRadius)\n                {\n                    gl_FragColor = behindSurface(yc, point, rrotation);\n                    return;\n                }\n            \n                if (yc > cylinderRadius)\n                {\n                    gl_FragColor = texture2D(previousTexture, vFilterCoord);\n                    return;\n                }\n            \n                float hitAngle = (acos(yc / cylinderRadius) + cylinderAngle) - PI;\n            \n                float hitAngleMod = mod(hitAngle, 2.0 * PI);\n                if ((hitAngleMod > PI && amount < 0.5) || (hitAngleMod > PI/2.0 && amount < 0.0))\n                {\n                    gl_FragColor = seeThrough(yc, vFilterCoord, rotation, rrotation);\n                    return;\n                }\n            \n                point = hitPoint(hitAngle, yc, point, rrotation);\n            \n                if (point.x < 0.0 || point.y < 0.0 || point.x > 1.0 || point.y > 1.0)\n                {\n                    gl_FragColor = seeThroughWithShadow(yc, vFilterCoord, point, rotation, rrotation);\n                    return;\n                }\n            \n                vec4 color = backside(yc, point);\n            \n                vec4 otherColor;\n                if (yc < 0.0)\n                {\n                    float shado = 1.0 - (sqrt(pow(point.x - 0.5, 2.0) + pow(point.y - 0.5, 2.0)) / 0.71);\n                    shado *= pow(-yc / cylinderRadius, 3.0);\n                    shado *= 0.5;\n                    otherColor = vec4(0.0, 0.0, 0.0, shado);\n                }\n                else\n                {\n                    otherColor = texture2D(previousTexture, vFilterCoord);\n                }\n            \n                color = antiAlias(color, otherColor, cylinderRadius - abs(yc));\n            \n                vec4 cl = seeThroughWithShadow(yc, vFilterCoord, point, rotation, rrotation);\n                float dist = distanceToEdge(point);\n            \n                gl_FragColor = antiAlias(color, cl, dist);\n            }\n        `;\n\n        constructor() {\n            super(AbstractFilter.vertexSrc, PageCurlFilter.fragmentSrc, PageCurlFilter.linearBlurUniforms);\n        }\n    }\n\n","import { AbstractFilter } from './AbstractFilter';\n\n\nexport interface PageFlipFilterUniforms {\n        filterMatrix: vf.Matrix;\n        resolution: number;\n        previousTexture: vf.RenderTexture;\n        progress: number;\n    }\n\nexport class PageFlipLeftFilter extends AbstractFilter {\n\n        private static readonly uniforms = {\n            filterMatrix:    vf.Matrix.TEMP_MATRIX,\n            resolution:      vf.settings.RESOLUTION,\n            previousTexture: null,\n            progress:        0.0,\n        };\n\n        private static readonly fragmentSrc: string = `\n            #ifdef GL_ES\n            precision highp float;\n            #endif\n            \n            uniform sampler2D uSampler;\n            uniform sampler2D previousTexture;\n            uniform float progress;\n            uniform float resolution;\n            \n            varying vec2 vTextureCoord;\n            varying vec2 vFilterCoord;\n            \n            const float PI = 3.141592653589793;\n            const float MIN_ANGLE = PI / 4.0;\n            const float MAX_ANGLE = PI / 2.0;\n            const float MIN_X = 0.5;\n            const float MAX_X = 0.95;\n            const float sharpness = 3.0;\n            const float scale = 512.0;\n            // float easeProgress = ( pow((progress - 1.0), 3.0) + 1.0 );\n            // float easeProgress = (progress == 1.0) ? 1.0 : -pow(2.0, -10.0 * progress) + 1.0;\n            float p = progress > 0.99 ? 0.99 : progress;\n            float easeProgress =  sqrt(1.0 - pow((p - 1.0), 2.0));\n            float curX = (1.0 - easeProgress) * (MAX_X - MIN_X) + MIN_X;\n            float angle = (easeProgress) * (MAX_ANGLE - MIN_ANGLE) + MIN_ANGLE;\n                     \n            float distanceToLine(vec2 point)\n            {\n                vec2 p0 = vec2(1.0-curX, 1.0);\n                vec2 p1 = vec2(0.0, -(1.0 - curX) * tan(angle) + 1.0);\n                float a = p1.y - p0.y;\n                float b = p0.x - p1.x;\n                float c = p1.x * p0.y - p0.x * p1.y;\n                return abs(a * point.x + b * point.y + c) / sqrt(a * a + b * b);\n            }\n\n            vec4 antiAlias(vec4 color1, vec4 color2, float distanc)\n            {\n                distanc *= scale;\n                if (distanc < 0.0) return color2;\n                if (distanc > 2.0) return color1;\n                float dd = pow(1.0 - distanc / 2.0, sharpness);\n                return ((color2 - color1) * dd) + color1;\n            }\n\n            vec2 getMirro(vec2 point ) \n            {\n                vec2 p0 = vec2(1.0-curX, 1.0);\n                vec2 p1 = vec2(0.0, -(1.0 - curX) * tan(angle) + 1.0);\n                float a = p1.y - p0.y;\n                float b = p0.x - p1.x;\n                float c = p1.x * p0.y - p0.x * p1.y;\n                float k = -2.0 * (a * point.x + b * point.y + c) / (a * a + b * b);\n                vec2 p2 = vec2(point.x + k * a, point.y + k * b);\n                return p2;\n            }\n\n            vec4 curPageBack(vec2 point)\n            {\n                vec2 mirror = getMirro(point);\n                vec4 color = texture2D(uSampler, vec2(1.0 - mirror.x, mirror.y));\n                return color;\n            }\n\n            vec4 curPage(vec2 point)\n            {\n                vec4 color = texture2D(previousTexture, point.xy);\n                return color;\n            }\n            vec4 nextPage(vec2 point)\n            {\n                vec4 color = texture2D(uSampler, point);\n                float d = distanceToLine(point);\n                vec4 shadow = vec4(1.0, 0.0, 0.0, d);\n                if(d < 0.02) {\n                    float c = (0.1 - (0.02 - d)) * (10.0 + progress * 1.5);\n                    return vec4(color.r * c, color.g * c, color.b * c, 1.0);\n                };\n                return color;\n            }\n            bool isNextPage(vec2 point) \n            {\n                vec2 p0 = vec2(1.0-curX, 1.0);\n                vec2 p1 = vec2(0.0, -(1.0 - curX) * tan(angle) + 1.0);\n                vec2 p2 = vec2(point.x - p0.x, point.y - p0.y);\n                vec2 p3 = vec2(point.x - p1.x, point.y - p1.y);\n                return p2.x * p3.y - p3.x * p2.y < 0.0;\n            }\n            bool isCurPageBack(vec2 point)\n            {\n                vec2 p0 = vec2(1.0-curX, 1.0);\n                vec2 p1 = vec2(0.0, -(1.0 - curX) * tan(angle) + 1.0);\n                float a = p1.y - p0.y;\n                float b = p0.x - p1.x;\n                float c = p1.x * p0.y - p0.x * p1.y;\n                float k = -2.0 * (a * point.x + b * point.y + c) / (a * a + b * b);\n                vec2 p2 = vec2(point.x + k * a, point.y + k * b);\n                return p2.x > 0.0 && p2.x < 1.0 && p2.y > 0.0 && p2.y < 1.0;\n            }\n            \n            void main()\n            {\n            \n                vec4 color = vec4(1.0, 0.0, 0.0, 1.0);\n                if (isNextPage(vTextureCoord)) {\n                    color = nextPage(vTextureCoord);\n                } else if (isCurPageBack(vTextureCoord)) {\n                    color = curPageBack(vTextureCoord);\n                } else {\n                    color = curPage(vTextureCoord);\n                }\n                gl_FragColor = color;\n            }\n        `;\n\n        constructor() {\n            super(AbstractFilter.vertexSrc, PageFlipLeftFilter.fragmentSrc, PageFlipLeftFilter.uniforms);\n        }\n    }\n\n","import { AbstractFilter } from './AbstractFilter';\n\n\nexport interface PageFlipRightFilterUniforms {\n        filterMatrix: vf.Matrix;\n        resolution: number;\n        previousTexture: vf.RenderTexture;\n        progress: number;\n    }\n\nexport class PageFlipRightFilter extends AbstractFilter {\n\n        private static readonly uniforms = {\n            filterMatrix:    vf.Matrix.TEMP_MATRIX,\n            resolution:      vf.settings.RESOLUTION,\n            previousTexture: null,\n            progress:        0.0,\n        };\n\n        private static readonly fragmentSrc: string = `\n            #ifdef GL_ES\n            precision highp float;\n            #endif\n            \n            uniform sampler2D uSampler;\n            uniform sampler2D previousTexture;\n            uniform float progress;\n            uniform float resolution;\n            \n            varying vec2 vTextureCoord;\n            varying vec2 vFilterCoord;\n            \n            const float PI = 3.141592653589793;\n            const float MIN_ANGLE = PI / 4.0;\n            const float MAX_ANGLE = PI / 2.0;\n            const float MIN_X = 0.5;\n            const float MAX_X = 0.95;\n            const float sharpness = 3.0;\n            const float scale = 512.0;\n\n            // float easeProgress = ( pow((progress - 1.0), 3.0) + 1.0 );\n            // float easeProgress = (progress == 1.0) ? 1.0 : -pow(2.0, -10.0 * progress) + 1.0;\n            float p = progress > 0.99 ? 0.99 : progress;\n            float easeProgress =  sqrt(1.0 - pow((p - 1.0), 2.0));\n            float curX = (1.0 - easeProgress) * (MAX_X - MIN_X) + MIN_X;\n            float angle = (easeProgress) * (MAX_ANGLE - MIN_ANGLE) + MIN_ANGLE;\n                     \n            float distanceToLine(vec2 point)\n            {\n                vec2 p0 = vec2(curX, 1.0);\n                vec2 p1 = vec2(1.0, -(1.0 - curX) * tan(angle) + 1.0);\n                float a = p1.y - p0.y;\n                float b = p0.x - p1.x;\n                float c = p1.x * p0.y - p0.x * p1.y;\n                return abs(a * point.x + b * point.y + c) / sqrt(a * a + b * b);\n            }\n\n            vec4 antiAlias(vec4 color1, vec4 color2, float distanc)\n            {\n                distanc *= scale;\n                if (distanc < 0.0) return color2;\n                if (distanc > 2.0) return color1;\n                float dd = pow(1.0 - distanc / 2.0, sharpness);\n                return ((color2 - color1) * dd) + color1;\n            }\n\n            vec2 getMirro(vec2 point ) \n            {\n                vec2 p0 = vec2(curX, 1.0);\n                vec2 p1 = vec2(1.0, -(1.0 - curX) * tan(angle) + 1.0);\n                float a = p1.y - p0.y;\n                float b = p0.x - p1.x;\n                float c = p1.x * p0.y - p0.x * p1.y;\n                float k = -2.0 * (a * point.x + b * point.y + c) / (a * a + b * b);\n                vec2 p2 = vec2(point.x + k * a, point.y + k * b);\n                return p2;\n            }\n\n            vec4 curPageBack(vec2 point)\n            {\n                vec2 mirror = getMirro(point);\n                vec4 color = texture2D(uSampler, vec2(1.0 - mirror.x, mirror.y));\n                return color;\n            }\n\n            vec4 curPage(vec2 point)\n            {\n                vec4 color = texture2D(previousTexture, point);\n                float d = distanceToLine(point);\n                vec4 shadow = vec4(1.0, 0.0, 0.0, 1.0);\n                // return shadow;\n                // if(d < 0.2) {\n                //     float c = (0.1 - (0.02 - d)) * (10.0 + progress * 1.5);\n                //     return vec4(color.r * c, color.g * c, color.b * c, 1.0);\n                // };\n                return color;\n            }\n            vec4 nextPage(vec2 point)\n            {\n                vec4 color = texture2D(uSampler, point);\n                float d = distanceToLine(point);\n                vec4 shadow = vec4(1.0, 0.0, 0.0, d);\n                if(d < 0.02) {\n                    float c = (0.1 - (0.02 - d)) * (10.0 + progress * 1.5);\n                    return vec4(color.r * c, color.g * c, color.b * c, 1.0);\n                };\n                return color;\n            }\n            bool isNextPage(vec2 point) \n            {\n                vec2 p0 = vec2(curX, 1.0);\n                vec2 p1 = vec2(1.0, -(1.0 - curX) * tan(angle) + 1.0);\n                vec2 p2 = vec2(point.x - p0.x, point.y - p0.y);\n                vec2 p3 = vec2(point.x - p1.x, point.y - p1.y);\n                return p2.x * p3.y - p3.x * p2.y > 0.0;\n            }\n            bool isCurPageBack(vec2 point)\n            {\n                vec2 p0 = vec2(curX, 1.0);\n                vec2 p1 = vec2(1.0, -(1.0 - curX) * tan(angle) + 1.0);\n                float a = p1.y - p0.y;\n                float b = p0.x - p1.x;\n                float c = p1.x * p0.y - p0.x * p1.y;\n                float k = -2.0 * (a * point.x + b * point.y + c) / (a * a + b * b);\n                vec2 p2 = vec2(point.x + k * a, point.y + k * b);\n                return p2.x > 0.0 && p2.x < 1.0 && p2.y > 0.0 && p2.y < 1.0;\n            }\n            \n            \n            void main()\n            {\n            \n                vec4 color = vec4(1.0, 0.0, 0.0, 1.0);\n                if (isNextPage(vTextureCoord)) {\n                    color = nextPage(vTextureCoord);\n                } else if (isCurPageBack(vTextureCoord)) {\n                    color = curPageBack(vTextureCoord);\n                } else {\n                    color = curPage(vTextureCoord);\n                }\n                gl_FragColor = color;\n            }\n        `;\n\n        constructor() {\n            super(AbstractFilter.vertexSrc, PageFlipRightFilter.fragmentSrc, PageFlipRightFilter.uniforms);\n        }\n    }\n\n","import { AbstractFilter } from './AbstractFilter';\n\nexport class ToTearFilter extends AbstractFilter {\n\n        private static readonly fragmentSrc: string = `\n            precision highp float;\n            varying vec2 vTextureCoord;\n            varying vec2 vFilterCoord;\n            uniform sampler2D uSampler;\n            uniform sampler2D previousTexture;\n            uniform float progress;\n            \n            void main() {\n                vec4 displacement1 = texture2D( previousTexture, vTextureCoord);\n                vec4 displacement2 = texture2D( uSampler, vFilterCoord);\n                vec4 displacement = mix(displacement1, displacement2, vec4(progress));\n                vec2 mixTexture = mix(displacement.xy, vTextureCoord.xy, vec2(progress));\n                vec2 testPos1 = mixTexture + (1.0 - progress) * displacement.xy * 0.5;\n                vec2 testPos = mix(testPos1, vec2(1.0), vec2(1.0 - progress));\n                vec2 distUv = vec2(testPos.x, vTextureCoord.y);\n                vec4 color = texture2D(uSampler, distUv);\n                vec4 color1 = texture2D(previousTexture, distUv);\n                gl_FragColor = vec4(mix(color, vec4(vec3(color1), 0.0), 0.18));\n            }\n        `;\n\n        constructor() {\n            super('', ToTearFilter.fragmentSrc);\n            this.padding = 0;\n        }\n    }\n\n","import { AbstractFilter } from './AbstractFilter';\n\n\nexport interface WindFilterUniforms {\n        filterMatrix: vf.Matrix;\n        resolution: number;\n        previousTexture: vf.RenderTexture;\n        progress: number;\n        size: number;\n    }\n\nexport class WindFilter extends AbstractFilter {\n\n        private static readonly linearBlurUniforms = {\n            filterMatrix:    vf.Matrix.TEMP_MATRIX,\n            resolution:      vf.settings.RESOLUTION,\n            previousTexture: null,\n            progress:        0.0,\n            size:            0.2,\n        };\n\n        private static readonly fragmentSrc: string = `\n            #ifdef GL_ES\n            precision highp float;\n            #endif\n            \n            uniform sampler2D uSampler;\n            uniform sampler2D previousTexture;\n            uniform float progress;\n            uniform float resolution;\n            uniform float size;\n            \n            varying vec2 vTextureCoord;\n            varying vec2 vFilterCoord;\n            \n            float rand (vec2 co) {\n                return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n            }\n            \n            void main() {\n                float r = rand(vec2(0, vTextureCoord.y));\n                float m = smoothstep(0.0, -size, vTextureCoord.x*(1.0-size) + size*r - (progress * (1.0 + size)));\n                gl_FragColor = mix(texture2D(previousTexture, vFilterCoord), texture2D(uSampler, vTextureCoord), m);\n            }\n        `;\n\n        constructor() {\n            super(AbstractFilter.vertexSrc, WindFilter.fragmentSrc, WindFilter.linearBlurUniforms);\n        }\n    }\n\n","import { ITransition } from '../ITransition';\n\nexport class FadeoutTran implements ITransition {\n\n    private prevTexture?: vf.RenderTexture;\n    private target?: vf.DisplayObject;\n    private prevSprite?: vf.Sprite;\n    private _progress: number = 0;\n\n    public set progress(v: number) {\n        this._progress = v;\n        if (this.prevSprite) {\n            this.prevSprite.alpha = (1 - this._progress);\n        }\n    }\n    public get progress(): number {\n        return this._progress;\n    }\n    public setPreviousTexture(value: any): void {\n        this.prevTexture = value;\n        if (this.prevTexture) {\n            this.prevSprite = vf.Sprite.from(this.prevTexture);\n        }\n    }\n    public applyTranisition(target: vf.DisplayObject): void {\n        this.target = target;\n        if (this.target && this.target.parent && this.prevSprite) {\n            this.prevSprite.x = this.target.x;\n            this.prevSprite.y = this.target.y;\n            this.target.parent.addChild(this.prevSprite);\n        }\n    }\n    public dispose(): void {\n        if (this.prevSprite && this.prevSprite.parent) {\n            this.prevSprite.parent.removeChild(this.prevSprite);\n            this.prevTexture?.destroy();\n            this.prevTexture = undefined;\n            this.prevSprite = undefined;\n        }\n    }\n\n\n}\n","/* eslint-disable no-unused-vars */\nimport { ActionList } from '../core/actionTask/ActionList';\nimport { Animation } from '../core/animation/Animation';\nimport { VFStage } from './VFStage';\nimport { IVariableData, ComponentEvent } from '../core/model/IVFData';\nimport { DisplayObjectAbstract } from 'src/core/DisplayObjectAbstract';\n\nexport class VFComponent extends vf.gui.ScrollingContainer {\n\n        public static maxHashCode: number = 10000;\n        public hashCode: number = ++VFComponent.maxHashCode;\n        public actionList: ActionList | undefined;\n        public animation: Animation | undefined;\n        public libId: string = '0';\n        public id: string = '0';\n        protected childrenMap: {[id: string]: DisplayObjectAbstract} = {};\n\n        protected _vfStage: VFStage | undefined;\n        protected pauseData?: {animation: string, frame: number, times: number} = undefined;\n        constructor() {\n            super();\n            this.interactabled = true;\n        }\n\n        public set vfStage(stage: VFStage | undefined) {\n            this._vfStage = stage; \n            for ( const id in this.childrenMap) {\n                if (this.childrenMap[id]) {\n                    const child = this.childrenMap[id];\n                    if (child instanceof VFComponent) {\n                        child.vfStage = stage;\n                    }\n                }\n            }\n        }\n\n        public get vfStage(): VFStage | undefined {\n            return this._vfStage;\n        }\n\n        public pause(): void {\n\n            for ( const id in this.childrenMap) {\n                if (this.childrenMap[id]) {\n                    const child = this.childrenMap[id];\n                    if (child instanceof VFComponent) {\n                        child.pause();\n                    }\n                }\n            }\n\n            if (this.animation) {\n                this.pauseData = this.animation.getPauseData();\n                this.animation.stop();\n            }\n            if (this.actionList) {\n                this.actionList.pause();\n            }\n        }\n\n        public resume(): void {\n            for ( const id in this.childrenMap) {\n                if (this.childrenMap[id]) {\n                    const child = this.childrenMap[id];\n                    if (child instanceof VFComponent) {\n                        child.resume();\n                    }\n                }\n            }\n            if (this.animation) {\n                if (this.pauseData) {\n                    this.animation.gotoPlay(this.pauseData.animation, this.pauseData.frame, this.pauseData.times);\n                    this.pauseData = undefined;\n                }\n            }\n            if (this.actionList) {\n                this.actionList.resume();\n            }\n            \n        }\n\n        public playDefaultAnimation(): void {\n            if (this.animation) {\n                this.animation.playDefaultAnimation();\n            }\n        }\n        public gotoPlay(name: string, frame: number, times: number = 1): void {\n            if (this.animation) {\n                this.animation.gotoPlay(name, frame, times);\n            }\n        }\n        public gotoStop(name: string, frame: number): void {\n            if (this.animation) {\n                this.animation.gotoStop(name, frame);\n            }\n        }\n        public play(name: string, times: number = 1): void {\n            if (this.animation) {\n                this.animation.play(name, times);\n            }\n        }\n\n        public stop(): void {\n            if (this.animation) {\n                this.animation.stop();\n            }\n        }\n\n        public getChildById(id: string): vf.gui.DisplayObject {\n            return this.childrenMap[id] as vf.gui.DisplayObject;\n        }\n\n        public getVariable(id: string): IVariableData | undefined {\n            if (this._vfStage) {\n                const vm = this._vfStage.variableManager;\n                const variable = vm.getVariable(this.hashCode.toString(), id);\n                return variable;\n            }\n            return undefined;\n        }\n\n        public getVariableValue(id: string): IVariableData | undefined {\n            const variable = this.getVariable(id);\n            if (variable) {\n                return variable.value;\n            }\n            return undefined;\n        }\n\n        public setVariableValue(id: string, value: any): void {\n            const variable = this.getVariable(id);\n            if (variable) {\n                variable.value = value;\n            }\n        }\n\n        public addChildAt<T extends DisplayObjectAbstract>(item: T, index: number): T {\n            // tslint:disable-next-line: no-string-literal\n            const cid = (item as any)['id'];\n            if (this.childrenMap[cid.toString()]) {\n                // throw new Error('duplicate id; ' + cid);\n            } else {\n                this.childrenMap[cid.toString()] = item;\n            }\n            if (item instanceof VFComponent) {\n                item.vfStage = this.vfStage;\n            }\n            const child = super.addChildAt(item, index);\n            if (item instanceof VFComponent) {\n                item.playDefaultAnimation();\n            }\n            return child as any;\n        }\n\n        public removeChild<T extends DisplayObjectAbstract>(UIObject: T): T {\n            // this.vfStage = undefined;\n            // tslint:disable-next-line: no-string-literal\n            const cid = (UIObject as any)['id'];\n            // delete this.childrenMap[cid.toString()];\n            return super.removeChild(UIObject);\n        }\n\n        public runAction(): void {\n            for ( const id in this.childrenMap) {\n                if (this.childrenMap[id]) {\n                    const child = this.childrenMap[id];\n                    if (child instanceof VFComponent) {\n                        child.runAction();\n                    }\n                }\n            }\n            if (this.actionList) {\n                this.actionList.run();\n            }\n            this.on(ComponentEvent.Remove, this.onRemoved, this);\n        }\n\n        public emitAddToChildBefore(): void {\n            for ( const id in this.childrenMap) {\n                if (this.childrenMap[id]) {\n                    const child = this.childrenMap[id];\n                    if (child instanceof VFComponent) {\n                        child.emitAddToChildBefore();\n                    }\n                }\n            }\n            this.emit(ComponentEvent.Add, this);\n        }\n\n        public emitAddToChild(): void {\n            for ( const id in this.childrenMap) {\n                if (this.childrenMap[id]) {\n                    const child = this.childrenMap[id];\n                    if (child instanceof VFComponent) {\n                        child.emitAddToChild();\n                    }\n                }\n            }\n            this.emit(ComponentEvent.Added, this);\n        }\n\n        public emitRemoveToChild(): void {\n            for ( const id in this.childrenMap) {\n                if (this.childrenMap[id]) {\n                    const child = this.childrenMap[id];\n                    if (child instanceof VFComponent) {\n                        child.emitRemoveToChild();\n                    }\n                }\n            }\n            this.emit(ComponentEvent.Removed, this);\n        }\n        public emitRemoveToChildBefore(): void {\n            for ( const id in this.childrenMap) {\n                if (this.childrenMap[id]) {\n                    const child = this.childrenMap[id];\n                    if (child instanceof VFComponent) {\n                        child.emitRemoveToChildBefore();\n                    }\n                }\n            }\n            this.emit(ComponentEvent.Remove, this);\n        }\n\n        public dispose(): void {\n            this._vfStage = undefined;\n            this.interactabled = false;\n            if (this.animation) {\n                this.animation.stop();\n            }\n            \n            for ( const id in this.childrenMap) {\n                if (this.childrenMap[id]) {\n                    const child = this.childrenMap[id];\n                    if (child instanceof VFComponent) {\n                        child.dispose();\n                    }\n                }\n            }\n\n            this.releaseAll();\n        }\n\n        private onRemoved(): void {\n            if (this.actionList) {\n                this.actionList.stop();\n            }\n            this.off(ComponentEvent.Remove);\n        }\n        \n}\n\n","import { VFStage } from './VFStage';\nimport { ITransitionData } from '../core/model/IVFData';\nimport { VFComponent } from './VFComponent';\n\nexport class VFScene extends vf.gui.Container {\n\n        public vfStage: VFStage;\n        public id: string = '-1';\n        public transition: ITransitionData | undefined;\n        \n        private component: VFComponent = null as any;\n\n        constructor(vfStage: VFStage) {\n            super();\n            this.vfStage = vfStage;\n        }\n\n        public pause(): void {\n            if (this.component) {\n                this.component.pause();\n            }\n        }\n\n        public resume(): void {\n            if (this.component) {\n                this.component.resume();\n            }\n        }\n\n        public addComponent(vfComponent: VFComponent): void {\n            this.component = vfComponent;\n            this.component.vfStage = this.vfStage;\n            this.component.runAction();\n            this.component.emitAddToChildBefore();\n            const child = this.addChild(vfComponent);\n            this.component.emitAddToChild();\n            this.component.playDefaultAnimation();\n        }\n\n        public removeComponent(): void {\n            if (this.component) {\n                this.component.emitRemoveToChildBefore();\n                const child = this.removeChild(this.component);\n                this.component.emitRemoveToChild();\n                this.component.stop();\n                this.component.vfStage = undefined;\n            }\n        }\n        public dispose(): void {\n            if (this.component) {\n                this.removeComponent();\n                this.component.dispose();\n            }\n            this.component = null as any;\n        }\n    }\n\n","import { ITransitionData, IVFDataV1, SceneEvent, VFStateCode } from '../core/model/IVFData';\nimport { VariableManager } from '../core/VariableManager';\nimport { SoundManager } from '../sound/SoundManager';\nimport { VFScene } from './VFScene';\nimport { RES } from '../core/RES';\nimport { renderTexture, applyTransition } from '../utils/VFUtil';\nimport Config from '../core/Config';\nimport * as Plugs from './plugs/PlugIndex';\nimport { IPlug } from './plugs/IPlug';\nimport { EventLevel } from '../event/EventLevel';\nimport { EventType } from '../event/EventType';\nimport { Player } from '../Player';\nimport IEvent from '../event/IEvent';\n\nenum STAGE_STATUS {\n    NONE,\n    LOADING,\n    READY,\n    PLAYING,\n    PAUSED,\n    STOP,\n}\n\n// eslint-disable-next-line no-undef\nexport class VFStage extends vf.gui.Stage {\n    public variableManager: VariableManager;\n    public soundManager: SoundManager;\n    public tween: vf.gui.Tween;\n    public fps: number = 30;\n    public readonly config: Config;\n    public readonly player:Player;\n    /**\n     * 插件列表 \n     */\n    public readonly plugs = new Map<string, IPlug>();\n    //\n    private data: IVFDataV1;\n    private curScene?: VFScene;\n    private status: STAGE_STATUS = STAGE_STATUS.NONE;\n\n    private res: RES;\n\n\n    constructor(data: IVFDataV1, config: Config, player:Player) {\n        \n        super(config.width, config.height);\n        this.data = data;\n        this.width = config.width;\n        this.height = config.height;\n        this.config = config; \n        this.player = player;\n        vf.gui.Utils.debug = config.debug;\n        // 配置数据后，创建各种管理器\n        this.res = new RES(this);\n        this.variableManager = new VariableManager();\n        this.soundManager = new SoundManager(this.res, this);\n        this.tween = new vf.gui.Tween();\n        // tslint:disable-next-line: no-unused-expression\n        new Plugs.PlugIndex();\n    }\n\n    public get systemEvent() {\n       return this.config.systemEvent;\n    }\n\n    /**\n     * 即使没有引用也不要删除这个接口，GUI在调用\n     * @param msg \n     */\n    public inputLog(msg: IEvent){\n        if(msg.message === undefined){\n            msg.message = '';\n        }\n        if(msg.target && msg.target['libId']){\n            msg.message +=  `, id = ${ msg.target['id']} , libId = ${ msg.target['libId']}`;\n        }\n        this.player.runtimeLog(msg);\n    }\n\n    public start(): void {\n\n        if (this.app) {\n            this.app.ticker.add(this.onGUITickerUpdata, this);\n        }\n        \n        // TODO: 适配\n        // 初始化加载界面\n        this.status = STAGE_STATUS.LOADING;\n        this.res.on(SceneEvent.LoadComplete, this.loadAssetCompleted, this);\n        this.res.on(SceneEvent.LoadProgress, this.loadProgress, this);\n        // 开始加载\n        this.res.loadData(this.data);\n    }\n    public pause(): void {\n        if (this.curScene) {\n            this.status = STAGE_STATUS.PAUSED;\n            this.curScene.pause();\n            this.soundManager.pause();\n        }\n    }\n    public resume(): void {\n        if (this.curScene) {\n            this.curScene.resume();\n            this.soundManager.resume();\n            this.status = STAGE_STATUS.PLAYING;\n        }\n\n    }\n    public reset(): void {\n        if (this.status === STAGE_STATUS.NONE ||\n            this.status === STAGE_STATUS.LOADING) {\n            return;\n        }\n        if (this.curScene) {\n            this.curScene.dispose();\n            this.curScene = undefined;\n        }\n        this.variableManager.clear();\n        this.soundManager.clear();\n        this.createScene();\n    }\n    public dispose(): void {\n\n        this.releaseAll();\n        \n        if (this.curScene) {\n            this.curScene.dispose();\n        }\n        if (this.tween) {\n            this.tween.release();\n        }\n        \n        // this.removeChildren();\n\n        if (this.app && this.app.ticker) {\n            this.app.ticker.remove(this.onGUITickerUpdata, this);\n            this.app.ticker.stop();\n            // this.app.ticker.destroy();\n        }\n        if (this.res) {\n            this.res.off(SceneEvent.LoadComplete, this.loadAssetCompleted, this);\n            this.res.off(SceneEvent.LoadProgress, this.loadProgress, this);\n            this.res.destroy();\n            this.res = null as any;\n        }\n        this.plugs.forEach((value) => {\n            value.release();  \n        });\n    }\n\n    /** 获取当前的场景 */\n    public getCurScene() {\n        return this.curScene;\n    }\n\n    public switchToNextScene(transition?: ITransitionData): void {\n        if (this.curScene) {\n            const curSceneId = this.curScene.id;\n            const nextScene = this.res.createNextScene(curSceneId, this);\n            if (nextScene) {\n                this.switchToScene(nextScene, transition);\n            }\n        }\n    }\n\n    public switchToPrevScene(transition?: ITransitionData): void {\n        if (this.curScene) {\n            const curSceneId = this.curScene.id;\n            const prevScene = this.res.createPrevScene(curSceneId, this);\n            if (prevScene) {\n                this.switchToScene(prevScene, transition);\n            }\n        }\n    }\n\n    public switchToSceneId(sceneId: string, transition?: ITransitionData): void {\n        const scene = this.res.createScene(sceneId, this);\n        if (scene) {\n            this.switchToScene(scene, transition);\n        }\n    }\n\n    private switchToScene(scene: VFScene, transition?: ITransitionData): void {\n        if (scene && this.app) {\n            let transitionData = transition;\n            let prevTexture: vf.RenderTexture | undefined;\n            if (this.curScene) {\n                if (this.curScene.transition || transitionData) {\n                    if (transitionData == null) {\n                        transitionData = this.curScene.transition;\n                    }\n                    prevTexture = renderTexture(this.app, this.container, this.container.width, this.container.height);\n                }\n                this.removeChild(this.curScene);\n                this.curScene.dispose();\n            }\n            this.curScene = scene;\n            this.curScene.width = this.width;\n            this.curScene.height = this.height;\n            this.addChild(scene);\n            if (transitionData && prevTexture) {\n                applyTransition(this, prevTexture, transitionData);\n            } else {\n                this.emit(SceneEvent.TransitionStart);\n                this.emit(SceneEvent.TransitionEnd);\n            }\n        }\n    }\n\n    private loadAssetCompleted(e: any): void {\n        this.systemEvent.emit(EventType.STATUS, {\n            code: SceneEvent.LoadComplete, level: EventLevel.STATUS, data: null,\n        });\n        // 加载完毕\n        this.status = STAGE_STATUS.READY;\n        this.createScene();\n        this.createPlugs();\n        this.systemEvent.emit(EventType.STATUS, {\n            code: VFStateCode.SCENE_CREATE, level: EventLevel.STATUS, data: null,\n        });\n    }\n\n    private loadProgress(e: any): void {  \n        this.systemEvent.emit(EventType.STATUS, {\n            code: SceneEvent.LoadProgress, level: EventLevel.STATUS, data: e,\n        });\n    }\n    \n    private createPlugs() {\n        const plugsData =  this.config.plugs;\n        for (const value of plugsData) {\n            const PlugsClass = ((Plugs as any)[value.id]);\n            if (PlugsClass) { \n                const plug: IPlug = new PlugsClass(value.id, this);\n                plug.load(value);\n            }\n\n        }\n    }\n\n    private createScene(): void {\n        // 创建场景\n        const scene = this.res.createFirstScene(this);\n        if (scene) {\n            this.curScene = scene;\n            this.addChild(scene);\n        }\n        this.status = STAGE_STATUS.PLAYING;\n    }\n\n    private onGUITickerUpdata(deltaTime: number) {\n        if (this.app) {\n            vf.gui.TickerShared.update(deltaTime, \n                this.app.ticker.lastTime,\n                this.app.ticker.elapsedMS);\n        }\n        \n    }\n}\n\n","import { VFStage } from '../VFStage';\nimport {Plug } from './Plug';\nimport { EventLevel } from '../../event/EventLevel';\nimport { EventType } from '../../event/EventType';\n\n/** \n * 画板插件 \n * @author yangxiao \n */\nexport class BoardDrawPlug extends Plug {\n\n    private followLine?: vf.gui.FollowLine;\n\n    constructor(className: string, parent: VFStage) {\n        super(className, parent);\n    }\n\n    public onLoad(data: any) {\n        const { parent } = this;\n        this.followLine = new vf.gui.FollowLine(parent as any);\n        const followLine = this.followLine;\n        followLine.role =  data.role === 1 ? \n        vf.gui.Enum.FollowLineEnum.Role.teacher : \n        vf.gui.Enum.FollowLineEnum.Role.student;\n        followLine.width = parent.width;\n        followLine.height = parent.height;\n        parent.addChild(followLine);\n\n        followLine.on(vf.gui.Interaction.ComponentEvent.COMPLETE, this.onComplete, this);\n\n        parent.config.systemEvent.on(EventType.MESSAGE, this.onReceipt, this);\n        return  this;\n    }\n\n    public onRelease() {\n        this.parent.config.systemEvent.off(EventType.MESSAGE, this.onReceipt, this);\n        this.followLine?.off(vf.gui.Interaction.ComponentEvent.COMPLETE, this.onComplete, this);\n        this.followLine?.offAll();\n        this.followLine?.release(); \n    }\n\n    private onComplete(display: vf.gui.FollowLine, data: string) {\n        this.parent.config.systemEvent.emit(EventType.MESSAGE, \n            { \n                type: 'sendSignal', \n                code: 'sendSignal', \n                level : EventLevel.COMMAND , \n                data: {name: 'boardDraw', val: data},\n            });\n    }\n\n    private onReceipt(msg: {type: string, code: string, data: {name: string, val: any}}) {\n        if (msg.data && msg.code === 'sendSignal' &&  this.followLine) {\n            const followLine = this.followLine;\n            if (msg.data.name === 'boardDraw') {\n                followLine.setData(msg.data.val);\n            } else if (msg.data.name === 'boardRestore') { // 重置\n                followLine.reset();\n            } else if (msg.data.name === 'boardErase') { // 橡皮檫\n                followLine.isErasing = msg.data.val;\n            } else if (msg.data.name === 'boardLineColor') { // 线段颜色\n                followLine.lineColor = msg.data.val;\n            }\n            \n        }\n    }\n\n\n}\n","import { IPlug } from './IPlug';\nimport { VFStage } from '../VFStage';\nimport { VFStateCode } from '../../core/model/IVFData';\n\n/** \n * 基于接口的抽象实现\n * @author yangxiao\n */\nexport class Plug implements IPlug {\n\n    public id: string;\n    public parent: VFStage;\n    public status: VFStateCode;\n\n    constructor(className: string, parent: VFStage) {\n        this.id = className;\n        this.parent = parent;\n        this.status = VFStateCode.INIT;\n    }\n\n    public load(data: any) {\n        if (this.status !== VFStateCode.INIT) {\n            return;\n        }\n        this.onLoad(data);\n        this.status = VFStateCode.READY;\n        this.parent.plugs.set(this.id, this);\n        return this;\n    }\n\n    public release() {\n        if (this.status === VFStateCode.INIT) {\n            return;\n        }\n        this.onRelease();\n        this.parent.plugs.delete(this.id);\n        this.parent = null as any;\n        this.status = VFStateCode.INIT;\n    }\n\n    /**\n     * 子类实现\n     */\n    protected onLoad(data: any) {\n        //\n    }\n    \n    /**\n     * 子类实现\n     */\n    protected onRelease() {\n        //\n    }\n\n}\n","export  { BoardDrawPlug } from './BoardDrawPlug';\nexport  { SliderEditorPlug } from './SliderEditorPlug';\n\n\nexport class PlugIndex {\n    constructor() {\n        //\n    }\n}\n\n","// eslint-disable-next-line no-unused-vars\nimport { VFStage } from '../VFStage';\nimport { Plug } from './Plug';\nimport { EventLevel } from '../../event/EventLevel';\n/**\n * 基于互动课件slider业务的特殊插件，用于解决穿透，鼠标事件等问题\n * @author yangxiao\n */\nexport class SliderEditorPlug extends Plug {\n    private dom?: HTMLElement | null;\n    private observer?: MutationObserver;\n\n    constructor(className: string, parent: VFStage) {\n        super(className, parent);\n        parent.originalEventPreventDefault = true;\n        let element = document.getElementById('drawCanvas');\n\n        // eslint-disable-next-line no-eq-null\n        if (element == null) {\n            const canvasContainer = document.getElementsByClassName('canvas-container')[0];\n\n            if (canvasContainer && canvasContainer.children[1]) {\n                element = canvasContainer.children[1] as HTMLElement;\n            }\n        }\n        // eslint-disable-next-line no-eq-null\n        if (element == null) {\n            // 无法找到画线，可能是回放模式\n            this.parent.systemEvent.emitError('E0002', ['drawCanvas|canvas-container'], EventLevel.WARNING);\n\n            return;\n        }\n        this.dom = element;\n    }\n\n    protected onLoad(data: any) {\n        if (this.dom === undefined) {\n            return;\n        }\n\n        const element = this.dom as HTMLElement;\n\n        const { parent } = this;\n\n        // tslint:disable-next-line: max-line-length\n        const MutationObserver = window.MutationObserver || (window as any).WebKitMutationObserver || (window as any).MozMutationObserver;\n        // eslint-disable-next-line no-undef\n        const interaction = (parent.app?.renderer as vf.Renderer).plugins.interaction;\n\n        this.observer = new MutationObserver((mutations) => {\n            mutations.forEach((mutation) => {\n                if (mutation.type === 'attributes') {\n                    const node = mutation.target as any;\n                    const currentCursorMode = interaction.currentCursorMode;\n\n                    if (node.dataset.cursor !== node.style.cursor) {\n                        if (currentCursorMode === 'pointer') {\n                            node.style.cursor = 'pointer';\n                            node.dataset.cursor = node.style.cursor;\n\n                            return;\n                        }\n                        node.dataset.cursor = node.style.cursor;\n                    }\n                }\n            });\n        });\n        this.observer.observe(element, {\n            attributes: true, // configure it to listen to attribute changes,\n            attributeFilter: ['style'],\n        });\n\n        const defaultCursor = element.style.cursor;\n\n        interaction.setTargetElement(element, parent.app?.renderer.resolution);\n        const cursorStyles: any = interaction.cursorStyles;\n\n        cursorStyles.default = defaultCursor;\n\n        element.style.display = 'none';\n\n        setTimeout(() => {\n            // BUG 边检检查\n            if (element) { element.style.display = ''; }\n        }, 60);\n\n        return;\n    }\n\n    protected onRelease() {\n        this.observer?.disconnect();\n        this.dom = null;\n    }\n}\n","import Config from '../core/Config';\nimport {EventType} from '../event/EventType';\n/**\n * 显示错误信息\n * TODO:\n *  1、仅处理影响运行/使用的Error。\n *  2、支持国际化显示Error信息。\n *  3、可配置不使用内置Error，外部可根据API抛出的异常自定义显示Error信息。\n */\nexport default class ErrorDisplay {\n    private _config: Config;\n    private _errPanel: HTMLElement;\n    private _showCode: string;\n    constructor(config:Config){\n        this._config = config;\n        this._showCode = '';\n        this._errPanel = document.createElement(\"div\");\n        this._errPanel.style.background = 'rgba(0,0,0,0.8)';\n        this._errPanel.style.position = 'absolute';\n        this._errPanel.style.width = '100%';\n        this._errPanel.style.height = '100%';\n        this._errPanel.style.zIndex = '8088';\n        this._errPanel.style.display = 'none';\n        let _span = document.createElement(\"span\");\n        _span.style.display = 'table-cell';\n        _span.style.verticalAlign = 'middle';\n        _span.style.textAlign = 'center';\n        _span.style.color = '#eee';\n        this._errPanel.appendChild(_span);\n        this._config.container.appendChild(this._errPanel);\n        this._config.i18n.addListener(EventType.STATE, this.onChange, this);\n    }\n\n    public setMessage(code: string, data?: string[]): void {\n        // mark: need check code is supported\n        if(code) {\n            this._showCode = code;\n            this._errPanel.style.display = 'table';\n            let _span = this._errPanel.children[0];\n            if(_span.hasChildNodes()){\n                _span.removeChild(_span.childNodes[0]);\n            }\n            let _text = document.createTextNode(this.getText(code, data));\n            _span.appendChild(_text);\n        }\n    }\n\n    public getText(code: string, data?: string[]) {\n        \n        return this._config.i18n.t(code,data) + ' #' + code;\n    }\n\n    public close() {\n        this._showCode = '';\n        this._errPanel.style.display = 'none';\n    }\n\n\n    private onChange(evt: any) {\n        if(this._showCode && evt.code === 'I18N.Property.Changed') {\n            this.setMessage(this._showCode);\n        }\n    }\n}","import {EventEmitter} from 'eventemitter3';\nimport IEvent from './IEvent';\nimport IEventObserver from './IEventObserver';\nimport { EventLevel } from './EventLevel';\nimport { EventType } from './EventType';\nimport { VFStateCode } from '../core/model/IVFData';\n\nexport default class StateEvent extends EventEmitter {\n\n    private _observers: IEventObserver[];\n\n    public constructor() {\n        super();\n        this._observers = [];\n    }\n\n    public emit(type: string, event: IEvent): boolean {\n        if (type === undefined) {\n            throw new Error(`emitEvent ==> ${type} is undefined`);\n        }\n        if (event.code === undefined) {\n            throw new Error(`emitEvent ==> ${type} args.code is undefined`);\n        }\n        if (event.level === undefined) {\n            throw new Error(`emitEvent ==> ${type} args.level is undefined`);\n        }\n        const result = super.emit(type, event);\n        return result;\n    }\n\n    /**\n     * 扩展的发送，事件名与数据\n     * @param event 事件名 event = code \n     * @param _data \n     * @param _target \n     */\n    public emitExt(event: string,  _data: any, _target?: any) {\n        this.emit(event, { code: event, level: EventLevel.COMMAND, data: _data, target: _target } );\n    }\n\n    /**\n     * 抛出错误信息\n     * @param errorCode 错误码，指定packages.i18n中的文件\n     * @param data 需要解析的变量\n     */\n    public emitError(errorCode: string, data?: any[], level = EventLevel.ERROR , target?: any) {\n        this.error({code: errorCode, level, data, message: errorCode, target,});\n    }\n\n    public error(msg:IEvent){\n        this.emit(EventType.STATUS, msg);\n    }\n}\n","export * from './Player';\n","/* eslint-disable no-unused-vars */\nimport { RES } from '../core/RES';\nimport { VFStage } from '../display/VFStage';\nimport { IActionSound } from '../core/model/IVFData';\nimport { EventLevel } from '../event/EventLevel';\nimport { EventType } from '../event/EventType';\n\nexport class SoundManager {\n    private res: RES;\n    private stage: VFStage;\n    private trackIdMap: string[] = [];\n\n    constructor(res: RES, vfStage: VFStage) {\n        this.res = res;\n        this.stage = vfStage;\n        // vfStage.config.vfvars.useNativeAudio // 如果使用了native播放，不要加载和设置PIXI.sound， 在互动课件中会有问题，教室中使用audioContext会出错。\n    }\n\n    private getAudio(trackId: string | undefined): undefined | vf.IAudio {\n        const ae = vf.AudioEngine.Ins();\n\n        if (trackId === undefined) {\n            return undefined;\n        }\n\n        return ae.map.get(this.stage.config.uuid.toString() + trackId);\n    }\n\n    public clear(): void {\n        this.pause();\n        const trackMap = this.trackIdMap;\n        let audio: vf.IAudio | undefined;\n\n        while (trackMap.length > 0) {\n            audio = this.getAudio(trackMap.shift());\n\n            if (audio) {\n                audio.dispose();\n            }\n        }\n    }\n\n    public pause(): void {\n        let audio: vf.IAudio | undefined;\n\n        this.trackIdMap.forEach((trackId) => {\n            audio = this.getAudio(trackId);\n\n            if (audio) {\n                audio.pause();\n            }\n        });\n    }\n\n    public resume(): void {\n        let audio: vf.IAudio | undefined;\n\n        this.trackIdMap.forEach((trackId) => {\n            audio = this.getAudio(trackId);\n\n            if (audio) {\n                audio.play();\n            }\n        });\n    }\n\n    public pauseSound(data: IActionSound = {} as any): void {\n        if (this.nativeEmit(data.assetId as number, 'pauseAudio', data)) {\n            return;\n        }\n\n        if (this.weixinEmit()) {\n            return;\n        }\n\n        const audio = this.getAudio(data.trackId);\n\n        if (audio) {\n            audio.pause();\n        }\n    }\n\n    public resumeSound(data: IActionSound): void {\n        if (this.nativeEmit(data.assetId as number, 'resumeAudio', data)) {\n            return;\n        }\n\n        if (this.weixinEmit()) {\n            return;\n        }\n\n        const audio = this.getAudio(data.trackId);\n\n        if (audio && audio.paused) {\n            audio.play();\n        }\n    }\n\n    // tslint:disable-next-line: max-line-length\n    public playSound(data: IActionSound): void {\n        const asset = this.res.data.assets[data.assetId.toString()];\n\n        if (asset === undefined || asset.url === undefined || asset.url === '') {\n            console.warn('playback failed,missing assetId!', data);\n\n            return;\n        }\n\n        if (this.nativeEmit(data.assetId as number, 'playAudio', data)) {\n            return;\n        }\n\n        if (this.weixinEmit()) {\n            return;\n        }\n\n        let audio = this.getAudio(data.trackId);\n\n        if (audio) {\n            audio.play(0, 0);\n        }\n        else {\n            // eslint-disable-next-line max-len\n            audio = vf.AudioEngine.Ins().createAudio(this.stage.config.uuid.toString() + data.trackId, asset.url, { autoplay: false } as any);\n            audio.play(data.time, data.offset, data.length);\n            this.trackIdMap.push(data.trackId);\n        }\n    }\n\n    public isWeixin(): boolean {\n        const ua = window.navigator.userAgent.toLowerCase();\n\n        return (/micromessenger/).test(ua);\n    }\n\n    private weixinEmit(): boolean {\n        return false;\n        // eslint-disable-next-line no-unreachable\n        if (this.isWeixin()) {\n            // document.addEventListener('WeixinJSBridgeReady', () => {audio.play(); }, false);\n            // if (( window as any).WeixinJSBridge &&\n            //     typeof ( window as any).WeixinJSBridge === 'object' &&\n            //     typeof ( window as any).WeixinJSBridge.invoke === 'function') {\n            //     ( window as any).WeixinJSBridge.invoke('getNetworkType', {}, () => {audio.pause(); });\n            // }\n        }\n    }\n\n    private nativeEmit(assetId: number | string, typeTag: string, data: IActionSound = {} as any): boolean {\n        const useNative = this.stage.config.vfvars.useNativeAudio;\n\n        if (useNative) { // 先放这里，后期soundManager完成后，合并\n            const asset = this.res.getAsset(assetId);\n\n            this.stage.systemEvent.emit(EventType.MESSAGE, {\n                code: EventLevel.NATIVE,\n                type: EventLevel.NATIVE,\n                level: EventLevel.COMMAND,\n                data: {\n                    type: typeTag,\n                    id: data.trackId || 0,\n                    src: asset.url,\n                    mode: data.mode || 'sound',\n                },\n            });\n\n            return true;\n        }\n\n        return false;\n    }\n}\n","import { ScaleMode } from '../core/model/IVFData';\nimport { VFStage } from '../display/VFStage';\n\n/**\n * @private\n * \n * 更新播放器视口尺寸\n * \n * noScale 不对内容进行任何缩放，保持原始的1:1比例。如果播放器窗口比内容小，则可能进行一些裁切。\n * \n * showAll 非溢出居中，显示全部内容。水平或垂直“两侧”可能会不够宽而留有黑边。\n * \n * contain 非溢出，显示全部内容，水平或垂直“一侧”方向有黑边。\n * \n * cover 溢出居中，某些部分也许无法显示在播放器视口。\n */\n// tslint:disable-next-line: max-line-length\nexport default function calculateUpdatePlayerSize(canvas: HTMLCanvasElement, stage: VFStage, scaleMode: ScaleMode, appParentDivName = '', canvasScaleFactor = 1, isWebGl = true) {\n    const top = 0;\n\n    let parentWidth = window.innerWidth;\n    let parentHeight = window.innerHeight;\n\n    if (canvas.parentNode != null) {\n        parentWidth = (canvas.parentNode as HTMLElement).offsetWidth;\n        parentHeight = (canvas.parentNode as HTMLElement).offsetHeight;\n    }\n\n    if (appParentDivName !== '') {\n        if (document.getElementById(appParentDivName) == null) {\n            throw new Error(`Error No find appParentDivName(${appParentDivName})`);\n        }\n        parentWidth = (document.getElementById(appParentDivName) as HTMLElement).offsetWidth;\n        parentHeight = (document.getElementById(appParentDivName) as HTMLElement).offsetHeight;\n    }\n\n    const boundingClientWidth = parentWidth;\n    const boundingClientHeight = parentHeight;\n\n    const screenWidth = boundingClientWidth;\n    const screenHeight = boundingClientHeight;\n\n    const stageSize = calculateStageSize(scaleMode, screenWidth, screenHeight, canvas.width, canvas.height);\n\n    const stageWidth = stageSize.stageWidth;\n    const stageHeight = stageSize.stageHeight;\n    const displayWidth = stageSize.displayWidth;\n    const displayHeight = stageSize.displayHeight;\n\n    canvas.style.transformOrigin = '0% 0% 0px';\n\n    if (canvas.width !== stageWidth) {\n        canvas.width = stageWidth;\n    }\n    if (canvas.height !== stageHeight) {\n        canvas.height = stageHeight;\n    }\n\n    const rotation = 0;\n    canvas.style.top = top + (boundingClientHeight - displayHeight) / 2 + 'px';\n    canvas.style.left = (boundingClientWidth - displayWidth) / 2 + 'px';\n\n    const scalex = displayWidth / stageWidth;\n    const scaley = displayHeight / stageHeight;\n\n    let canvasScaleX = scalex * canvasScaleFactor;\n    let canvasScaleY = scaley * canvasScaleFactor;\n\n    if (!isWebGl) {\n        canvasScaleX = Math.ceil(canvasScaleX);\n        canvasScaleY = Math.ceil(canvasScaleY);\n    }\n\n    const m = new vf.Matrix();\n    m.identity();\n    m.scale(scalex / canvasScaleX, scaley / canvasScaleY);\n    m.rotate(rotation * Math.PI / 180);\n\n    canvas.style.position = 'absolute';\n    canvas.style.transform = `matrix(${m.a},${m.b},${m.c},${m.d},${m.tx},${m.ty})`;\n    canvas.width = stageWidth * canvasScaleX;\n    canvas.height = stageHeight * canvasScaleY;\n\n    stage.scaleX = canvasScaleX;\n    stage.scaleY = canvasScaleY;\n\n    return { width: canvas.width, height: canvas.height, scaleX: canvasScaleX, scaleY: canvasScaleY };\n}\n\n/**\n * @private\n * 计算舞台显示尺寸\n * @param scaleMode 当前的缩放模式\n * @param screenWidth 播放器视口宽度\n * @param screenHeight 播放器视口高度\n * @param contentWidth 初始化内容宽度\n * @param contentHeight 初始化内容高度\n */\nfunction calculateStageSize(\n    scaleMode: ScaleMode,\n    screenWidth: number,\n    screenHeight: number,\n    contentWidth: number,\n    contentHeight: number) {\n\n    let displayWidth = screenWidth;\n    let displayHeight = screenHeight;\n    let stageWidth = contentWidth;\n    let stageHeight = contentHeight;\n    const scaleX = (screenWidth / stageWidth) || 0;\n    const scaleY = (screenHeight / stageHeight) || 0;\n\n    switch (scaleMode) {\n        case 'showAll':\n            if (scaleX > scaleY) {\n                displayWidth = Math.round(stageWidth * scaleY);\n            } else {\n                displayHeight = Math.round(stageHeight * scaleX);\n            }\n            break;\n        case 'cover':\n            if (scaleX > scaleY) {\n                displayHeight = Math.round(stageHeight * scaleX);\n            } else {\n                displayWidth = Math.round(stageWidth * scaleY);\n            }\n            break;\n        case 'contain':\n            if (scaleX > scaleY) {\n                stageWidth = Math.round(screenWidth / scaleY);\n            } else {\n                stageHeight = Math.round(screenHeight / scaleX);\n            }\n            break;\n        default:\n            stageWidth = screenWidth;\n            stageHeight = screenHeight;\n            break;\n    }\n    // 宽高不是2的整数倍会导致图片绘制出现问题\n    if (stageWidth % 2 !== 0) {\n        stageWidth += 1;\n    }\n    if (stageHeight % 2 !== 0) {\n        stageHeight += 1;\n    }\n    if (displayWidth % 2 !== 0) {\n        displayWidth += 1;\n    }\n    if (displayHeight % 2 !== 0) {\n        displayHeight += 1;\n    }\n    return {\n        stageWidth,\n        stageHeight,\n        displayWidth,\n        displayHeight,\n    };\n}\n","/* eslint-disable no-undef */\n/* eslint-disable max-len */\n/* eslint-disable consistent-return */\n/* eslint-disable func-names */\n/* eslint-disable func-style */\n/* eslint-disable @typescript-eslint/explicit-function-return-type */\n/* eslint-disable @typescript-eslint/no-use-before-define */\n/* eslint-disable no-prototype-builtins */\nimport { EventLevel } from '../event/EventLevel';\nimport { getUrl } from './getUrl';\nimport { CDN } from '../core/model/IVFData';\n\n/**\n * 加载script js 或js模块\n * 1. 支持普通的全局js加载，常规script标签方式引入\n * 2. 支持通过 “tsc xxx.ts -m umd” 编译生成的文件动态加载\n *\n * @param url url地址\n * @param moduleName 模块名，可加载umd模块，访问形式为gui.moduleName\n *\n * @example\n * let Cls = await importScript('http://127.0.0.1:5501/dist/test2.js',\"Test\");\n * let text = new Cls(); //或 let text = new vf.gui.Test();\n *\n */\nexport default async function importScript(url: string, cdns?: CDN, moduleName?: string, loadCompleteCallBack?: Function): Promise<boolean | any> {\n\n    const gui = vf.gui as any;\n\n    if (moduleName && gui[moduleName]) {\n        return gui[moduleName];\n    }\n\n    const errorUrls: any[] = [];\n\n    return new Promise((resolve, reject) => {\n        let errorLoadCount = 0;\n\n        const loadScript = function (index: number) {\n            const s = document.createElement('script');\n\n            s.async = false;\n            s.src = index === 0 ? url : getUrl(url, '', cdns, index - 1);\n            s.addEventListener('load', loadComplete, false);\n            s.addEventListener('error', loadError, false);\n            document.body.appendChild(s);\n        };\n\n        const loadComplete = function (this: HTMLScriptElement, e: Event) {\n            removeEvent(this);\n            if (loadCompleteCallBack) {\n                loadCompleteCallBack();\n            }\n            if (moduleName) {\n                if (gui.module.hasOwnProperty(moduleName)) {\n                    gui[moduleName] = gui.module[moduleName];\n                    gui.module = null;\n\n                    return resolve(gui[moduleName]);\n                }\n\n                return resolve(false);\n            }\n            resolve(true);\n        };\n        const loadError = function (this: HTMLScriptElement, e: Event) {\n            removeEvent(this);\n            if (errorLoadCount > 3) {\n                reject({ code: '404', level: EventLevel.ERROR, data: [errorUrls.join('\\n')] });\n            }\n            else {\n                if (errorUrls.indexOf(this.src) === -1) {\n                    errorUrls.push(this.src);\n                }\n                loadScript(1);\n                errorLoadCount++;\n            }\n        };\n        const removeEvent = function (thisObj: any) {\n            thisObj.parentNode.removeChild(thisObj);\n            thisObj.removeEventListener('load', loadComplete, false);\n            thisObj.removeEventListener('error', loadError, false);\n        };\n\n        loadScript(0);\n    });\n}\n","import getTimer from './getTimer';\nexport default function trace(...args: any[]) {\n    const title = '[VF LOG]';\n    switch (args.length) {\n        // tslint:disable-next-line: no-console\n        case 1: return console.log(title, args[0]);\n        // tslint:disable-next-line: no-console\n        case 2: return console.log(title, args[0], args[1]);\n        // tslint:disable-next-line: no-console\n        case 3: return console.log(title, args[0], args[1], args[2]);\n        // tslint:disable-next-line: no-console\n        case 4: return console.log(title, args[0], args[1], args[2], args[3]);\n        // tslint:disable-next-line: no-console\n        case 5: return console.log(title, args[0], args[1], args[2], args[3], args[4]);\n        // tslint:disable-next-line: no-console\n        case 6: return console.log(title, args[0], args[1], args[2], args[3], args[4], args[5]);\n    }\n}\n//\n// export default class Trace {\n//     public static NAME\t\t    :string = 'Trace';\n//     public static VERSION\t\t:string = '1.0.0';\n//\n//     // public static ignoreStatus\t\t:boolean = true;\n//     // public static secure\t\t\t:boolean = false;\n//     // public static secureDomain\t\t:string  = '*';\n//     // public static allowLog\t\t\t:boolean = true;\n//     // public static allowAdvancedTrace:boolean = true;\n//     //\n//     // public static DEFAULT_COLOR\t:number\t= 6710886;\n//     // public static RED\t\t\t:number = 0xE40D0D;\n//     // public static ORANGE\t\t:number = 0xFF6600;\n//     // public static GREEN\t\t\t:number = 0x4FE10F;\n//     // public static BLUE\t\t\t:number = 0x118EE6;\n//     // public static PINK\t\t\t:number = 0xE40DE4;\n//     // public static YELLOW\t\t:number = 0xE9E610;\n//     // public static LIGHT_BLUE\t:number = 0x15E0DE;\n//     // public static START_TIME    :number = Date.now();\n//\n//     public static logAdvancedTrace  :boolean = false;\n//\n//     /**\n//      * 可以通过属性设置功能开关：\n//      *\n//      * - 输出堆栈调用跟踪日志（Trace.logAdvancedTrace = true;）\n//      *\n//      * 使用示例：\n//      * trace(\"year={}, month={}, day={}\", 2014, 9, 5); // [VF LOG] year=2014 month=9 day=5\n//      * trace(Object); // [VF LOG] {\"a\":\"aa\", \"b\":\"bb\", ...}\n//      * trace(Array); // [VF LOG] [0, 1, 2, ...]\n//      * trace(\"test message\", 0xFF6600, \"LOGO\"); // [LOGO LOG] test message\n//      * trace(\"test1\", \"test2\", 0xFF6600, \"test3\", \"CORE\"); // [CORE LOG] test1 test2 test3\n//      */\n//     public static log(any: any, ...args: any[]): void {\n//         let _msg: string = '';\n//         let _color: number = Trace.DEFAULT_COLOR;\n//         let _logo: string = 'VF';\n//\n//         if(typeof any === 'object') {\n//             try {\n//                 _msg = JSON.stringify(any);\n//                if(_msg === '{}') {\n//                    _msg = JSON.stringify((<any>Object).fromEntries(any.entries()));\n//                }\n//             }\n//             catch (err) {\n//                  return console.log(err);\n//             }\n//         }\n//         else {\n//             _msg = String(any);\n//         }\n//\n//         if(args.length) {\n//             let placeholder: string = '{}';\n//             let pIndex: number = 0;\n//             let arg: string = '';\n//             let i: number = 0;\n//\n//             while ((pIndex = _msg.indexOf(placeholder, pIndex)) != -1)\n//             {\n//                 arg = String(args.shift());\n//                 _msg = _msg.substring(0, pIndex) + arg + _msg.substring(pIndex + 2);\n//                 pIndex += arg.length;\n//             }\n//\n//             while (i<args.length)\n//             {\n//                 let _type: string = typeof args[i];\n//                 if (_type === \"number\" && args[i].toString(16).length == 6)\n//                 {\n//                     _color = args[i];\n//                     i++;\n//                     continue;\n//                 }\n//\n//                 if (_type === \"string\" && args[i].length<=5)\n//                 {\n//                     var re: RegExp = /^[A-Z]+[A-Z0-9]*$/;\n//                     if (re.test(args[i]))\n//                     {\n//                         _logo = args[i];\n//                         i++;\n//                         continue;\n//                     }\n//                 }\n//                 _msg += \" \" + String(args[i]);\n//                 i++;\n//             }\n//\n//         }\n//\n//         if(_logo || Trace.logAdvancedTrace) {\n//             _msg = `[${(_logo ? (_logo + ' LOG') : '')}${Trace.logAdvancedTrace?Trace.wrapMessage():''}] ` + _msg;\n//         }\n//         /* mark：颜色看需求再加...\n//         let style = [\n//             'background: linear-gradient(#D33106, #571402)'\n//             , 'border: 1px solid #3E0E02'\n//             , 'color: white'\n//             , 'display: block'\n//             , 'text-shadow: 0 1px 0 rgba(0, 0, 0, 0.3)'\n//             , 'box-shadow: 0 1px 0 rgba(255, 255, 255, 0.4) inset, 0 5px 3px -5px rgba(0, 0, 0, 0.5), 0 -13px 5px -10px rgba(255, 255, 255, 0.4) inset'\n//             , 'line-height: 40px'\n//             , 'text-align: center'\n//             , 'font-weight: bold'\n//         ].join(';');\n//         // console.log('%c test message!', style); */\n//         Trace.logAdvancedTrace?console.trace(_msg):console.log(_msg);\n//     }\n//\n//     private static wrapMessage(allowAdvancedTrace: boolean = true): string {\n//         let date: Date = new Date();\n//         let time: string = String('00' + date.getHours()).substr(-2) + ':' +\n//             String('00' + date.getMinutes()).substr(-2) + ':' +\n//             String('00' + date.getSeconds()).substr(-2) + '.' +\n//             String('000' + date.getUTCMilliseconds()).substr(-3);\n//         let str: string = '->' + getTimer(Trace.START_TIME) + ' ' + time;\n//\n//         // ...\n//\n//         return str;\n//     }\n// }\n//(<any>window).trace = trace;","import { CurveType, TransitionType, ITransitionData, SceneEvent, ExpressItemType } from '../core/model/IVFData';\nimport { VFComponent } from '../display/VFComponent';\nimport { VFStage } from '../display/VFStage';\nimport { ITransition } from '../core/transition/ITransition';\nimport { CrossFadeFilter } from '../core/transition/filters/CrossFadeFilter';\nimport { CircleFadeFilter } from '../core/transition/filters/CircleFadeFilter';\nimport { CrossZoomFilter } from '../core/transition/filters/CrossZoomFilter';\nimport { DoomScreenFilter } from '../core/transition/filters/DoomScreenFilter';\nimport { HeartWipeFilter } from '../core/transition/filters/HeartWipeFilter';\nimport { LinearBlurFilter } from '../core/transition/filters/LinearBlurFilter';\nimport { PageCurlFilter } from '../core/transition/filters/PageCurlFilter';\nimport { WindFilter } from '../core/transition/filters/WindFilter';\nimport { ToTearFilter } from '../core/transition/filters/ToTearFilter';\nimport { PageFlipLeftFilter } from '../core/transition/filters/PageFlipLeftFilter';\nimport { PageFlipRightFilter } from '../core/transition/filters/PageFlipRightFilter';\nimport { Transition } from '../core/transition/Tranistion';\n\n/**\n * 获取从父级开始的对象\n */\nfunction getParentByTargetComponent(component: VFComponent, targets: string[]) {\n    let com: vf.gui.DisplayObject = component as any;\n    while (targets.length > 0) {\n        const childId = targets.shift();\n        if (com && com instanceof VFComponent && childId) {\n            com = (com as VFComponent).getChildById(childId) as any;\n        } else {\n            return undefined;\n        }\n    }\n    return com;\n}\n\n/**\n * 获取从舞台顶级开始的对象，请标注targets的数组首位为-1\n * @param component \n * @param targets \n */\nfunction getRootByTargetComponent(component: VFComponent, targets: string[]) {\n    targets.shift(); // type\n    if (!component.vfStage) {\n        return;\n    }\n    const curScene = component.vfStage.getCurScene();\n    let curCom: VFComponent | undefined;\n    const rootComID = targets.shift();\n    if (!curScene) {\n        return;\n    }\n    for (let i = 0, len = curScene.uiChildren.length; i < len; i++) {\n        curCom = curScene.uiChildren[i] as any;\n        if (curCom instanceof VFComponent && curCom.id === rootComID) {\n            break;\n        }\n    }\n    if (curCom === undefined) {\n        return undefined;\n    }\n    return getParentByTargetComponent(curCom, targets);\n}\n\n\nexport function getTargetComponent(component: VFComponent,\n                                   targetData: any[] | undefined): vf.gui.DisplayObject | undefined {\n    // 支持从变量，属性，数组，参数中获取 组件\n    if (component && Array.isArray(targetData) && targetData.length > 1) {\n        if (targetData[0] === ExpressItemType.VARIABLE || \n            targetData[0] === ExpressItemType.PROPERTY ||\n            targetData[0] === ExpressItemType.ARRAY_VALUE ||\n            targetData[0] === ExpressItemType.PARAM_VALUE ||\n            targetData[0] === ExpressItemType.OBJECT_VALUE ||\n            targetData[0] === ExpressItemType.COMPONENT) {\n            const vfStage = component.vfStage;\n            if (vfStage && vfStage.variableManager) {\n                const variableManager = vfStage.variableManager;\n                const comp = variableManager.getExpressItemValue(component, targetData);\n                if (comp && comp instanceof vf.gui.DisplayObject) {\n                    return comp;\n                }\n            }\n        }\n    }\n    return getComponentOrChild(component, targetData);\n}\n\nexport function getComponentOrChild(component: VFComponent,\n                                    targetData: string[] | undefined): vf.gui.DisplayObject | undefined {\n    if (!targetData) {\n        return component as any;\n    } else if (targetData.length <= 0) {\n        return component as any;\n    } else {\n        const targets = targetData.concat();\n        if (targets[0] === '-1') {// 从顶级开始\n            return getRootByTargetComponent(component, targets);\n        } else {// 从父级开始\n            return getParentByTargetComponent(component, targets);\n        }\n    }\n}\n\nexport function getCurveProgress(type: CurveType, pos: number): number {\n    let s: number = 0;\n    switch (type) {\n        case CurveType.None:\n            return 0;\n        case CurveType.Linear:\n            return pos;\n        case CurveType.EaseOutQuad:\n            return -(Math.pow((pos - 1), 2) - 1);\n        case CurveType.EaseInQuad:\n            return Math.pow(pos, 2);\n        case CurveType.EaseInOutQuad:\n            // tslint:disable-next-line: no-conditional-assignment\n            if ((pos /= 0.5) < 1) {\n                return 0.5 * Math.pow(pos, 2);\n            }\n            return -0.5 * ((pos -= 2) * pos - 2);\n        case CurveType.EaseInCubic:\n            return Math.pow(pos, 3);\n        case CurveType.EaseOutCubic:\n            return (Math.pow((pos - 1), 3) + 1);\n        case CurveType.EaseInOutCubic:\n            // tslint:disable-next-line: no-conditional-assignment\n            if ((pos /= 0.5) < 1) {\n                return 0.5 * Math.pow(pos, 3);\n            }\n            return 0.5 * (Math.pow((pos - 2), 3) + 2);\n        case CurveType.EaseInQuart:\n            return Math.pow(pos, 3);\n        case CurveType.EaseOutQuart:\n            return -(Math.pow((pos - 1), 4) - 1);\n        case CurveType.EaseInOutQuart:\n            // tslint:disable-next-line: no-conditional-assignment\n            if ((pos /= 0.5) < 1) {\n                return 0.5 * Math.pow(pos, 4);\n            }\n            return -0.5 * ((pos -= 2) * Math.pow(pos, 3) - 2);\n        case CurveType.EaseInQuint:\n            return Math.pow(pos, 5);\n        case CurveType.EaseOutQuint:\n            return (Math.pow((pos - 1), 5) + 1);\n        case CurveType.EaseInOutQuint:\n            // tslint:disable-next-line: no-conditional-assignment\n            if ((pos /= 0.5) < 1) {\n                return 0.5 * Math.pow(pos, 5);\n            }\n            return 0.5 * (Math.pow((pos - 2), 5) + 2);\n        case CurveType.EaseInSine:\n            return -Math.cos(pos * (Math.PI / 2)) + 1;\n        case CurveType.EaseOutSine:\n            return Math.sin(pos * (Math.PI / 2));\n        case CurveType.EaseInOutSine:\n            return (-.5 * (Math.cos(Math.PI * pos) - 1));\n        case CurveType.EaseInExpo:\n            return (pos === 0) ? 0 : Math.pow(2, 10 * (pos - 1));\n        case CurveType.EaseOutExpo:\n            return (pos === 1) ? 1 : -Math.pow(2, -10 * pos) + 1;\n        case CurveType.EaseInOutExpo:\n            if (pos === 0) {\n                return 0;\n            }\n            if (pos === 1) {\n                return 1;\n            }\n            // tslint:disable-next-line: no-conditional-assignment\n            if ((pos /= 0.5) < 1) {\n                return 0.5 * Math.pow(2, 10 * (pos - 1));\n            }\n            return 0.5 * (-Math.pow(2, -10 * --pos) + 2);\n        case CurveType.EaseInCirc:\n            return -(Math.sqrt(1 - (pos * pos)) - 1);\n        case CurveType.EaseOutCirc:\n            return Math.sqrt(1 - Math.pow((pos - 1), 2));\n        case CurveType.EaseInOutCirc:\n            // tslint:disable-next-line: no-conditional-assignment\n            if ((pos /= 0.5) < 1) {\n                return -0.5 * (Math.sqrt(1 - pos * pos) - 1);\n            }\n            return 0.5 * (Math.sqrt(1 - (pos -= 2) * pos) + 1);\n        case CurveType.EaseOutBounce:\n            if ((pos) < (1 / 2.75)) {\n                return (7.5625 * pos * pos);\n            } else if (pos < (2 / 2.75)) {\n                return (7.5625 * (pos -= (1.5 / 2.75)) * pos + .75);\n            } else if (pos < (2.5 / 2.75)) {\n                return (7.5625 * (pos -= (2.25 / 2.75)) * pos + .9375);\n            } else {\n                return (7.5625 * (pos -= (2.625 / 2.75)) * pos + .984375);\n            }\n        case CurveType.EaseInBack:\n            s = 1.70158;\n            return (pos) * pos * ((s + 1) * pos - s);\n        case CurveType.EaseOutBack:\n            s = 1.70158;\n            return (pos = pos - 1) * pos * ((s + 1) * pos + s) + 1;\n        case CurveType.EaseInOutBack:\n            s = 1.70158;\n            // tslint:disable-next-line: no-conditional-assignment\n            if ((pos /= 0.5) < 1) {\n                return 0.5 * (pos * pos * (((s *= (1.525)) + 1) * pos - s));\n            }\n            return 0.5 * ((pos -= 2) * pos * (((s *= (1.525)) + 1) * pos + s) + 2);\n        case CurveType.Elastic:\n        case CurveType.EaseOutElastic:\n            return -1 * Math.pow(4, -8 * pos) * Math.sin((pos * 6 - 1) * (2 * Math.PI) / 2) + 1;\n        case CurveType.EaseOutElasticTmp:\n            return -1 * Math.pow(6, -6 * pos) * Math.sin((pos * 6 - 1) * (2 * Math.PI) / 2) + 1;\n        case CurveType.SwingFromTo:\n            s = 1.70158;\n            // tslint:disable-next-line: no-conditional-assignment\n            return ((pos /= 0.5) < 1) ? 0.5 * (pos * pos * (((s *= (1.525)) + 1) * pos - s)) :\n                0.5 * ((pos -= 2) * pos * (((s *= (1.525)) + 1) * pos + s) + 2);\n        case CurveType.SwingFrom:\n            s = 1.70158;\n            return pos * pos * ((s + 1) * pos - s);\n        case CurveType.SwingTo:\n            s = 1.70158;\n            return (pos -= 1) * pos * ((s + 1) * pos + s) + 1;\n        case CurveType.Bounce:\n            if (pos < (1 / 2.75)) {\n                return (7.5625 * pos * pos);\n            } else if (pos < (2 / 2.75)) {\n                return (7.5625 * (pos -= (1.5 / 2.75)) * pos + .75);\n            } else if (pos < (2.5 / 2.75)) {\n                return (7.5625 * (pos -= (2.25 / 2.75)) * pos + .9375);\n            } else {\n                return (7.5625 * (pos -= (2.625 / 2.75)) * pos + .984375);\n            }\n        case CurveType.BouncePast:\n            if (pos < (1 / 2.75)) {\n                return (7.5625 * pos * pos);\n            } else if (pos < (2 / 2.75)) {\n                return 2 - (7.5625 * (pos -= (1.5 / 2.75)) * pos + .75);\n            } else if (pos < (2.5 / 2.75)) {\n                return 2 - (7.5625 * (pos -= (2.25 / 2.75)) * pos + .9375);\n            } else {\n                return 2 - (7.5625 * (pos -= (2.625 / 2.75)) * pos + .984375);\n            }\n        case CurveType.EaseFromTo:\n            // tslint:disable-next-line: no-conditional-assignment\n            if ((pos /= 0.5) < 1) {\n                return 0.5 * Math.pow(pos, 4);\n            }\n            return -0.5 * ((pos -= 2) * Math.pow(pos, 3) - 2);\n        case CurveType.EaseFrom:\n            return Math.pow(pos, 4);\n        case CurveType.EaseTo:\n            return Math.pow(pos, 0.25);\n        case CurveType.Sinusoidal:\n            return (-Math.cos(pos * Math.PI) / 2) + 0.5;\n        case CurveType.Reverse:\n            return 1 - pos;\n        case CurveType.Wobble:\n            return (-Math.cos(pos * Math.PI * (9 * pos)) / 2) + 0.5;\n        case CurveType.Spring:\n            return 1 - (Math.cos(pos * 4.5 * Math.PI) * Math.exp(-pos * 6));\n        default:\n            return pos;\n    }\n}\n\nexport function applyTransition(vfStage: VFStage, prevTexture: vf.RenderTexture, data: ITransitionData): void {\n    const transition = new Transition(vfStage, prevTexture, data);\n    transition.run();\n}\n\nexport function renderTexture(app: vf.Application,\n    container: vf.Container,\n    width: number,\n    height: number): vf.RenderTexture {\n\n    const w: number = width || app.view.width;\n    const h: number = height || app.view.height;\n\n    const texture = vf.RenderTexture.create({\n        width: w,\n        height: h,\n        scaleMode: vf.SCALE_MODES.LINEAR,\n    });\n    app.renderer.render(container, texture);\n    return texture;\n}\nexport function getCanvasColor(app: vf.Application, container: vf.Container,\n    x: number, y: number): Uint8Array {\n    // const canvas = app.view;\n    // console.log('canvas', canvas)\n    // const ctx = canvas.getContext('2d');\n    // console.log('2d', ctx)\n    // const c = ctx.getImageData(x, y, 1, 1).data;\n    // return c;\n    const texture = vf.RenderTexture.create({\n        width: 1,\n        height: 1,\n        scaleMode: vf.SCALE_MODES.LINEAR,\n    });\n    app.renderer.render(container, texture);\n    const pixels = app.renderer.extract.pixels(texture);\n    return pixels as any;\n\n}\nexport function webglDebug(app: vf.Application, container: vf.Container): void {\n    const c = getCanvasColor(app, container, 0, 0);\n    // tslint:disable-next-line: no-console\n    console.log(' canvas 0,0, color:', 'r:', c[0] / 255, 'g:', c[1], 'b:', c[2], c);\n}\n\nexport function isObject(obj: any): boolean {\n    return Object.prototype.toString.call(obj) === '[object Object]';\n}\nexport function isNumber(obj: any): boolean {\n    return typeof obj === 'number' && !isNaN(obj);\n}\nexport function isString(obj: any): boolean {\n    return typeof obj === 'string';\n}\nexport function isBoolean(obj: any): boolean {\n    return typeof obj === 'boolean';\n}\nexport function isArray(obj: any): boolean {\n    return Array.isArray(obj);\n}\n/**\n *\t 按指定格式替换字符串\n* @param str 原字符串 var str:string=\"a{0}c{1}e\";\n* @param rest 替换参数 stringFormat(str,\"b\",\"d\")\n* @return \n* \n*/\nexport function stringFormat(str: string, ...rest:any[]): string {\n    if (str == null) return '';\n    if(rest === undefined) return str;\n    \n    var len: number = rest.length;\n    var args: string[];\n    if (len == 1 && Array.isArray(rest[0])) {\n        args = rest[0];\n        len = args.length;\n    }\n    else {\n        args = rest;\n    }\n\n    for (var i = 0; i < len; i++) {\n        str = str.replace(new RegExp(\"\\\\${\" + i + \"\\\\}\", \"g\"), args[i]);\n    }\n\n    return str;\n}\n","/**\n * 获取加载文件的扩展名\n */\nexport function getFileExtension(url: string){\n    const isDataUrl = url.indexOf('data:') === 0;\n    let ext = '';\n\n    if (isDataUrl){\n        const slashIndex = url.indexOf('/');\n\n        ext = url.substring(slashIndex + 1, url.indexOf(';', slashIndex));\n    }else{\n        const queryStart = url.indexOf('?');\n        const hashStart = url.indexOf('#');\n        const index = Math.min(\n            queryStart > -1 ? queryStart : url.length,\n            hashStart > -1 ? hashStart : url.length\n        );\n\n        url = url.substring(0, index);\n        ext = url.substring(url.lastIndexOf('.') + 1);\n    }\n\n    return ext.toLowerCase();\n}","import { getFileExtension } from './getFileExtension';\nimport { getAssetType } from '../../../assets/Assets';\nimport { CDN } from '../core/model/IVFData';\nimport { AssetsType } from '../../../assets/IAssets';\n\nexport function getCdnUrl(url: string, cdns: CDN, index = 0): string {\n    if (url.indexOf('data:') === 0) {\n        return url;\n    }\n    const type = getAssetType(getFileExtension(url));\n    let cdn: string[] | string;\n\n    switch (type) {\n        case AssetsType.Image:\n            cdn = cdns.image;\n            break;\n        case AssetsType.Audio:\n        case AssetsType.Video:\n            cdn = cdns.media;\n            break;\n        default:\n            cdn = cdns.default;\n    }\n    cdn = cdn[Math.max(index, cdn.length - 1) % cdn.length];\n    if (url.indexOf('http') !== -1 || url.indexOf('//') === 0) {\n        cdn += url.substr(url.indexOf('/', url.indexOf('.')));\n    }\n    else {\n        cdn += url;\n    }\n\n    return cdn;\n}\n\nexport function getUrl(url: string, baseUrl = '', cdns?: CDN, index = 0): string {\n    if (baseUrl) {\n        if (url.indexOf('http') === -1 && url.indexOf('//') === -1) {\n            url = baseUrl + url;\n        }\n    }\n    else if (cdns) {\n        url = getCdnUrl(url, cdns, index);\n    }\n    else {\n        // 根据index.json的路径选择host，同时判断是否本地数据\n    }\n\n    return url;\n}\n","import { EventLevel } from '../event/EventLevel';\nimport IEvent from '../event/IEvent';\n\nexport interface Options {\n    timeout?: number;\n    responseType?: '' | 'arraybuffer' | 'blob' | 'json' | 'text';\n    method?: 'GET' | 'POST';\n    errorCount?: number;\n}\n\nfunction parseJson(text: any, result: IEvent): IEvent {\n    try {\n        result.data = ((typeof text) === 'string') ? JSON.parse(text) : text;\n\n        return result;\n    }\n    catch (e) {\n        result.code = 'S0000';\n        result.level = EventLevel.ERROR;\n        result.data = e;\n\n        return result;\n    }\n}\n\nfunction geXHRtData(target: XMLHttpRequest): IEvent | undefined {\n    const xhr = target;\n\n    if (xhr.readyState === 4 && xhr.status >= 400) { return; }\n\n    const msg: IEvent = {\n        code: '0',\n        level: EventLevel.COMMAND,\n        message: undefined,\n        data: null,\n    };\n\n    try {\n        const response = xhr.response || xhr.responseText;\n\n        switch (xhr.responseType) {\n            case 'json':\n                parseJson(response, msg);\n                break;\n            default:\n                msg.data = response;\n        }\n\n        return msg;\n    }\n    catch (error) {\n        msg.code = 'S0002';\n        msg.level = EventLevel.ERROR;\n        msg.data = `${xhr.responseURL} , ${error}`;\n        \n        return msg;\n    }\n}\n\n// eslint-disable-next-line max-len\nfunction removeEventListener<K extends keyof XMLHttpRequestEventTargetEventMap>(xhr: XMLHttpRequest, listener?: Array<[ K, (this: XMLHttpRequestEventTarget, ev: XMLHttpRequestEventTargetEventMap[K]) => any]>): void {\n    if (listener) {\n        listener.forEach((value) => {\n            xhr.removeEventListener(value[0], value[1]);\n        });\n        listener.length = 0;\n    }\n    xhr.onload = null;\n    xhr.onerror = null;\n    xhr.onreadystatechange = null;\n}\n\n/**\n * 读取文件\n * @param url 文件路径\n * @param options 文件配置\n * @param listener 监听回调\n */\n// eslint-disable-next-line max-len\nexport default function readFileSync<K extends keyof XMLHttpRequestEventTargetEventMap>(url: string, options: Options = {}, listener?: Array<[ K, (this: XMLHttpRequestEventTarget, ev: XMLHttpRequestEventTargetEventMap[K]) => any]>): Promise < any > {\n    return new Promise<any>((resolve, reject) => {\n        const errorCount = { cur: 0, max: options.errorCount || 1 };\n        const xhr = new XMLHttpRequest();\n\n        const method = options.method || 'GET';\n\n        xhr.timeout = options.timeout || 0;\n        xhr.responseType = options.responseType || 'text';\n\n        if (listener) {\n            listener.forEach((value) => {\n                xhr.addEventListener(value[0], value[1]);\n            });\n        }\n\n        xhr.onload = (evt: ProgressEvent) => {\n            const msg = geXHRtData(evt.target as XMLHttpRequest);\n\n            if (msg) {\n                if (msg.level === EventLevel.ERROR) {\n                    return reject(msg);\n                }\n                removeEventListener(xhr, listener);\n\n                return resolve(msg.data);\n            }\n        };\n\n        // eslint-disable-next-line @typescript-eslint/explicit-function-return-type\n        xhr.onreadystatechange = (evt: Event) => {\n            if (evt === undefined) {\n                return;\n            }\n            const xhr = evt.currentTarget as XMLHttpRequest;\n\n            if ((xhr.readyState === 2 || xhr.readyState === 4) && xhr.status >= 400) {\n                if (errorCount.cur >= errorCount.max) {\n                    removeEventListener(xhr, listener);\n\n                    return reject({ code: 'S0001', level: EventLevel.ERROR, data: [xhr.responseURL || url, xhr.status] });\n                }\n                errorCount.cur++;\n                xhr.abort();\n                xhr.open(method, url, true);\n                xhr.send();\n            }\n        };\n\n        xhr.onerror = (evt: Event) => {\n            const xhr = evt.currentTarget as XMLHttpRequest;\n\n            if (errorCount.cur >= errorCount.max) {\n                removeEventListener(xhr, listener);\n\n                return reject({ code: 'S0001', level: EventLevel.ERROR, data: [xhr.responseURL || url, xhr.status] });\n            }\n            errorCount.cur++;\n            xhr.abort();\n            xhr.open(method, url, true);\n            xhr.send();\n        };\n\n        xhr.open(method, url, true);\n        xhr.send();\n    });\n}\n\n/**\n * 赌球文件\n * @param url 文件路径\n * @param cdns  CDN路径 ，如果设置CDN，最终的地址为 cdn + url\n * @param options 选项\n * @param listener 可选监听\n * @example\n * const data = await readFileSyncExt('assets/xxx.mp3', []).catch(value=>{console.log(value)});\n */\n// eslint-disable-next-line max-len\nexport async function readFileSyncExt<K extends keyof XMLHttpRequestEventTargetEventMap>(url: string, cdns: string[], options: Options = {}, listener?: Array<[ K, (this: XMLHttpRequestEventTarget, ev: XMLHttpRequestEventTargetEventMap[K]) => any]>): Promise < any > {\n    if (cdns.length === 0) {\n        return await readFileSync(url, options, listener);\n    }\n\n    let err: any;\n\n    for (const value of cdns) {\n        const data = await readFileSync((value || '') + url, options, listener).catch((error: IEvent) => { err = error; });\n\n        if (data) {\n            return data;\n        }\n    }\n\n    return new Promise((resolve, reject) => { reject(err); });\n}\n"],"sourceRoot":""}